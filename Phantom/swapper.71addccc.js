(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=t.parcelRequire1d24;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},t.parcelRequire1d24=a),a.register("kram9",(function(n,t){e(n.exports,"useSwapperStore",(function(){return a("iTQ0V").useSwapperStore})),e(n.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return a("2UOPE").HIGH_PRICE_IMPACT_THRESHOLD})),e(n.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return a("2UOPE").HIGH_SLIPPAGE_THRESHOLD})),e(n.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return a("2UOPE").PHANTOM_SUPPORT_SWAP_FAILED_URL})),e(n.exports,"analyticsPayload",(function(){return a("1vR3U").analyticsPayload})),e(n.exports,"formatSecondsAsSwapTime",(function(){return a("eanp9").formatSecondsAsSwapTime})),e(n.exports,"isBridgeProviderRow",(function(){return a("bAQ4W").isBridgeProviderRow})),e(n.exports,"extractPrice",(function(){return a("4qSWN").extractPrice})),e(n.exports,"formatTokenAmountGreaterThan1",(function(){return a("dbFer").formatTokenAmountGreaterThan1})),e(n.exports,"createSwapperHooks",(function(){return a("2dP6h").createSwapperHooks})),e(n.exports,"useMultichainSwapSetBuyAsset",(function(){return a("4MMT9").useSwapSetBuyAsset})),e(n.exports,"useMultichainSwapSetSellAsset",(function(){return a("iA6sm").useSwapSetSellAsset})),e(n.exports,"useMultichainFeeBreakdown",(function(){return a("dMwYe").useFeeBreakdown})),e(n.exports,"useMultichainQuote",(function(){return a("iX5lP").useQuote})),e(n.exports,"SwapAssetSelectType",(function(){return a("kvuQ4").SwapAssetSelectType})),e(n.exports,"swapperShouldDehydrateQueryPredicate",(function(){return a("kRqRr").swapperShouldDehydrateQueryPredicate})),e(n.exports,"createSwapAnalytics",(function(){return a("3JFMB").createSwapAnalytics})),e(n.exports,"getCanSwapWithNetworkID",(function(){return a("kvkOw").getCanSwapWithNetworkID}));a("iTQ0V"),a("2UOPE"),a("1vR3U"),a("eanp9"),a("csOwI"),a("bAQ4W"),a("4qSWN"),a("dbFer"),a("2dP6h"),a("4MMT9"),a("iA6sm"),a("dMwYe"),a("iX5lP"),a("kvuQ4"),a("kRqRr"),a("3JFMB"),a("kvkOw")})),a.register("iTQ0V",(function(t,o){e(t.exports,"useSwapperStore",(function(){return i}));var r=a("gTwcH");const s={buyFungible:void 0,buyUsdValue:void 0,sellFungible:void 0,sellUsdValue:void 0,sellAmount:"",uiSellAmount:"",multichainQuoteResponse:void 0,selectedProviderIndex:0,gasEstimation:void 0,isFetchingGasEstimation:!1,maxGasEstimation:void 0,quoteFetchIntervalToggle:!0,refuelEnabled:!1,hasNoRoutes:!1,isFetchingQuote:!1,error:null},i=n(r)((e=>Object.assign(Object.assign({},s),{resetQuote:()=>e({multichainQuoteResponse:s.multichainQuoteResponse,isFetchingQuote:s.isFetchingQuote,hasNoRoutes:s.hasNoRoutes,selectedProviderIndex:s.selectedProviderIndex,error:s.error}),resetSwapper:()=>e({multichainQuoteResponse:s.multichainQuoteResponse,gasEstimation:s.gasEstimation,isFetchingGasEstimation:s.isFetchingGasEstimation,maxGasEstimation:s.maxGasEstimation,quoteFetchIntervalToggle:s.quoteFetchIntervalToggle,error:s.error,sellAmount:"",uiSellAmount:"",sellFungible:s.sellFungible,buyFungible:s.buyFungible}),setBuyFungible:n=>e({buyFungible:n}),setBuyUsdValue:n=>e({buyUsdValue:n}),setHasNoRoutes:n=>e({hasNoRoutes:n}),setIsFetchingQuote:n=>e({isFetchingQuote:n}),setMultichainQuoteResponse:n=>e({multichainQuoteResponse:n,hasNoRoutes:!1}),setSelectedProviderIndex:n=>e({selectedProviderIndex:n}),setGasEstimation:n=>e({gasEstimation:n}),setIsFetchingGasEstimation:n=>e({isFetchingGasEstimation:n}),setMaxGasEstimation:n=>e({maxGasEstimation:n}),setQuoteFetchIntervalToggle:n=>e({quoteFetchIntervalToggle:n}),setRefuelEnabled:n=>e({refuelEnabled:n}),setSellAmount:n=>e({sellAmount:n}),setSellUsdValue:n=>e({sellUsdValue:n}),setSellFungible:n=>e({sellFungible:n}),setUiSellAmount:n=>e({uiSellAmount:n}),setError:n=>e({error:n})})))})),a.register("2UOPE",(function(t,o){e(t.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return u})),e(t.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return l})),e(t.exports,"INITIAL_BUY_FUNGIBLE",(function(){return v})),e(t.exports,"INITIAL_SELL_FUNGIBLE",(function(){return w})),e(t.exports,"CHAIN_TO_NATIVE_FUNGIBLE",(function(){return y})),e(t.exports,"CHAIN_TO_USDC_FUNGIBLE",(function(){return h})),e(t.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return b})),e(t.exports,"BALANCE_HIDDEN_TEXT",(function(){return k})),e(t.exports,"MOBILE_SWAP_INPUT_MAX_LENGTH",(function(){return T})),e(t.exports,"WRAPPED_SOLANA_ADDRESS",(function(){return A}));var r=a("iOvk1"),s=a("5slFC"),i=a("kAKNF");const u=5,l=5,c={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},d={type:s.FungibleTokenType.SolanaNative,data:{amount:"0",balance:new(n(i))(0),chain:c,coingeckoId:"solana",decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"",spamStatus:s.SpamStatus.NotVerified}},p={type:s.FungibleTokenType.SPL,data:{amount:"0",balance:new(n(i))(0),chain:c,coingeckoId:"usd-coin",decimals:6,key:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",logoUri:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",splTokenAccountPubkey:"EAF7dH8Jy43Xgp68PhyybKhfKxk46NFRkWN4PMCLqMfS",symbol:"USDC",tokenAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",walletAddress:"",programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",spamStatus:s.SpamStatus.NotVerified}},g={type:s.FungibleTokenType.PolygonNative,data:{chain:{id:r.Chains.polygon.mainnetID,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol,imageUrl:r.Chains.polygon.iconUrl},walletAddress:"",decimals:18,amount:"72172806352057410682",logoUri:"https://wallet-asset.matic.network/img/tokens/matic.svg",name:"Polygon",symbol:"MATIC",coingeckoId:"matic-network",balance:new(n(i))(0),key:"PolygonNative",usd:79.02922295550286,price:1.095,usd_24h_change:-.19903579005681138,tokenAddress:void 0,spamStatus:s.SpamStatus.NotVerified}},m={type:s.FungibleTokenType.ERC20,data:{amount:"0",balance:new(n(i))(0),coingeckoId:null,decimals:6,key:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",logoUri:"https://wallet-asset.matic.network/img/tokens/usdc.svg",name:"USD Coin",symbol:"USDC",tokenAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",walletAddress:"",chain:{id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},contractAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",spamStatus:s.SpamStatus.NotVerified}},f={type:s.FungibleTokenType.EthereumNative,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",decimals:18,amount:"45824381294194610",logoUri:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png",name:"Ethereum",symbol:"ETH",coingeckoId:"ethereum",balance:new(n(i))(0),key:"EthereumNative",usd:85.14215868842653,price:1858.01,usd_24h_change:.0009391170983548136,tokenAddress:void 0,spamStatus:s.SpamStatus.NotVerified}},S={type:s.FungibleTokenType.ERC20,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",contractAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",decimals:6,amount:"1881092",logoUri:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389",name:"USD Coin",symbol:"USDC",coingeckoId:null,balance:new(n(i))(0),key:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",tokenAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",usd:1.8807026139560001,price:.999793,usd_24h_change:-.0005475429199477411,spamStatus:s.SpamStatus.NotVerified}},v=p,w=d,y=new Map([[r.NetworkIDs.Solana.Mainnet,d],[r.NetworkIDs.Ethereum.Mainnet,f],[r.NetworkIDs.Polygon.Mainnet,g]]),h=new Map([[r.NetworkIDs.Solana.Mainnet,p],[r.NetworkIDs.Ethereum.Mainnet,S],[r.NetworkIDs.Polygon.Mainnet,m]]),b="https://help.phantom.app/hc/en-us/articles/5985106844435",k="••••••",T=16,A="So11111111111111111111111111111111111111112"})),a.register("1vR3U",(function(n,t){e(n.exports,"legacyAnalyticsPayload",(function(){return l})),e(n.exports,"analyticsPayload",(function(){return c}));var o=a("iOvk1"),r=a("RVqnc"),s=a("eH8pa");const i=(e,n,t)=>{if(t){return(0,r.amountToUiAmount)(e,n).times((0,r.BigNumber)(t)).toNumber()}},u=(e,n)=>n&&e?n>e?n:e:null!=n?n:e;function l({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:a,buyAmount:s,sellAmount:l,phantomFeeUiAmount:c,priceImpact:d,provider:p}){var g,m;if(n&&a){const f=i(s,n.data.decimals,e),S=i(l,a.data.decimals,t),v=u(f,S);return{networkId:a.data.chain.id,chainId:o.Chains.getChainID(a.data.chain.id),toNetworkId:n.data.chain.id,toChainId:o.Chains.getChainID(n.data.chain.id),isBridge:a.data.chain.id!==n.data.chain.id,marketName:`${a.data.symbol}/${n.data.symbol}`,tradeDirection:"sell",swapSource:p,priceImpact:d,fromAssetSymbol:null!==(g=a.data.symbol)&&void 0!==g?g:"",fromAssetAddress:a.data.tokenAddress,fromAssetAmount:(0,r.amountToUiAmount)(l,a.data.decimals),fromAssetUsdPrice:t,fromAssetUsdVolume:S,toAssetSymbol:null!==(m=n.data.symbol)&&void 0!==m?m:"",toAssetAddress:n.data.tokenAddress,toAssetAmount:(0,r.amountToUiAmount)(s,n.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:f,totalUsdVolume:v,feeUsd:c}}return null}function c({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:o,quote:a}){var l,c,d,p,g,m,f;if(n&&o){const{buyAmount:S,sellAmount:v}=a,w="priceImpact"in a?a.priceImpact:0,y="sources"in a?(0,s.parseSwapSources)(a.sources):"",h=null!==(c="fees"in a?null===(l=a.fees.find((e=>"phantom"===e.type)))||void 0===l?void 0:l.amount.toString():"")&&void 0!==c?c:"",b=i(S,n.data.decimals,e),k=i(v,o.data.decimals,t),T=u(b,k);return{chainId:null!==(d=o.data.chain.id)&&void 0!==d?d:n.data.chain.id,swap:{marketName:`${o.data.symbol}/${n.data.symbol}`,tradeDirection:"sell",swapSource:y,priceImpact:w,fromAssetSymbol:null!==(p=o.data.symbol)&&void 0!==p?p:"",fromAssetAddress:null!==(g=o.data.tokenAddress)&&void 0!==g?g:"",fromAssetAmount:(0,r.amountToUiAmount)(v,o.data.decimals),fromAssetUsdPrice:null!=t?t:0,fromAssetUsdVolume:null!=k?k:0,toAssetSymbol:null!==(m=n.data.symbol)&&void 0!==m?m:"",toAssetAddress:null!==(f=n.data.tokenAddress)&&void 0!==f?f:"",toAssetAmount:(0,r.amountToUiAmount)(S,n.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:b,totalUsdVolume:null!=T?T:0,feeUsd:Number(h)}}}return null}})),a.register("eH8pa",(function(n,t){function o(e){const n=e.reduce(((e,n)=>e.add(n.name)),new Set);return Array.from(n).join(" + ")}e(n.exports,"parseSwapSources",(function(){return o}))})),a.register("eanp9",(function(n,t){e(n.exports,"formatSecondsAsSwapTime",(function(){return o}));const o=(e,n)=>{const t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),r=e%60;if(t>0)return n("swapProviderEstimatedTimeHM",{hours:t,minutes:o});if(o>0){return n("swapProviderEstimatedTimeM",{minutes:r>0?o+1:o})}return n("swapProviderEstimatedTimeS",{seconds:r})}})),a.register("csOwI",(function(t,o){e(t.exports,"formatTokenAmountForReviewScreen",(function(){return s}));var r=a("gXOkW");const s=(e,t)=>{const o=n(r)(e),a=o.value();if(Math.abs(a)>0&&Math.abs(a)<1e-5){return`< ${a<0?"-":""}0.00001`}return t>=12?o.format("0,0.[0]"):t>=9?o.format("0,0.[000]"):o.format("0,0.[00000]")}})),a.register("bAQ4W",(function(n,t){e(n.exports,"isBridgeProviderRow",(function(){return r}));var o=a("kvuQ4");const r=e=>o.BridgeProviderRow.safeParse(e).success})),a.register("kvuQ4",(function(n,t){e(n.exports,"ErrorResponse",(function(){return i})),e(n.exports,"SwapToken",(function(){return p})),e(n.exports,"SolanaSwapQuote",(function(){return w})),e(n.exports,"EvmSwapQuote",(function(){return y})),e(n.exports,"BridgeQuote",(function(){return A})),e(n.exports,"QuoteType",(function(){return E})),e(n.exports,"SwapperQuoteResponse",(function(){return I})),e(n.exports,"SwapProviderRow",(function(){return R})),e(n.exports,"BridgeProviderRow",(function(){return M})),e(n.exports,"SwapAssetSelectType",(function(){return Q}));var o=a("iOvk1"),r=a("cFUcx"),s=a("7XqVB");const i=s.z.object({name:s.z.string(),message:s.z.string()}),u=s.z.object({coingeckoId:s.z.optional(s.z.string())}),l=s.z.object({chainId:o.NetworkID,name:s.z.string(),symbol:s.z.string(),decimals:s.z.number(),logoURI:s.z.optional(s.z.string()),extensions:s.z.optional(u),includesBridge:s.z.optional(s.z.boolean())}),c=l.extend({address:s.z.string(),resourceType:s.z.literal(o.Caip19ResourceType.address)}),d=l.extend({slip44:s.z.string(),resourceType:s.z.literal(o.Caip19ResourceType.nativeToken)}),p=s.z.union([c,d]),g=s.z.enum(["network","phantom"]),m=s.z.object({name:s.z.string(),percentage:s.z.number(),amount:s.z.number(),type:g}),f=s.z.object({name:s.z.string(),proportion:s.z.string()}),S=s.z.object({sellAmount:s.z.string(),buyAmount:s.z.string()}),v=S.extend({priceImpact:s.z.number(),sources:s.z.array(f),fees:s.z.array(m)}),w=v.extend({transactionData:s.z.array(s.z.string())}),y=v.extend({allowanceTarget:s.z.string(),exchangeAddress:s.z.string(),gas:s.z.number(),value:s.z.string(),transactionData:s.z.string()}),h=s.z.object({name:s.z.string(),amount:s.z.string(),token:o.FungibleCaip19,percentage:s.z.string(),included:s.z.boolean()}),b=s.z.object({name:s.z.string(),key:s.z.string(),logoURI:s.z.string()}),k=s.z.object({name:s.z.string(),symbol:s.z.string()}),T=s.z.object({transactionData:s.z.string(),buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,nonIncludedNonGasFees:s.z.string(),feeCosts:s.z.array(h),chainId:o.NetworkID,tool:b,value:s.z.optional(s.z.string()),allowanceTarget:s.z.optional(s.z.string()),approvalMetadata:s.z.optional(k),exchangeAddress:s.z.optional(s.z.string()),gasCosts:s.z.optional(s.z.array(s.z.number()))}),A=S.extend({executionDuration:s.z.number(),tags:s.z.array(s.z.string()),steps:s.z.array(T),refuelAmount:s.z.optional(s.z.string())}),F=s.z.union([w,y,A]),E=s.z.enum(["solana","eip155","xchain"]),I=s.z.object({type:E,taker:o.FungibleCaip19,buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,slippageTolerance:s.z.number(),simulationTolerance:s.z.optional(s.z.number()),gasBuffer:s.z.optional(s.z.number()),quotes:s.z.array(F)}),C=s.z.enum(["swap-approval","swap","bridge-approval","bridge"]),x=s.z.enum(["swap","bridge"]),N=s.z.object({sellToken:o.FungibleCaip19,buyToken:o.FungibleCaip19,approvalMetadata:s.z.optional(k)}),P=s.z.object({type:s.z.literal("solana"),transactions:s.z.array(s.z.string()),transactionTypes:s.z.array(x),transactionPairs:s.z.optional(s.z.array(N))}),D=s.z.object({type:s.z.literal("evm"),transactions:s.z.array(r.EthUnsignedTransactionObject),transactionTypes:s.z.array(C),transactionPairs:s.z.optional(s.z.array(N))}),R=(s.z.union([P,D]),s.z.object({name:s.z.string(),fee:s.z.string()}).strict()),M=s.z.object({name:s.z.string(),fee:s.z.string(),amount:s.z.string(),tags:s.z.array(s.z.object({key:s.z.string(),text:s.z.string()})),time:s.z.object({text:s.z.string(),isFast:s.z.boolean()}),logoURI:s.z.string()});s.z.union([R,M]);var Q,O;(O=Q||(Q={})).Buy="buy",O.Sell="sell"})),a.register("4qSWN",(function(n,t){e(n.exports,"extractPrice",(function(){return s}));var o=a("iOvk1"),r=a("5slFC");const s=(e,n)=>{if(void 0===n)return;const t=(0,r.getFungibleCaip19FromFungible)(e);return n[(0,o.encodeCaip19)(t)]}})),a.register("dbFer",(function(t,o){e(t.exports,"formatTokenAmountGreaterThan1",(function(){return u})),e(t.exports,"amountToFormattedAmountGreaterThan1",(function(){return l}));var r=a("RVqnc"),s=a("kAKNF");const i=e=>e.isGreaterThanOrEqualTo(1)?"0,0.[00]":"0,0.[00000]",u=e=>{const t=n(s)(e);return(0,r.formatTokenAmount)(e,i(t))},l=(e,t)=>{const o=new(n(s))(e).div(new(n(s))(10).pow(t));return(0,r.formatTokenAmount)(o,i(o))}})),a.register("2dP6h",(function(n,t){e(n.exports,"createSwapperHooks",(function(){return C}));var o=a("7gANb"),r=a("dOGoW"),s=a("l7Y64"),i=a("SJcyj"),u=a("fLlWF"),l=a("a6NKv"),c=a("lvhYn"),d=a("kvkOw"),p=a("fxXvK"),g=a("5oPAK"),m=a("c5bbD"),f=a("lLpwA"),S=a("bFhoc"),v=a("2Zpaf"),w=a("hVvmZ"),y=a("dtI9r"),h=a("8vNNq"),b=a("lCzzn"),k=a("4f3Q0"),T=a("9PpHT"),A=a("iTLyO"),F=a("1obA0"),E=a("8QmNP"),I=a("6M54M");function C(e,n,t,a,C,x,N,P,D,R,M,Q){const O=new(0,o.PriorityFeeService);return{useSwapTransactions:e=>(0,l.useSwapTransactions)(Object.assign(Object.assign({},e),{transactionHooks:M,priorityFeeService:O})),useSwapClearQuotes:()=>(0,i.useSwapClearQuotes)(),useSwapRefuelProps:()=>(0,k.useSwapRefuelProps)({fungibleHooks:P,analytics:C}),useSwapCardProps:()=>(0,y.useSwapCardProps)({transactionHooks:M,priceHooks:N,accountHooks:D}),useCanSwapWithNetworkID:e=>(0,d.useCanSwapWithNetworkID)(Object.assign(Object.assign({},e),{accountHooks:D})),useSwapSellAssetProps:e=>(0,I.useSwapSellAssetProps)(Object.assign(Object.assign({},e),{transactionHooks:M,priceHooks:N,fungibleHooks:P,accountHooks:D,getApiEnvironment:t,queryClient:a})),useSwapProvidersProps:e=>(0,b.useSwapProvidersProps)(Object.assign(Object.assign({},e),{accountHooks:D,fungibleHooks:P,transactionHooks:M,priceHooks:N,getApiEnvironment:t,analytics:C})),useSwapReviewProps:()=>(0,A.useSwapReviewProps)({accountHooks:D,priceHooks:N}),useSwapReviewButtonProps:()=>(0,T.useSwapReviewButtonProps)({accountHooks:D,fungibleHooks:P,transactionHooks:M,priceHooks:N}),useSwapConfirmationProps:t=>(0,h.useSwapConfirmationProps)(Object.assign(Object.assign({},t),{accountSigner:e,storage:n,fungibleHooks:P,priceHooks:N,settingsHooks:R,analytics:C,asyncSwapAnalytics:x,accountHooks:D,simulationHooks:Q,transactionHooks:M,priorityFeeService:O})),useSwapSellAssetList:()=>(0,E.useSwapSellAssetList)({fungibleHooks:P}),useSwapBuyAssetProps:e=>(0,w.useSwapBuyAssetProps)(Object.assign(Object.assign({},e),{priceHooks:N,analytics:C})),useSwapBuyAssetList:e=>(0,v.useSwapBuyAssetList)(Object.assign(Object.assign({},e),{fungibleHooks:P,accountHooks:D,getApiEnvironment:t})),useLiveSwapBuyAssetList:e=>(0,g.useLiveSwapBuyAssetList)(Object.assign(Object.assign({},e),{fungibleHooks:P,accountHooks:D,getApiEnvironment:t})),useInitialAssets:e=>(0,p.useInitialAssets)(Object.assign(Object.assign({},e),{accountHooks:D,fungibleHooks:P,getApiEnvironment:t})),useSubscribeSwapQuoteToQueries:e=>(0,S.useSubscribeSwapQuoteToQueries)(Object.assign(Object.assign({},e),{accountHooks:D,fungibleHooks:P,priceHooks:N,getApiEnvironment:t,analytics:C,storage:n})),useSubscribeGasEstimation:()=>(0,f.useSubscribeGasEstimation)({accountHooks:D,transactionHooks:M,simulationHooks:Q,priorityFeeService:O}),useSwapScanTransaction:e=>(0,F.useSwapScanTransaction)(Object.assign(Object.assign({},e),{accountHooks:D,simulationHooks:Q})),useBridgeRefuelProps:()=>(0,c.useBridgeRefuelProps)({fungibleHooks:P,priceHooks:N,analytics:C}),useSlippageSettingsViewState:e=>(0,m.useSlippageSettingsViewState)(Object.assign(Object.assign({},e),{analytics:C,storage:n})),useSlippageTolerance:()=>(0,u.useSwapStorageValue)({storage:n,key:u.StorageKeySwapper.SlippageTolerance,queryKey:r.swapperQueryKeys.slippageTolerance()}),useMultichainSwapFungibles:e=>(0,s.useMultichainSwapFungibles)(Object.assign(Object.assign({},e),{storage:n}))}}})),a.register("dOGoW",(function(n,t){e(n.exports,"SWAPPER_QUERY_KEYS_PREFIX",(function(){return r})),e(n.exports,"swapperQueryKeys",(function(){return i}));const o="swapper";var r,a;(a=r||(r={})).pairs="pairs",a.quotes="quotes",a.transactions="transactions";const s=[o,r.quotes],i={pairs:(e,n,t)=>[o,r.pairs,{sellToken:e,supportedNetworkIds:n,enableNativeBridgePairs:t}],quotesScope:()=>s,quotes:(e,n,t,o,r,a,i)=>[...s,{sellToken:e,buyToken:n,taker:t,takerDestination:i,sellAmount:o,slippageTolerance:r,refuelEnabled:a}],transactions:e=>[o,r.transactions,e],slippageTolerance:()=>[o,"slippageTolerance"]}})),a.register("l7Y64",(function(n,t){e(n.exports,"useMultichainSwapFungibles",(function(){return l}),(function(e){return l=e}));var o=a("7mQ3Y"),r=a("9W7fs"),s=a("kIxM0"),i=a("bjg8b"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=({accountIdentifier:e,networkID:n,accountSigner:t,storage:a})=>(0,r.useMutation)({mutationFn:r=>u(void 0,void 0,void 0,(function*(){const{swapTransactions:u,type:l}=r;if("evm"===u.type&&l===o.AddressType.EVM){const{gasEstimation:o,pendingApprovalActivityRows:i,pendingSwapActivityRows:c}=r,{signature:d,error:p}=yield(0,s.swapTransactionEvm)({transactions:u.transactions,transactionTypes:u.transactionTypes,networkID:n,gasEstimation:o,pendingSwapActivityRows:c,pendingApprovalActivityRows:i,accountIdentifier:e,accountSigner:t,storage:a});return{networkID:n,chainType:l,id:d,error:p}}if("solana"===u.type&&l===o.AddressType.Solana){const{callerAddress:o,connection:s,pendingSwapActivityRows:c}=r;if(!s)throw new Error("missing connection");const{signature:d,error:p}=yield(0,i.swapTransactionSolana)({callerAddress:o,connection:s,networkID:n,transactions:u.transactions,pendingSwapActivityRows:c,accountIdentifier:e,accountSigner:t,storage:a});return{networkID:n,chainType:l,id:d,error:p}}throw new Error("unsupported")}))})})),a.register("kIxM0",(function(n,t){e(n.exports,"swapTransactionEvm",(function(){return u}),(function(e){return u=e}));var o=a("cFUcx"),r=a("7gANb"),s=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const i=({networkID:e,unsignedTransaction:n,pendingActivityRows:t,accountIdentifier:o,accountSigner:a,storage:s,includeCallPayload:i})=>Object.assign(Object.assign({accountSigner:a,accountIdentifier:o,networkID:e,unsignedTransaction:n},i&&{callPayload:{from:n.from,to:n.to,data:n.data,value:n.value}}),{pendingTransactionInput:{ownerAddress:n.from,networkID:e,data:{nonce:"",unsignedTransaction:n,hash:""},type:r.PendingTransactionType.Swap,display:{summary:t}},storage:s}),u=e=>s(void 0,[e],void 0,(function*({transactions:e,transactionTypes:n,networkID:t,gasEstimation:a,pendingApprovalActivityRows:s,pendingSwapActivityRows:u,accountIdentifier:l,accountSigner:c,storage:d}){let p=!0,g="";for(const[m,f]of e.entries()){const e=a[m],S={gas:`0x${e.gasLimit.toString(16)}`,maxFeePerGas:`0x${e.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${e.maxPriorityFeePerGas.toString(16)}`},v=o.EthUnsignedTransactionObject.parse(Object.assign(Object.assign({},f),S)),w=n[m].includes("approval")?s:u,y=i({networkID:t,accountIdentifier:l,pendingActivityRows:w.shift(),accountSigner:c,storage:d,unsignedTransaction:v,includeCallPayload:p});try{g=yield(0,r.signAndSendEthereumTransactionAsync)(y)}catch(e){return{signature:g,error:e instanceof Error?e:new Error("Failed to process EVM swap transaction")}}p&&(p=!1)}return{signature:g}}))})),a.register("bjg8b",(function(n,t){e(n.exports,"swapTransactionSolana",(function(){return u}),(function(e){return u=e}));var o=a("hMVEP"),r=a("7gANb"),s=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const i=({networkID:e,transaction:n,feePayer:t,connection:o,pendingActivityRows:a,accountIdentifier:s,accountSigner:i,storage:u})=>({accountSigner:i,accountIdentifier:s,transaction:n,feePayer:t,connection:o,opts:{skipPreflight:!0},pendingTransactionInput:{ownerAddress:t.toBase58(),networkID:e,data:{signature:""},type:r.PendingTransactionType.Swap,display:{summary:a}},storage:u}),u=e=>s(void 0,[e],void 0,(function*({callerAddress:e,connection:n,networkID:t,transactions:a,pendingSwapActivityRows:s,accountIdentifier:u,accountSigner:l,storage:c}){const d=new(0,o.PublicKey)(e);let p;for(const[e,g]of a.entries()){const m=(0,o.transactionStringToTransaction)(g,"bs58"),f=(yield n.getLatestBlockhash("confirmed")).blockhash;(0,o.setRecentBlockhash)(m,f);const S=i({networkID:t,transaction:m,feePayer:d,connection:n,pendingActivityRows:s[e],accountIdentifier:u,accountSigner:l,storage:c});try{p=yield(0,r.signAndSendSolanaTransactionAsync)(S),e!==a.length-1&&(yield(0,r.waitForTransactionConfirmation)({connection:n,signature:p}))}catch(e){return{signature:null!=p?p:"",error:e instanceof Error?e:new Error("Failed to process solana swap transaction")}}}return{signature:null!=p?p:""}}))})),a.register("SJcyj",(function(n,t){e(n.exports,"useSwapClearQuotes",(function(){return u}),(function(e){return u=e}));var o=a("7dHjq"),r=a("iTQ0V"),s=a("dOGoW"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const u=()=>{const e=(0,o.useQueryClient)(),n=(0,r.useSwapperStore)();return{clearQuotes:()=>i(void 0,void 0,void 0,(function*(){n.resetQuote(),yield e.invalidateQueries(s.swapperQueryKeys.quotesScope())}))}}})),a.register("fLlWF",(function(n,t){e(n.exports,"StorageKeySwapper",(function(){return o}),(function(e){return o=e})),e(n.exports,"useSwapStorageValue",(function(){return d}),(function(e){return d=e})),e(n.exports,"useSetSwapStorageValue",(function(){return p}),(function(e){return p=e}));var o,r=a("csW2r"),s=a("9W7fs"),i=a("5ekp2"),u=a("7dHjq"),l=a("6BFZj"),c=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function d({storage:e,key:n,queryKey:t,defaultValue:o=null}){return(0,i.useQuery)({enabled:!0,queryKey:t,cacheTime:l.CacheTime.Long,staleTime:l.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){try{return yield e.get(n)}catch(e){return e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper),o}}))}})}function p({storage:e,key:n,queryKey:t}){const o=(0,u.useQueryClient)();return(0,s.useMutation)({mutationFn(t){return c(this,void 0,void 0,(function*(){try{return yield e.set(n,t)}catch(e){return void(e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper))}}))},onMutate(e){return c(this,void 0,void 0,(function*(){yield o.cancelQueries(t);const n=o.getQueryData(t);return o.setQueryData(t,e),{previousValue:n}}))},onError(e,n,r){o.setQueryData(t,null==r?void 0:r.previousValue)}})}(o||(o={})).SlippageTolerance="slippageTolerance"})),a.register("6BFZj",(function(n,t){e(n.exports,"CacheTime",(function(){return o})),e(n.exports,"StaleTime",(function(){return s})),e(n.exports,"RefetchInterval",(function(){return u}));var o,r,s,i,u,l,c=a("RVqnc");(r=o||(o={}))[r.Always=1/0]="Always",r[r.Short=(0,c.toMilliseconds)({days:1})]="Short",r[r.Medium=(0,c.toMilliseconds)({days:3})]="Medium",r[r.Long=(0,c.toMilliseconds)({days:7})]="Long",(i=s||(s={}))[i.Immediate=0]="Immediate",i[i.Short=(0,c.toMilliseconds)({minutes:1})]="Short",i[i.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",i[i.Long=(0,c.toMilliseconds)({minutes:60})]="Long",i[i.Never=1/0]="Never",(l=u||(u={}))[l.Short=(0,c.toMilliseconds)({seconds:20})]="Short",l[l.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",l[l.Long=(0,c.toMilliseconds)({minutes:5})]="Long"})),a.register("a6NKv",(function(t,o){e(t.exports,"useSwapTransactions",(function(){return w}),(function(e){return w=e}));var r=a("iOvk1"),s=a("cFUcx"),i=a("hMVEP"),u=a("csW2r"),l=a("7gANb"),c=a("5ekp2"),d=a("kAKNF"),p=a("dNQbj"),g=a("dOGoW"),m=a("6BFZj"),f=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const S=e=>f(void 0,[e],void 0,(function*({callerAddress:e,contractAddress:t,networkId:o,sellAmount:a,allowanceTarget:i,exchangeAddress:u,value:c,transactionData:p,type:g}){const m=[],f=[];if(t){if((yield(0,l.getERC20Allowance)({callerAddress:e,spender:i,networkId:o,contractAddress:t})).lt(a.toString())){const n=yield(0,l.getERC20Approval)({callerAddress:e,spender:i,networkId:o,contractAddress:t});m.push(n),f.push(`${g}-approval`)}}const S=s.EthUnsignedTransactionObject.parse(Object.assign({type:s.TransactionTypes.eip1559,from:e,data:p,chainId:r.Chains.getEVMNetworkIDValue(o),to:u},"0"===c?{}:{value:`0x${new(n(d))(c).toString(16)}`}));return m.push(S),f.push(g),{transactions:m,transactionTypes:f}})),v=e=>f(void 0,[e],void 0,(function*({quote:e,priorityFeeService:n,connection:t}){const o=e.transactionData.map((e=>((e,n,t)=>f(void 0,void 0,void 0,(function*(){const o=(0,i.transactionStringToTransaction)(e,"bs58");return yield n.addPriorityFee(o,{connection:t,transactionType:l.TransactionTypeValue.Swap})})))(e,n,t))),r=(yield Promise.all(o)).map((e=>l.TransactionSerializationUtils.serialize(e).transaction));return{type:"solana",transactionTypes:r.map((()=>"swap")),transactions:r}})),w=({transactionHooks:e,priorityFeeService:n,callerAddress:t,sellFungible:o,quote:a})=>{const{connection:s}=e.useSelectedSolanaConnection(),i=g.swapperQueryKeys.transactions(a);return(0,c.useQuery)({queryKey:i,enabled:!!a,cacheTime:0,staleTime:0,refetchInterval:m.RefetchInterval.Short,onError(e){e instanceof Error&&u.telemetry.captureError(e,u.FeatureTag.Swapper)},queryFn(){return f(this,void 0,void 0,(function*(){if(!a)throw new Error("Missing quote");const e=null==o?void 0:o.data.chain.id;if((0,p.isSingleNetworkSwapQuote)(a)){if(r.Chains.isEVMNetworkID(e)&&(0,p.isEvmSwapQuote)(a))return f(void 0,[{networkId:e,callerAddress:t,quote:a,sellFungible:o}],void 0,(function*({networkId:e,callerAddress:n,quote:t,sellFungible:o}){var r;const a=null!==(r=null==o?void 0:o.data.tokenAddress)&&void 0!==r?r:"",{allowanceTarget:s,exchangeAddress:i,sellAmount:u,value:l}=t,c=yield S({callerAddress:n,contractAddress:a,networkId:e,sellAmount:u,allowanceTarget:s,exchangeAddress:i,value:l,transactionData:t.transactionData,type:"swap"});return Object.assign({type:"evm"},c)}));if(r.Chains.isSolanaNetworkID(e)&&(0,p.isSolanaSwapQuote)(a))return v({quote:a,priorityFeeService:n,connection:s});throw new Error(`Single network swap quote not supported for network ID ${e}`)}if((0,p.isBridgeQuote)(a)){if(r.Chains.isEVMNetworkID(e))return f(void 0,[{networkId:e,callerAddress:t,quote:a}],void 0,(function*({networkId:e,callerAddress:n,quote:t}){const{sellAmount:o,steps:a}=t,s=[],i=[],u=[];for(const t of a){const{allowanceTarget:a,exchangeAddress:l,value:c,transactionData:d,sellToken:p,buyToken:g,approvalMetadata:m}=t,f=p.resourceType===r.Caip19ResourceType.address?p.address:null,v=0===r.Chains.compareNetworkID(p.chainId,g.chainId)?"swap":"bridge";if(!(a&&l&&d&&c))throw new Error("Missing bridge step data for EVM bridge quote.");const w=yield S({callerAddress:n,contractAddress:f,networkId:e,sellAmount:o,allowanceTarget:a,exchangeAddress:l,value:c,transactionData:d,type:v});s.push(...w.transactions),i.push(...w.transactionTypes),u.push({sellToken:p,buyToken:g,approvalMetadata:m}),2==w.transactionTypes.length&&w.transactionTypes.find((e=>e.includes("approval")))&&u.push({sellToken:p,buyToken:g,approvalMetadata:m})}return{type:"evm",transactions:s,transactionTypes:i,transactionPairs:u}}));if(r.Chains.isSolanaNetworkID(e))return(e=>f(void 0,void 0,void 0,(function*(){const n=e.steps.reduce(((e,n)=>{const{transactionData:t,sellToken:o,buyToken:a}=n,s=0===r.Chains.compareNetworkID(o.chainId,a.chainId)?"swap":"bridge",i=[...e.transactions],u=[...e.transactionTypes],l=[...e.transactionPairs];return i.push(t),u.push(s),l.push({sellToken:o,buyToken:a}),{transactions:i,transactionTypes:u,transactionPairs:l}}),{transactions:[],transactionTypes:[],transactionPairs:[]});return Object.assign({type:"solana"},n)})))(a);throw new Error(`Bridge quote not supported for network ID ${e}`)}throw new Error("Swap quote type not supported")}))}})}})),a.register("dNQbj",(function(n,t){e(n.exports,"isBridgeQuote",(function(){return r})),e(n.exports,"isSolanaSwapQuote",(function(){return s})),e(n.exports,"isEvmSwapQuote",(function(){return i})),e(n.exports,"isSingleNetworkSwapQuote",(function(){return u}));var o=a("kvuQ4");function r(e){return o.BridgeQuote.safeParse(e).success}function s(e){return o.SolanaSwapQuote.safeParse(e).success}function i(e){return o.EvmSwapQuote.safeParse(e).success}function u(e){return s(e)||i(e)}})),a.register("lvhYn",(function(t,o){e(t.exports,"useBridgeRefuelProps",(function(){return d}));var r=a("iOvk1"),s=a("56oyT"),i=a("RVqnc"),u=a("kAKNF"),l=a("iX5lP"),c=a("4f3Q0");const d=({fungibleHooks:e,priceHooks:t,analytics:o})=>{const{isFetchingQuote:a}=(0,l.useQuote)(),{refuelEnabled:d,setRefuelEnabled:p,refuelAmount:g,uiRefuelAmount:m,buyNativeToken:{symbol:f,balance:S,decimals:v,chain:w}}=(0,c.useSwapRefuelProps)({fungibleHooks:e,analytics:o}),y=w?(0,r.getNativeFungibleCaip19ForChain)(w):void 0,{data:h}=t.usePrice({query:y?{data:y}:void 0});let b="";if((null==h?void 0:h.usd)&&g&&v){const e=(0,s.assetToDollars)((0,i.amountToUiAmount)(new(n(u))(g),v).toNumber(),h.usd);b=(0,i.formatDollarAmount)(e)}return{symbol:f,balance:S,refuelAmount:g,uiRefuelAmount:m,estimatedCost:b,refuelEnabled:d,setRefuelEnabled:p,isFetchingQuote:a}}})),a.register("iX5lP",(function(n,t){e(n.exports,"useQuote",(function(){return s}));var o=a("29o0l"),r=a("iTQ0V");function s(){var e,n;const t=(0,r.useSwapperStore)((e=>e.multichainQuoteResponse)),a=(0,r.useSwapperStore)((e=>e.hasNoRoutes)),s=(0,r.useSwapperStore)((e=>e.selectedProviderIndex)),i=(0,r.useSwapperStore)((e=>e.isFetchingQuote)),u=(0,o.useMemo)((()=>t?t.quotes:[]),[t]),l=u.length>0?u[s]:void 0;return{bestBuyAmount:null!==(n=null===(e=u[0])||void 0===e?void 0:e.buyAmount)&&void 0!==n?n:"",currentQuote:l,hasNoRoutes:a,multichainQuoteResponse:t,quotes:u,selectedProviderIndex:s,isFetchingQuote:i}}})),a.register("4f3Q0",(function(n,t){e(n.exports,"useSwapRefuelProps",(function(){return m}));var o=a("iOvk1"),r=a("5slFC"),s=a("43063"),i=a("RVqnc"),u=a("29o0l"),l=a("iTQ0V"),c=a("fahdI"),d=a("dNQbj"),p=a("c8n6I"),g=a("iX5lP");const m=({fungibleHooks:e,analytics:n})=>{var t,a;const{currentQuote:m}=(0,g.useQuote)(),f=(0,p.useIsRefuelSupported)({fungibleHooks:e}),S=(0,l.useSwapperStore)((e=>e.buyFungible)),v=null==S?void 0:S.data.chain.id,{fungible:w}=e.useGetFungibleBalance({key:v?(0,r.networkIdToNativeTokenFungibleKey)(v):void 0}),y=v?o.Chains.getTokenSymbol(v):"",h=null!==(t=null==w?void 0:w.data.decimals)&&void 0!==t?t:0,b=v?o.Chains.getChainID(v):void 0,k=(0,l.useSwapperStore)((e=>e.refuelEnabled)),T=(0,l.useSwapperStore)((e=>e.setRefuelEnabled)),A=(0,u.useCallback)((e=>{n.capture("swapperRefuelToggle",{data:{value:e}}),T(e)}),[T,n]),F=(0,d.isBridgeQuote)(m)?m.refuelAmount:void 0,E=F?`${(0,i.amountToFormattedAmount)(null!=F?F:0,h)} ${y}`:void 0,I=(0,i.amountToFormattedAmount)(null!==(a=null==w?void 0:w.data.amount)&&void 0!==a?a:0,h),C=(0,c.shouldShowRefuelOption)(f,k,F);return{label:s.i18next.t("bridgeRefuelTitle"),refuelSupported:f,refuelEnabled:k,setRefuelEnabled:A,refuelAmount:F,uiRefuelAmount:E,showRefuelOption:C,buyNativeToken:{chain:b,symbol:y,balance:I,decimals:h}}}})),a.register("fahdI",(function(n,t){e(n.exports,"shouldShowRefuelOption",(function(){return o}));const o=(e,n,t)=>!(!e||n&&!t)})),a.register("c8n6I",(function(t,o){e(t.exports,"useIsRefuelSupported",(function(){return p}));var r=a("iOvk1"),s=a("5slFC"),i=a("kAKNF"),u=a("29o0l"),l=a("iTQ0V"),c=a("9XJOV"),d=a("adhE7");const p=({fungibleHooks:e})=>{const[t,o]=(0,u.useState)(!1),a=(0,l.useSwapperStore)((e=>e.sellFungible)),p=(0,l.useSwapperStore)((e=>e.buyFungible)),g=null==p?void 0:p.data.chain.id,m=(0,d.isBridgeSwap)(null==a?void 0:a.data.chain.id,null==p?void 0:p.data.chain.id),{fungible:f}=e.useGetFungibleBalance({key:g?(0,s.networkIdToNativeTokenFungibleKey)(g):void 0});return(0,u.useEffect)((()=>{var e;if(!f)return void o(!1);const t=c.DEFAULT_FEES[m?"bridge":"swap"][r.Chains.getChainID(f.data.chain.id)],a=new(n(i))(null!==(e=f.data.amount)&&void 0!==e?e:0).gte(t);o(m&&!a)}),[f,m,o]),t}})),a.register("9XJOV",(function(t,o){e(t.exports,"DEFAULT_FEES",(function(){return c})),e(t.exports,"getMaxSellAmount",(function(){return p}));var r=a("iOvk1"),s=a("5slFC"),i=a("7gANb"),u=a("RVqnc"),l=a("kAKNF");const c={swap:{[r.Chain.Bitcoin]:new(n(l))(0),[r.Chain.Solana]:new(n(l))(3e6),[r.Chain.Ethereum]:new(n(l))(2.5*10**16),[r.Chain.Polygon]:new(n(l))(6*10**16)},bridge:{[r.Chain.Bitcoin]:new(n(l))(0),[r.Chain.Solana]:new(n(l))(3e6),[r.Chain.Ethereum]:new(n(l))(3.75*10**16),[r.Chain.Polygon]:new(n(l))(6*10**16)}},d=new(n(l))(356190);function p({sellFungible:e,totalFees:t,transactionSpeedsToUnitCost:o,isBridge:a=!1}){const{decimals:p,amount:g,chain:m}=e.data,f=new(n(l))(g);let S=c[a?"bridge":"swap"][r.Chains.getChainID(m.id)];const v=null==o?void 0:o[i.TransactionSpeed.standard];(0,i.isEvmTransactionUnitCost)(v)&&(S=d.multipliedBy(v.maxFeePerGas.plus(v.maxPriorityFeePerGas)));const w=(0,s.isNative)(e.type)?S:t,y=e&&(0,s.isNative)(e.type)&&f.gt(w)?f.minus(w).toString():f.toString();return(0,u.amountToUiAmountString)(y,p)}})),a.register("adhE7",(function(n,t){e(n.exports,"isBridgeSwap",(function(){return r}));var o=a("iOvk1");const r=(e,n)=>!!e&&!!n&&0!==o.Chains.compareNetworkID(e,n)})),a.register("kvkOw",(function(n,t){e(n.exports,"useCanSwapWithNetworkID",(function(){return r})),e(n.exports,"getCanSwapWithNetworkID",(function(){return s}));var o=a("30pgP");const r=({networkID:e,accountHooks:n})=>{const t=(0,o.useSupportedNetworkIDs)({accountHooks:n});return!!e&&t.includes(e)},s=({account:e,networkID:n})=>{const t=(0,o.getSupportedNetworkIDs)(e);return!!n&&t.includes(n)}})),a.register("30pgP",(function(n,t){e(n.exports,"useSupportedNetworkIDs",(function(){return s})),e(n.exports,"getSupportedNetworkIDs",(function(){return i}));var o=a("iOvk1"),r=a("29o0l");const s=({accountHooks:e})=>{const{data:n}=e.useSelectedMultiChainAccount();return(0,r.useMemo)((()=>i(n)),[n])},i=e=>{var n;return[...new Set((null!==(n=null==e?void 0:e.addresses)&&void 0!==n?n:[]).map((e=>e.networkID)).filter((e=>o.SolanaNetworkID.Mainnet===e||o.EthereumNetworkID.Mainnet===e||o.PolygonNetworkID.Mainnet===e)))]}})),a.register("fxXvK",(function(n,t){e(n.exports,"useInitialAssets",(function(){return f}));var o=a("iOvk1"),r=a("5slFC"),s=a("RVqnc"),i=a("29o0l"),u=a("2UOPE"),l=a("iTQ0V"),c=a("fx1OB"),d=a("2Zpaf"),p=a("8QmNP");const g=e=>{if(e)try{return(0,o.decodeCaip19)(e)}catch(e){return}},m=(e,n)=>{const t=(0,r.getFungibleTokenTypeFromFungibleCaip19)(n);return e.find((e=>{if((0,r.isNative)(t)&&t===e.type)return!0;if(n.resourceType===o.Caip19ResourceType.address){const t=(0,r.parseFungibleKey)(e);return(0,o.isEvmCaip19Address)(n)?(0,s.equalsIgnoringCase)(n.address,t):n.address===t}}))};function f({paramsSellFungible:e,paramsSellAmount:n,paramsBuyFungible:t,enableNativeBridgePairs:o,accountHooks:a,fungibleHooks:s,getApiEnvironment:f}){const S=(0,i.useMemo)((()=>g(e)),[e]),v=(0,i.useMemo)((()=>g(t)),[t]),w=n,[y,h]=(0,i.useState)(!1),[b,k]=(0,i.useState)(!1),{data:T}=a.useSelectedMultiChainAccount(),{assets:A,isLoading:F}=(0,p.useSwapSellAssetList)({fungibleHooks:s}),{assets:E,isLoading:I}=(0,d.useSwapBuyAssetList)({fungibleHooks:s,accountHooks:a,getApiEnvironment:f,enableNativeBridgePairs:o,enableQuery:!!v}),C=(0,c.useInitialSellFungible)({accountHooks:a}),x=(0,l.useSwapperStore)((e=>e.setBuyFungible)),N=(0,l.useSwapperStore)((e=>e.setSellFungible)),P=(0,l.useSwapperStore)((e=>e.setUiSellAmount)),D=(0,l.useSwapperStore)((e=>e.setSellAmount));(0,i.useEffect)((()=>{N(void 0),h(!1),x(void 0),k(!1)}),[S,v,N,x,null==T?void 0:T.identifier]),(0,i.useEffect)((()=>{if(y)return;let e;if(S){if(F)return;e=m(A,S),e||((0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(S))?e=u.CHAIN_TO_NATIVE_FUNGIBLE.get(S.chainId):v&&v.chainId===S.chainId&&(e=(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(v))?u.CHAIN_TO_USDC_FUNGIBLE.get(v.chainId):u.CHAIN_TO_NATIVE_FUNGIBLE.get(v.chainId)))}else e=!S&&v?(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(v))?u.CHAIN_TO_USDC_FUNGIBLE.get(v.chainId):u.CHAIN_TO_NATIVE_FUNGIBLE.get(v.chainId):C;h(!0),N(e)}),[S,v,C,A,N,F,y]),(0,i.useEffect)((()=>{if(b)return;let e;if(v){if(I)return;e=m(E,v),!e&&(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(v))&&(e=u.CHAIN_TO_NATIVE_FUNGIBLE.get(v.chainId))}k(!0),x(e)}),[v,E,I,x,b]),(0,i.useEffect)((()=>{w&&(D(w),P(w))}),[w,P,D]);return{isLoading:!(!S&&!v||b&&y)}}})),a.register("fx1OB",(function(n,t){e(n.exports,"useInitialSellFungible",(function(){return s}));var o=a("29o0l"),r=a("eJ9Jg");const s=({accountHooks:e})=>{const n=e.useSelectedNetworks();return(0,o.useMemo)((()=>(0,r.getInitialSellFungible)(n)),[n])}})),a.register("eJ9Jg",(function(n,t){e(n.exports,"getInitialSellFungible",(function(){return r}));var o=a("2UOPE");const r=e=>{var n;return 0===e.length?o.INITIAL_SELL_FUNGIBLE:null!==(n=o.CHAIN_TO_NATIVE_FUNGIBLE.get(e[0]))&&void 0!==n?n:o.INITIAL_SELL_FUNGIBLE}})),a.register("2Zpaf",(function(n,t){e(n.exports,"useSwapBuyAssetList",(function(){return g}));var o=a("iOvk1"),r=a("5slFC"),s=a("29o0l"),i=a("2UOPE"),u=a("j3ma1"),l=a("iTQ0V"),c=a("2EDKH"),d=a("30pgP"),p=a("hNhmc");function g({fungibleHooks:e,accountHooks:n,getApiEnvironment:t,enableNativeBridgePairs:a,enableQuery:g=!0}){var m,f,S;const v=(0,l.useSwapperStore)((e=>e.sellFungible)),{fungibles:w,isLoadingTokens:y,isRefetchingTokens:h,tokensError:b}=e.useGetFungibleBalances(),k=(0,p.useSwapAssetCaip19)(v),{data:T}=n.useSelectedChainAddress({address:null===(m=null==v?void 0:v.data)||void 0===m?void 0:m.walletAddress,networkID:null===(f=null==v?void 0:v.data)||void 0===f?void 0:f.chain.id}),A=null!==(S=null==T?void 0:T.address)&&void 0!==S?S:"",F=(0,d.useSupportedNetworkIDs)({accountHooks:n}),{data:E=[],isLoading:I,error:C}=(0,u.useSwapPairs)({sellToken:k,supportedNetworkIDs:F,enableNativeBridgePairs:a,getApiEnvironment:t,enableQuery:g}),x=(0,s.useMemo)((()=>new Map(w.map((e=>[(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(e)),e])))),[w]),N=(0,s.useMemo)((()=>{if(0===E.length)return[];return E.reduce(((e,n)=>{let t="";const a=(0,c.swapTokenToFungible)(n,A);let s;n.resourceType===o.Caip19ResourceType.address&&n.address===i.WRAPPED_SOLANA_ADDRESS?t=(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(o.Chains.solana.mainnetID))):n.resourceType===o.Caip19ResourceType.nativeToken?t=(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(n.chainId))):a&&(t=(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(a)));const u=x.get(t);return s=u&&u.data.balance?u:a,s&&e.push(s),e}),[])}),[x,E,A]);return(0,s.useMemo)((()=>({assets:N,initialFilterKey:null==v?void 0:v.data.chain.id,isLoading:y||I,isFetching:y||I||h,error:null!=b?b:C})),[N,y,I,h,b,C,v])}})),a.register("j3ma1",(function(n,t){e(n.exports,"useSwapPairs",(function(){return c}),(function(e){return c=e})),e(n.exports,"prefetchSwapPairs",(function(){return d}),(function(e){return d=e}));var o=a("5ekp2"),r=a("bfUNg"),s=a("dOGoW"),i=a("6BFZj"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=e=>u(void 0,[e],void 0,(function*({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:o}){if(!e)throw new Error("missing sell token");const a=o();return(0,r.getSwapPairs)({apiEnv:a,sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t})})),c=({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,enableQuery:r=!0,getApiEnvironment:a})=>(0,o.useQuery)({queryKey:s.swapperQueryKeys.pairs(e,n,t),cacheTime:i.CacheTime.Short,staleTime:i.StaleTime.Short,enabled:!!e&&r,queryFn:()=>l({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:a})}),d=({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:o,queryClient:r})=>{r.prefetchQuery(s.swapperQueryKeys.pairs(e,n,t),(()=>l({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:o})))}})),a.register("bfUNg",(function(n,t){e(n.exports,"getSwapPairs",(function(){return p}),(function(e){return p=e}));var o=a("iOvk1"),r=a("43063"),s=a("beWYh"),i=a("gmJPe"),u=a("hvYWW"),l=a("dHptj"),c=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const d="swap-pairs";function p(e){return c(this,arguments,void 0,(function*({apiEnv:e,sellToken:n,supportedNetworkIDs:t,enableNativeBridgePairs:a}){let c;try{(0,o.isEvmCaip19Address)(n)&&(n.address=n.address.toLowerCase());const r=`${e}/swap/v2/pairs`,i={tokens:[n],enableNativeBridgePairs:a,supportedNetworkIDs:t},p=yield s.rb.headers({"Content-Type":"application/json"}).post(r,i);return c=p.status,yield(0,u.handleBadResponse)(p,d),(0,l.parseSwapPairsResponse)(p.data)}catch(t){const o=t instanceof r.LocalizedError?t:new(0,r.LocalizedError);throw(0,i.captureClientError)(o,c,d,{apiEnv:e,sellToken:n}),o}}))}})),a.register("gmJPe",(function(n,t){e(n.exports,"captureClientError",(function(){return i}));var o=a("43063"),r=a("csW2r");const s=["SwapperNoQuotes","UnsupportedCountry","UnknownError"],i=(e,n,t,a)=>{e instanceof o.LocalizedError&&s.includes(e.code)||(!n||n>=400&&n<500)&&(r.telemetry.addBreadcrumb(t,JSON.stringify(a),r.Severity.Info),r.telemetry.captureError(e,r.FeatureTag.Swapper))}})),a.register("hvYWW",(function(n,t){e(n.exports,"handleBadResponse",(function(){return l}),(function(e){return l=e}));var o=a("43063"),r=a("beWYh"),s=a("csW2r"),i=a("kvuQ4"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=(e,n,...t)=>u(void 0,[e,n,...t],void 0,(function*(e,n,t){if((0,r.responseIsOkay)(e))return Promise.resolve();let a;try{a=e.data}catch(e){throw new(0,o.LocalizedError)({key:t})}const u=i.ErrorResponse.safeParse(a);if(u.success)throw s.telemetry.addBreadcrumb(n,JSON.stringify(u.data),s.Severity.Info),new(0,o.LocalizedError)({key:u.data.name});throw new(0,o.LocalizedError)({key:t})}))})),a.register("dHptj",(function(n,t){e(n.exports,"parseSwapPairsResponse",(function(){return s}));var o=a("iOvk1"),r=a("kvuQ4");const s=e=>{var n;if(!e.tokens)return[];const t=[],a=Object.keys(e.tokens)[0];if(o.BRI.safeParse(a).success){(null!==(n=e.tokens[a])&&void 0!==n?n:[]).forEach((e=>{const n=r.SwapToken.safeParse(e);n.success&&t.push(n.data)}))}return t}})),a.register("2EDKH",(function(t,o){e(t.exports,"swapTokenToFungible",(function(){return p}));var r=a("iOvk1"),s=a("5slFC"),i=a("kAKNF");const u={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},l={id:r.Chains.ethereum.mainnetID,imageUrl:r.Chains.ethereum.iconUrl,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol},c={id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},d=e=>e.resourceType===r.Caip19ResourceType.address?e.address:e.slip44,p=(e,t)=>{var o,a;const p={amount:"0",balance:new(n(i))(0),coingeckoId:null!==(a=null===(o=e.extensions)||void 0===o?void 0:o.coingeckoId)&&void 0!==a?a:null,decimals:e.decimals,key:d(e),logoUri:e.logoURI,mintAddress:d(e),name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:d(e),walletAddress:t,spamStatus:s.SpamStatus.NotVerified};if(e.chainId===r.NetworkIDs.Ethereum.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.EthereumNative,data:Object.assign(Object.assign({},p),{chain:l})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},p),{chain:l,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Polygon.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.PolygonNative,data:Object.assign(Object.assign({},p),{chain:c})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},p),{chain:c,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Solana.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.SolanaNative,data:Object.assign(Object.assign({},p),{chain:u})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.SPL,data:Object.assign(Object.assign({},p),{chain:u,mintAddress:e.address})}}return null}})),a.register("hNhmc",(function(n,t){e(n.exports,"useSwapAssetCaip19",(function(){return s}));var o=a("5slFC"),r=a("29o0l");function s(e){return(0,r.useMemo)((()=>void 0===e?void 0:(0,o.getFungibleCaip19FromFungible)(e)),[e])}})),a.register("8QmNP",(function(n,t){e(n.exports,"useSwapSellAssetList",(function(){return u}));var o=a("iOvk1"),r=a("29o0l"),s=a("iTQ0V"),i=a("g7N0x");function u({fungibleHooks:e}){const{fungibles:n,isLoadingTokens:t,tokensError:a}=e.useGetFungibleBalances(),u=n.filter((e=>o.Chains.isSolanaNetworkID(e.data.chain.id)||o.Chains.isEVMNetworkID(e.data.chain.id))),l=(0,s.useSwapperStore)((e=>e.sellFungible)),c=(0,r.useMemo)((()=>{if(l){const e=u.findIndex((e=>(0,i.areFungiblesEqual)(e,l))),n=u[e];n&&n.data.amount!==l.data.amount&&(u[e]=l)}return u.filter((e=>"0"!==e.data.amount))}),[u,l]);return(0,r.useMemo)((()=>({assets:c,isLoading:t,error:a})),[c,t,a])}})),a.register("g7N0x",(function(n,t){function o(e,n){return e.data.key===n.data.key}e(n.exports,"areFungiblesEqual",(function(){return o}))})),a.register("5oPAK",(function(n,t){e(n.exports,"useLiveSwapBuyAssetList",(function(){return c}));var o=a("iOvk1"),r=a("5slFC");a("lekXb");var s=a("jCZkg"),i=a("29o0l"),u=a("2UOPE"),l=a("iTQ0V");function c({fungibleHooks:e,getApiEnvironment:n,enableQuery:t=!0}){var a;const[c,d]=(0,i.useState)(""),p=(0,l.useSwapperStore)((e=>e.sellFungible)),{fungibles:g,isLoadingTokens:m,isRefetchingTokens:f,tokensError:S}=e.useGetFungibleBalances(),{data:v=[],isFetching:w,error:y}=(0,s.useFungibleSearch)({query:c,networkId:null!==(a=null==p?void 0:p.data.chain.id)&&void 0!==a?a:o.Chains.solana.mainnetID,getApiEnvironment:n,enableQuery:t,includeBridgeableTokens:!0}),h=(0,i.useMemo)((()=>new Map(g.map((e=>[(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(e)),e])))),[g]),b=(0,i.useMemo)((()=>{if(0===v.length)return[];return v.reduce(((e,n)=>{let t,a="";a=n.type===r.FungibleTokenType.SPL&&n.data.mintAddress===u.WRAPPED_SOLANA_ADDRESS?(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(o.Chains.solana.mainnetID))):(0,r.isNative)(n.type)?(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(n.data.chain.id))):(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(n));const s=h.get(a);return t=s&&s.data.balance?s:n,t&&e.push(t),e}),[])}),[h,v]);return(0,i.useMemo)((()=>({assets:b,initialFilterKey:null==p?void 0:p.data.chain.id,isLoading:m||w,isFetching:m||w||f,error:null!=S?S:y,setSearchQuery:d})),[b,m,w,f,S,y,p])}})),a.register("lekXb",(function(n,t){e(n.exports,"useFungibleSearch",(function(){return a("jCZkg").useFungibleSearch}));a("jCZkg"),a("2DtqL")})),a.register("jCZkg",(function(n,t){e(n.exports,"useFungibleSearch",(function(){return c}),(function(e){return c=e}));var o=a("5ekp2"),r=a("94RxS"),s=a("2DtqL"),i=a("jdGCY"),u=a("ehDYr"),l=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const c=({query:e,networkId:n,includeBridgeableTokens:t,enableQuery:a=!0,getApiEnvironment:c})=>{const d=c(),p=i.searchQueryKeys.searchResults(e,n,d);return(0,o.useQuery)({queryKey:p,cacheTime:u.CacheTime.Medium,staleTime:u.StaleTime.Short,enabled:a,queryFn:()=>l(void 0,[{query:e,networkId:n,includeBridgeableTokens:t,apiEnv:d}],void 0,(function*({query:e,networkId:n,includeBridgeableTokens:t,apiEnv:o}){return(yield(0,r.getFungibleSearch)({apiEnv:o,query:e,networkId:n,includeBridgeableTokens:t})).results.map((e=>(0,s.searchResultToFungible)(e)))}))})}})),a.register("94RxS",(function(n,t){e(n.exports,"getFungibleSearch",(function(){return u}),(function(e){return u=e}));var o=a("43063"),r=a("beWYh"),s=a("cd10K"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function u(e){return i(this,void 0,void 0,(function*(){const{query:n,networkId:t,includeBridgeableTokens:a}=e,i=yield r.rb.headers({"Content-Type":"application/json"}).get("https://1l4zs1nyya.execute-api.us-east-1.amazonaws.com/test/search/v1",{params:{query:n,searchTypes:s.SearchAssetType.Fungible,chainIds:t,platform:"ios",pageSize:"50",includeBridgeableTokens:a?"true":"false"}});if(!(0,r.responseIsOkay)(i))throw new(0,o.LocalizedError)({key:"UnknownError"});const u=s.SearchResults.safeParse(i.data);if(u.success)return u.data;throw new(0,o.LocalizedError)({key:"UnknownError"})}))}})),a.register("cd10K",(function(n,t){e(n.exports,"SearchAssetType",(function(){return o})),e(n.exports,"SearchResults",(function(){return u}));var o,r=a("5slFC"),s=a("7XqVB");(o||(o={})).Fungible="fungible";const i=s.z.object({type:s.z.literal(o.Fungible),data:r.TokenMetadata}),u=s.z.object({results:s.z.array(i),total:s.z.optional(s.z.number()),prevCursor:s.z.string().nullable(),nextCursor:s.z.string().nullable(),hasMore:s.z.boolean()})})),a.register("2DtqL",(function(n,t){e(n.exports,"searchResultToFungible",(function(){return r}));var o=a("5slFC");const r=e=>{var n,t;const r=e.data,a=null!==(n=(0,o.getTokenAddressFromFungible)(r))&&void 0!==n?n:void 0;return{type:r.type,data:Object.assign(Object.assign({},r.data),{tokenAddress:null!==(t=(0,o.getTokenAddressFromFungible)(r))&&void 0!==t?t:void 0,key:a})}}})),a.register("jdGCY",(function(n,t){e(n.exports,"searchQueryKeys",(function(){return o}));const o={searchResults:(e,n,t)=>["search",{query:e,networkId:n,apiEnv:t}]}})),a.register("ehDYr",(function(n,t){e(n.exports,"CacheTime",(function(){return o})),e(n.exports,"StaleTime",(function(){return s}));var o,r,s,i,u,l,c=a("RVqnc");(r=o||(o={}))[r.Always=1/0]="Always",r[r.Short=(0,c.toMilliseconds)({days:1})]="Short",r[r.Medium=(0,c.toMilliseconds)({days:3})]="Medium",r[r.Long=(0,c.toMilliseconds)({days:7})]="Long",(i=s||(s={}))[i.Immediate=0]="Immediate",i[i.Short=(0,c.toMilliseconds)({minutes:1})]="Short",i[i.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",i[i.Long=(0,c.toMilliseconds)({minutes:60})]="Long",i[i.Never=1/0]="Never",(l=u||(u={}))[l.Short=(0,c.toMilliseconds)({seconds:20})]="Short",l[l.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",l[l.Long=(0,c.toMilliseconds)({minutes:5})]="Long"})),a.register("c5bbD",(function(n,t){e(n.exports,"useSlippageSettingsViewState",(function(){return g}));var o=a("43063"),r=a("RVqnc"),s=a("29o0l"),i=a("dOGoW"),u=a("fLlWF");const l=[.3,.5,1],c=[...l.map((e=>`${e}%`)),"custom"],d=c.length-1,p=(e,n)=>{if(!e)return;const t=parseFloat(e);return isNaN(t)?{message:n("swapSlippageSettingsCustomInvalidValue"),severity:"critical"}:t>30?{message:n("swapSlippageSettingsCustomMaxError",{maxSlippage:30}),severity:"critical"}:t>1?{message:n("swapSlippageSettingsHighSlippageWarning"),severity:"warning"}:t<.1?{message:n("swapSlippageSettingsCustomMinError",{minSlippage:.1}),severity:"critical"}:void 0},g=({analytics:e,storage:n,onDismiss:t})=>{const{t:a}=(0,o.useTranslation)(),{data:g,isFetched:m}=(0,u.useSwapStorageValue)({storage:n,key:u.StorageKeySwapper.SlippageTolerance,queryKey:i.swapperQueryKeys.slippageTolerance()}),{mutateAsync:f}=(0,u.useSetSwapStorageValue)({storage:n,key:u.StorageKeySwapper.SlippageTolerance,queryKey:i.swapperQueryKeys.slippageTolerance()}),[S,v]=(0,s.useState)(!1),[w,y]=(0,s.useState)(0),[h,b]=(0,s.useState)(),[k,T]=(0,s.useState)(""),[A,F]=(0,s.useState)(),E=w===d,I="critical"===(null==A?void 0:A.severity)||E&&!k,C=(0,s.useCallback)((e=>{w!==e&&(F(void 0),y(e),l[e]?(b(l[e]),T("")):b(void 0))}),[w]),x=(0,s.useCallback)((e=>{const n=(0,r.formatTokenAmountInputs)(e.substring(0,5)),t=(0,r.formatTokenAmountToMaxDecimals)(n,2),o=parseFloat(t);if(isNaN(o))return F(void 0),void T("");T(t),F(p(t,a))}),[a]),N=(0,s.useCallback)((()=>{if(E){const n=parseFloat(null!=k?k:"");f(n),e.capture("slippageChanged",{data:{slippageValue:n,slippageType:"custom"}}),b(void 0)}else h&&(f(h),e.capture("slippageChanged",{data:{slippageValue:h,slippageType:"preset"}}),T(""));t()}),[e,E,k,t,h,f]),P=(0,s.useCallback)((()=>{const e=(e=>e&&-1!==l.indexOf(e)?l.indexOf(e):e?d:0)(g),n=(e=>e&&-1===l.indexOf(e)?`${e}`:"")(g);y(e),b(l[e]),T(n),F(p(n,a))}),[g,a]),D=(0,s.useMemo)((()=>({title:a("swapSlippageSettingsTitle"),subtitle:a("swapSlippageSettingsSubtitle",{minSlippage:.1,maxSlippage:30}),custom:a("swapSlippageSettingsCustom"),button:a("commandConfirm")})),[a]);return(0,s.useEffect)((()=>{!S&&m&&(P(),v(!0))}),[m,S,P]),{options:c,selectedIndex:w,customSlippageValue:k,i18nStrings:D,error:A,submitDisabled:I,onConfirm:N,onDismiss:t,onSelectOption:C,onChangeCustomSlippage:x,onResetToDefault:P}}})),a.register("lLpwA",(function(n,t){e(n.exports,"useSubscribeGasEstimation",(function(){return i}));var o=a("29o0l"),r=a("iTQ0V"),s=a("cNh9z");function i({accountHooks:e,transactionHooks:n,simulationHooks:t,priorityFeeService:a}){const i=(0,r.useSwapperStore)((e=>e.setGasEstimation)),u=(0,r.useSwapperStore)((e=>e.setIsFetchingGasEstimation)),l=(0,r.useSwapperStore)((e=>e.setMaxGasEstimation)),c=(0,r.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),{gasEstimation:d,isFetching:p}=(0,s.useSwapGasEstimation)({accountHooks:e,transactionHooks:n,simulationHooks:t,priorityFeeService:a}),{gasEstimation:g}=(0,s.useSwapGasEstimation)({accountHooks:e,transactionHooks:n,priorityFeeService:a,simulationHooks:t,includeGasBuffer:!0});(0,o.useEffect)((()=>{c?(u(p),i(d),l(g)):u(!1)}),[c,i,l,u,d,g,p])}})),a.register("cNh9z",(function(t,o){e(t.exports,"useSwapGasEstimation",(function(){return v}));var r=a("iOvk1"),s=a("7mQ3Y"),i=a("7gANb"),u=a("kAKNF"),l=a("29o0l"),c=a("a6NKv"),d=a("iTQ0V"),p=a("dNQbj"),g=a("kaJtZ"),m=a("fx1OB"),f=a("iX5lP");const S=e=>{switch(e){case r.NetworkIDs.Ethereum.Mainnet:case r.NetworkIDs.Ethereum.Goerli:case r.NetworkIDs.Ethereum.Sepolia:return 8e5;case r.NetworkIDs.Polygon.Mainnet:case r.NetworkIDs.Polygon.Mumbai:return 5e5;default:return 0}},v=({accountHooks:e,transactionHooks:t,simulationHooks:o,priorityFeeService:a,includeGasBuffer:v=!1})=>{var w,y,h;const{currentQuote:b,multichainQuoteResponse:k}=(0,f.useQuote)(),T=(0,m.useInitialSellFungible)({accountHooks:e}),A=null!==(w=(0,d.useSwapperStore)((e=>e.sellFungible)))&&void 0!==w?w:T,F=null!==(y=null==A?void 0:A.data.chain.id)&&void 0!==y?y:r.NetworkIDs.Solana.Mainnet,{data:E}=e.useSelectedChainAddress({address:A.data.walletAddress,networkID:A.data.chain.id}),I=null!==(h=null==E?void 0:E.address)&&void 0!==h?h:"",{data:C}=t.useEthereumGasEstimation({networkID:r.Chains.isEVMNetworkID(F)?F:r.NetworkIDs.Ethereum.Mainnet,transactionSpeed:i.TransactionSpeed.standard,gasLimit:new(n(u))(1),refetchInterval:2e4}),{data:x,isFetching:N}=(0,c.useSwapTransactions)({transactionHooks:t,priorityFeeService:a,callerAddress:I,sellFungible:A,quote:b});let P=null;"evm"===(null==x?void 0:x.type)&&r.Chains.isEVMNetworkID(F)&&(P={networkID:F,url:"https://phantom.app",userAccount:I,transactions:x.transactions});const D=o.useScanTransaction({label:"useSwapGasEstimation",params:P}),R=D.data,{data:M,isFetching:Q}=(0,g.useEstimateSolanaNetworkFee)({swapTransactions:x,chainId:r.Chains.isSolanaNetworkID(F)?F:r.NetworkIDs.Solana.Mainnet}),O=(0,l.useMemo)((()=>{if(r.Chains.isEVMNetworkID(F)&&((0,p.isEvmSwapQuote)(b)||(0,p.isBridgeQuote)(b))&&C){const{maxFeePerGas:t,maxPriorityFeePerGas:o}=C;let r=(0,p.isEvmSwapQuote)(b)?[b.gas]:(e=F,b.steps.flatMap((n=>{var t;return null!==(t=n.gasCosts)&&void 0!==t?t:[S(e)]})));if((null==R?void 0:R.chainType)===s.AddressType.EVM){const e=R.evaluation.gas;if(e){const n=e.map((e=>{var n;return null!==(n=parseInt(e,10))&&void 0!==n?n:0}));e.reduce(((e,n)=>e+parseInt(n,10)),0)>0&&(r=n)}}return r.map((e=>{var r;return{maxFeePerGas:t,maxPriorityFeePerGas:o,networkID:F,gasLimit:new(n(u))(e).multipliedBy(v?null!==(r=null==k?void 0:k.gasBuffer)&&void 0!==r?r:1.3:1).integerValue(n(u).ROUND_CEIL)}}))}var e;if(r.Chains.isSolanaNetworkID(F)&&void 0!==M)return M.map((e=>({networkID:F,value:e})))}),[F,b,C,M,R,k,v]),H=Q||N||D.isFetching;return(0,l.useMemo)((()=>({gasEstimation:O,isFetching:H,isError:void 0===C})),[O,H,C])}})),a.register("kaJtZ",(function(n,t){e(n.exports,"useEstimateSolanaNetworkFee",(function(){return c}),(function(e){return c=e}));var o=a("hMVEP"),r=a("7gANb"),s=a("5ekp2"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const u="swap-priority-fee",l=(e,n)=>i(void 0,void 0,void 0,(function*(){const t=(0,o.transactionStringToTransaction)(e,"bs58");return{networkFeeEstimation:yield(0,r.estimateFeeFromMessages)(n,[t.message])}}));function c({swapTransactions:e,chainId:n}){const t=[u,e],o=!!e&&e.transactions.length>0&&"solana"===e.type&&!!n;return(0,s.useQuery)({queryKey:t,queryFn:()=>i(this,void 0,void 0,(function*(){if(!e)throw new Error("No swap transactions");if("solana"!==e.type)throw new Error("Trying estimate network fee for non-solana txs");if(!n)throw new Error("Trying to execute swap with no chain id.");try{const t=e.transactions.map((e=>l(e,n))),o=yield Promise.all(t);return o.map((e=>e.networkFeeEstimation.value))}catch(e){return[0]}})),enabled:o})}})),a.register("bFhoc",(function(t,o){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return y}));var r=a("43063"),s=a("RVqnc"),i=a("kAKNF"),u=a("29o0l"),l=a("2neO6"),c=a("2UOPE"),d=a("dOGoW"),p=a("fz9J3"),g=a("fLlWF"),m=a("iTQ0V"),f=a("adhE7"),S=a("79gfS"),v=a("c8n6I"),w=a("hNhmc");function y({accountHooks:e,fungibleHooks:t,priceHooks:o,skipInitialBuyFungible:a,getApiEnvironment:y,analytics:h,storage:b}){var k,T;const A=(0,m.useSwapperStore)((e=>e.sellAmount)),F=(0,m.useSwapperStore)((e=>e.buyFungible)),E=null!=F?F:a?void 0:c.INITIAL_BUY_FUNGIBLE,I=(0,w.useSwapAssetCaip19)(E),C=(0,m.useSwapperStore)((e=>e.sellFungible)),x=(0,m.useSwapperStore)((e=>e.refuelEnabled)),N=(0,m.useSwapperStore)((e=>e.setRefuelEnabled)),P=(0,w.useSwapAssetCaip19)(C),D=(0,m.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),R=(0,m.useSwapperStore)((e=>e.resetQuote)),M=(0,m.useSwapperStore)((e=>e.setHasNoRoutes)),Q=(0,m.useSwapperStore)((e=>e.setError)),O=(0,m.useSwapperStore)((e=>e.setIsFetchingQuote)),H=(0,m.useSwapperStore)((e=>e.setMultichainQuoteResponse)),B=(0,m.useSwapperStore)((e=>e.setSelectedProviderIndex)),{data:U}=(0,g.useSwapStorageValue)({storage:b,key:g.StorageKeySwapper.SlippageTolerance,queryKey:d.swapperQueryKeys.slippageTolerance()}),{mutateAsync:L}=(0,g.useSetSwapStorageValue)({storage:b,key:g.StorageKeySwapper.SlippageTolerance,queryKey:d.swapperQueryKeys.slippageTolerance()}),z=(0,v.useIsRefuelSupported)({fungibleHooks:t});(0,u.useEffect)((()=>N(z)),[z,E,N]);const V=(0,S.useHasSwapMinimumSellAmount)(o),q=n(l)(V),j=(0,u.useMemo)((()=>new(n(i))(A).isGreaterThan(0)&&C?(0,s.uiAmountToAmount)(A,C.data.decimals).toString():(R(),"")),[R,A,C]),_=(0,f.isBridgeSwap)(null===(k=null==C?void 0:C.data)||void 0===k?void 0:k.chain.id,null==E?void 0:E.data.chain.id);(0,u.useEffect)((()=>{_&&h.capture("swapperRefuelDefault",{data:{default:z}})}),[z,h,_]);const{data:G}=e.useSelectedChainAddress(null===(T=null==C?void 0:C.data)||void 0===T?void 0:T.chain.id),{data:K}=e.useSelectedChainAddress(null==E?void 0:E.data.chain.id),W=(0,u.useMemo)((()=>G?{chainId:G.networkID,address:G.address,resourceType:"address"}:{}),[G]),$=(0,u.useMemo)((()=>{if(_)return{chainId:null==K?void 0:K.networkID,address:null==K?void 0:K.address,resourceType:"address"}}),[_,null==K?void 0:K.address,null==K?void 0:K.networkID]),{data:X,error:Z,isFetching:J}=(0,p.useSwapQuotes)({sellToken:P,buyToken:I,taker:W,takerDestination:$,sellAmount:V?j:"",slippageTolerance:null!=U?U:void 0,refuelEnabled:x,getApiEnvironment:y,analytics:h}),Y=(0,u.useCallback)((e=>{Q(null),B(0),O(!1),M(!1),H(e),U||L(e.slippageTolerance)}),[Q,M,O,H,B,L,U]),ee=(0,u.useCallback)((e=>{R(),O(!1),M(!0),Q(e)}),[R,Q,M,O]);(0,u.useEffect)((()=>{D&&(J?O(!0):X?Y(X):Z&&ee(Z))}),[Z,X,J,Y,ee,O,D,V]),(0,u.useEffect)((()=>{V?!1===q&&V&&(Q(null),M(!1)):(Q(new(0,r.LocalizedError)({key:"InsufficientSellAmount"})),M(!0))}),[V,q,Q,M])}})),a.register("2neO6",(function(e,n){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var t=a("29o0l");e.exports.default=function(e){var n=t.useRef();return t.useEffect((function(){n.current=e})),n.current}})),a.register("fz9J3",(function(n,t){e(n.exports,"useSwapQuotes",(function(){return l}),(function(e){return l=e}));var o=a("5ekp2"),r=a("4gTf0"),s=a("dOGoW"),i=a("6BFZj"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=({sellToken:e,buyToken:n,taker:t,takerDestination:a,sellAmount:l,slippageTolerance:c,refuelEnabled:d,getApiEnvironment:p,analytics:g})=>{const m=!!l&&!!n&&!!e,f=s.swapperQueryKeys.quotes(e,n,t,l,c,d,a);return(0,o.useQuery)({queryKey:f,enabled:m,cacheTime:0,staleTime:0,refetchInterval:i.RefetchInterval.Short,queryFn(e){return u(this,arguments,void 0,(function*({queryKey:[,,{sellToken:e,buyToken:n,taker:t,sellAmount:o,slippageTolerance:s}],signal:i}){if(!o||!n||!e)throw new Error("missing necessary args");const u=p(),l=yield(0,r.getSwapQuotes)({apiEnv:u,sellToken:e,buyToken:n,taker:t,takerDestination:a,sellAmount:o,slippageTolerance:s,refuelEnabled:d,signal:i});return g.capture("swapperQuotesResult",{data:{numQuotes:l.quotes.length,sellToken:e,fromNetworkId:e.chainId,toNetworkId:n.chainId}}),l}))}})}})),a.register("4gTf0",(function(n,t){e(n.exports,"getSwapQuotes",(function(){return p}),(function(e){return p=e}));var o=a("iOvk1"),r=a("43063"),s=a("beWYh"),i=a("gmJPe"),u=a("hvYWW"),l=a("7eNmL"),c=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const d="swap-quotes";function p(e){return c(this,arguments,void 0,(function*({apiEnv:e,sellToken:n,buyToken:t,taker:a,takerDestination:c,sellAmount:p,slippageTolerance:g,refuelEnabled:m,signal:f}){let S;try{(0,o.isEvmCaip19Address)(a)&&(a.address=a.address.toLowerCase()),c&&(0,o.isEvmCaip19Address)(c)&&(c.address=c.address.toLowerCase()),(0,o.isEvmCaip19Address)(t)&&(t.address=t.address.toLowerCase()),(0,o.isEvmCaip19Address)(n)&&(n.address=n.address.toLowerCase());const r=`${e}/swap/v2/quotes`,i=Object.assign({sellToken:n,buyToken:t,taker:a,takerDestination:c,sellAmount:p,slippageTolerance:g},m?{refuel:1,ignoreRefuelFailures:!0}:{}),v=yield s.rb.post(r,i,{signal:f});return S=v.status,yield(0,u.handleBadResponse)(v,d,"SwapperNoQuotes"),(0,l.parseSwapQuotesResponse)(v.data,m)}catch(o){const a=o instanceof r.LocalizedError?o:new(0,r.LocalizedError);throw(0,i.captureClientError)(a,S,d,{apiEnv:e,sellToken:n,buyToken:t,sellAmount:p,slippageTolerance:g}),a}}))}})),a.register("7eNmL",(function(n,t){e(n.exports,"parseSwapQuotesResponse",(function(){return s}));var o=a("43063"),r=a("kvuQ4");const s=(e,n)=>{const t=new(0,o.LocalizedError)({key:"SwapperNoQuotes"});if(!1===r.QuoteType.safeParse(null==e?void 0:e.type).success)throw new Error("Invalid input");const a=r.SwapperQuoteResponse.safeParse(e);if(!a.success)throw t;if(0===a.data.quotes.length){if(n)throw new(0,o.LocalizedError)({key:"SwapperRefuelNoQuotes"});throw t}return a.data}})),a.register("79gfS",(function(n,t){e(n.exports,"useHasSwapMinimumSellAmount",(function(){return l}));var o=a("iOvk1"),r=a("5slFC"),s=a("56oyT"),i=a("iTQ0V");const u={[o.Chain.Bitcoin]:0,[o.Chain.Solana]:0,[o.Chain.Ethereum]:20,[o.Chain.Polygon]:0},l=e=>{const n=(0,i.useSwapperStore)((e=>e.sellFungible)),t=(0,i.useSwapperStore)((e=>e.buyFungible)),a=(0,i.useSwapperStore)((e=>e.sellAmount)),l=n?(0,r.getFungibleCaip19FromFungible)(n):null,{data:c}=e.usePrice({query:l?{data:l}:void 0}),d=null==n?void 0:n.data.chain.id,p=null==t?void 0:t.data.chain.id,g=null==c?void 0:c.usd;if(!(d&&p&&a&&g&&0!==o.Chains.compareNetworkID(d,p)))return!0;const m=(0,s.assetToDollars)(Number(a),g),f=u[o.Chains.getChainID(d)],S=u[o.Chains.getChainID(p)];return f<=m&&S<=m}})),a.register("hVvmZ",(function(n,t){e(n.exports,"useSwapBuyAssetProps",(function(){return g}));var o=a("iOvk1"),r=a("5slFC"),s=a("43063"),i=a("56oyT"),u=a("RVqnc"),l=a("iTQ0V"),c=a("ccqWS"),d=a("iX5lP");const p={chainId:o.NetworkIDs.Solana.Mainnet,slip44:o.Slip44.Solana,resourceType:o.Caip19ResourceType.nativeToken};function g({isSingleChainEnabled:e,priceHooks:n,analytics:t}){var a,g,m,f,S;const{t:v}=(0,s.useTranslation)(),w=(0,l.useSwapperStore)((e=>e.buyFungible)),y=(0,l.useSwapperStore)((e=>e.isFetchingQuote)),h=null!==(a=null==w?void 0:w.data.decimals)&&void 0!==a?a:0,b=null==w?void 0:w.data.chain.id,k=null!==(g=null==w?void 0:w.data.symbol)&&void 0!==g?g:"",T=null==w?void 0:w.type,A=null!==(m=null==w?void 0:w.data.logoUri)&&void 0!==m?m:"",F=null!==(f=null==w?void 0:w.data.tokenAddress)&&void 0!==f?f:"",E=null==w?void 0:w.data.chain,I=null!==(S=null==w?void 0:w.data.name)&&void 0!==S?S:"",C=e||T&&(0,r.isNative)(T)?null!=k?k:"":v("swapAssetCardTokenNetwork",{symbol:k,network:b?o.Chains.getNetworkName(b):""}),{currentQuote:x,multichainQuoteResponse:N}=(0,d.useQuote)(),P=String(x&&N&&w?(0,u.amountToFormattedAmount)(x.buyAmount,h):""),D=(0,c.useOnSwitchTokens)(t),R=w?(0,r.getFungibleCaip19FromFungible)(w):p,{data:M}=n.usePrice({query:{data:R}});let Q=(null==x?void 0:x.buyAmount)?"":(0,u.formatDollarAmount)(0);if((null==M?void 0:M.usd)&&(null==x?void 0:x.buyAmount)&&w){const e=(0,i.assetToDollars)((0,u.amountToUiAmount)(x.buyAmount,h).toNumber(),M.usd);Q=(0,u.formatDollarAmount)(e)}return{assetButtonTitle:I,assetSubheadline:C,buyAmount:P,currencyValue:Q,decimals:h,symbol:k,logoUri:A,tokenAddress:F,tokenType:T,network:E,isFetchingQuote:y,onSwitchTokens:D}}})),a.register("ccqWS",(function(n,t){e(n.exports,"useOnSwitchTokens",(function(){return d}));var o=a("RVqnc"),r=a("29o0l"),s=a("2UOPE"),i=a("iTQ0V"),u=a("iX5lP"),l=a("4MMT9"),c=a("iA6sm");const d=e=>{var n;const t=(0,i.useSwapperStore)((e=>e.sellFungible)),a=null!==(n=(0,i.useSwapperStore)((e=>e.buyFungible)))&&void 0!==n?n:s.INITIAL_BUY_FUNGIBLE,d=(0,i.useSwapperStore)((e=>e.setSellAmount)),p=(0,i.useSwapperStore)((e=>e.setUiSellAmount)),g=(0,c.useSwapSetSellAsset)(e),m=(0,l.useSwapSetBuyAsset)(e),{currentQuote:f,multichainQuoteResponse:S}=(0,u.useQuote)(),v=String(f&&S&&a?(0,o.amountToFormattedAmount)(f.buyAmount,a.data.decimals):"");return(0,r.useCallback)((()=>{d(v),p(v),a&&g(a),t&&m(t)}),[d,v,p,a,t,g,m])}})),a.register("4MMT9",(function(n,t){e(n.exports,"useSwapSetBuyAsset",(function(){return c}),(function(e){return c=e}));var o=a("29o0l"),r=a("9CkPk"),s=a("iTQ0V"),i=a("g7N0x"),u=a("gWWyM"),l=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function c(e){const n=(0,s.useSwapperStore)((e=>e.resetQuote)),t=(0,s.useSwapperStore)((e=>e.setBuyFungible)),a=(0,s.useSwapperStore)((e=>e.buyFungible)),{cancelQuotes:c}=(0,r.useSwapCancelQuotes)();return(0,o.useCallback)((o=>l(this,void 0,void 0,(function*(){if(a&&(0,i.areFungiblesEqual)(o,a))return;yield c(),n();const r=(0,u.getAnalyticsAsset)(o);e.capture("swapperUpdateToAsset",{data:r}),t(o)}))),[e,a,c,n,t])}})),a.register("9CkPk",(function(n,t){e(n.exports,"useSwapCancelQuotes",(function(){return u}),(function(e){return u=e}));var o=a("RVqnc"),r=a("7dHjq"),s=a("dOGoW"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const u=()=>{const e=(0,r.useQueryClient)();return{cancelQuotes:()=>i(void 0,void 0,void 0,(function*(){yield e.cancelQueries({queryKey:s.swapperQueryKeys.quotesScope()}),yield(0,o.delayAsync)(1)}))}}})),a.register("gWWyM",(function(n,t){e(n.exports,"getAnalyticsAsset",(function(){return s}));var o=a("iOvk1"),r=a("5slFC");function s(e){var n;return{chain:o.Chain.Solana,type:"fungible",address:e.type===r.FungibleTokenType.SPL?e.data.mintAddress:void 0,symbol:null!==(n=e.data.symbol)&&void 0!==n?n:""}}})),a.register("iA6sm",(function(n,t){e(n.exports,"useSwapSetSellAsset",(function(){return c}),(function(e){return c=e}));var o=a("29o0l"),r=a("9CkPk"),s=a("iTQ0V"),i=a("g7N0x"),u=a("gWWyM"),l=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function c(e){const n=(0,s.useSwapperStore)((e=>e.buyFungible)),t=(0,s.useSwapperStore)((e=>e.sellFungible)),a=(0,s.useSwapperStore)((e=>e.setBuyFungible)),c=(0,s.useSwapperStore)((e=>e.setSellFungible)),d=(0,s.useSwapperStore)((e=>e.resetQuote)),p=null==t?void 0:t.data.amount,{cancelQuotes:g}=(0,r.useSwapCancelQuotes)();return(0,o.useCallback)((o=>l(this,void 0,void 0,(function*(){if(t&&(0,i.areFungiblesEqual)(o,t))return void(o&&o.data.amount!==p&&c(o));yield g();const r=(0,u.getAnalyticsAsset)(o);e.capture("swapperUpdateFromAsset",{data:r}),c(o),n&&t&&(0,i.areFungiblesEqual)(o,n)&&a(t),o&&(null==t?void 0:t.data.chain.id)!==o.data.chain.id&&(d(),a(void 0))}))),[e,n,g,p,d,t,a,c])}})),a.register("dtI9r",(function(n,t){e(n.exports,"useSwapCardProps",(function(){return m}));var o=a("iOvk1"),r=a("47coL"),s=a("fhD70"),i=a("zHB5r"),u=a("I4BHf"),l=a("jd96V"),c=a("4xLuU"),d=a("UWzy4"),p=a("iX5lP"),g=a("8BJCs");function m({transactionHooks:e,priceHooks:n,accountHooks:t}){var a,m;const{bestBuyAmount:f,currentQuote:S,hasNoRoutes:v,multichainQuoteResponse:w,quotes:y,isFetchingQuote:h}=(0,p.useQuote)(),b=(0,u.useExchangeRate)(f,w,S),k=(0,c.usePriceImpact)((0,s.getSwapPriceImpact)(S)),T=(0,g.useSlippage)(null==w?void 0:w.slippageTolerance),A=(0,d.useProvider)((0,i.getSwapQuoteSources)(S)),F=(0,r.getSwapExecutionDuration)(S),E=(null===(a=null==w?void 0:w.sellToken)||void 0===a?void 0:a.chainId)?o.Chains.getChainName(w.sellToken.chainId):void 0,I=(null===(m=null==w?void 0:w.buyToken)||void 0===m?void 0:m.chainId)?o.Chains.getChainName(w.buyToken.chainId):void 0;return{exchangeRate:b,hasNoRoutes:v,priceImpact:k,slippage:T,provider:A,fees:(0,l.useFees)({transactionHooks:e,priceHooks:n,accountHooks:t}),nrOfQuotes:y.length,executionDuration:F,isFetchingQuote:h,sellNetwork:E,buyNetwork:I}}})),a.register("47coL",(function(n,t){e(n.exports,"getSwapExecutionDuration",(function(){return r}));var o=a("dNQbj");const r=e=>e&&(0,o.isBridgeQuote)(e)?e.executionDuration:0})),a.register("fhD70",(function(n,t){e(n.exports,"getSwapPriceImpact",(function(){return r}));var o=a("dNQbj");const r=e=>e?(0,o.isBridgeQuote)(e)?void 0:e.priceImpact:0})),a.register("zHB5r",(function(n,t){e(n.exports,"getSwapQuoteSources",(function(){return s}));var o=a("ghVs8"),r=a("dNQbj");const s=e=>{var n;return e?(0,r.isBridgeQuote)(e)?(0,o.getBridgeTools)(e):null!==(n=null==e?void 0:e.sources)&&void 0!==n?n:[]:[]}})),a.register("ghVs8",(function(n,t){e(n.exports,"getBridgeTools",(function(){return o}));const o=e=>e.steps.map((e=>e.tool))})),a.register("I4BHf",(function(t,o){e(t.exports,"useExchangeRate",(function(){return d}));var r=a("RVqnc"),s=a("kAKNF"),i=a("29o0l"),u=a("iTQ0V"),l=a("dbFer");const c=n(s)(1);function d(e,t,o){const[a,d]=(0,i.useState)(!1),p=(0,i.useCallback)((()=>d(!a)),[a]),g=(0,u.useSwapperStore)((e=>e.sellFungible)),m=(0,u.useSwapperStore)((e=>e.buyFungible));return(0,i.useMemo)((()=>{let i=!1,u="";if(t&&o){const t=null==m?void 0:m.data,d=null==g?void 0:g.data;if(t&&d){const{buyAmount:p,sellAmount:g}=o,m=(0,r.amountToUiAmount)(p,t.decimals),f=(0,r.amountToUiAmount)(g,d.decimals),S=m.dividedBy(f),v=`1 ${d.symbol} ≈ ${(0,l.formatTokenAmountGreaterThan1)(S)} ${t.symbol}`,w=`1 ${t.symbol} ≈ ${(0,l.formatTokenAmountGreaterThan1)(c.dividedBy(S))} ${d.symbol}`;i=new(n(s))(o.buyAmount).isEqualTo(e),u=a?w:v}}return{isBestRate:i,rate:u,flip:p}}),[e,o,a,t,g,m,p])}})),a.register("jd96V",(function(t,o){e(t.exports,"useFees",(function(){return f}));var r=a("iOvk1"),s=a("kAKNF"),i=a("29o0l"),u=a("iTQ0V"),l=a("azr2P"),c=a("6FeQw"),d=a("dNQbj"),p=a("784a8"),g=a("fx1OB"),m=a("iX5lP");const f=({transactionHooks:e,priceHooks:t,accountHooks:o})=>{var a,f;const{currentQuote:S}=(0,m.useQuote)(),v=(0,g.useInitialSellFungible)({accountHooks:o}),w=null!==(a=(0,u.useSwapperStore)((e=>e.sellFungible)))&&void 0!==a?a:v,y=(0,u.useSwapperStore)((e=>e.gasEstimation)),h=(0,u.useSwapperStore)((e=>e.isFetchingGasEstimation)),b=(0,u.useSwapperStore)((e=>e.maxGasEstimation)),k=null!==(f=null==w?void 0:w.data.chain.id)&&void 0!==f?f:r.NetworkIDs.Solana.Mainnet,T=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Solana),A=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Ethereum),F=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Polygon),{data:E={}}=t.usePrices({query:{data:[T,A,F]}}),{data:I,isFetching:C}=e.useGasEstimationPrice(k,(0,p.aggregateGasEstimation)(y)),{data:x}=e.useGasEstimationPrice(k,(0,p.aggregateGasEstimation)(b)),N=h||C,P=(0,i.useMemo)((()=>{var e,t,o,r,a;if((0,d.isBridgeQuote)(S)){const o=S.steps.flatMap((e=>e.feeCosts)).find((e=>"phantom"===e.name));return{amount:new(n(s))(null!==(e=null==o?void 0:o.amount)&&void 0!==e?e:0),uiAmount:"",pct:parseFloat(null!==(t=null==o?void 0:o.percentage)&&void 0!==t?t:"0")}}const i=(null!==(o=null==S?void 0:S.fees)&&void 0!==o?o:[]).find((e=>"phantom"===e.type));return{amount:new(n(s))(null!==(r=null==i?void 0:i.amount)&&void 0!==r?r:0),uiAmount:"",pct:null!==(a=null==i?void 0:i.percentage)&&void 0!==a?a:0}}),[S]),D=(0,i.useMemo)((()=>{var e,t,o;if((0,d.isBridgeQuote)(S))return{amount:new(n(s))(0),uiAmount:"",pct:0};const r=(null!==(e=null==S?void 0:S.fees)&&void 0!==e?e:[]).find((e=>"Token account deposits"===e.name));return{amount:new(n(s))(null!==(t=null==r?void 0:r.amount)&&void 0!==t?t:0),uiAmount:(null==r?void 0:r.amount)?(0,l.formatFee)(k,new(n(s))(r.amount),E):"",pct:null!==(o=null==r?void 0:r.percentage)&&void 0!==o?o:0}}),[S,k,E]),R=(0,i.useMemo)((()=>{if(!S||!(0,d.isBridgeQuote)(S))return{amount:new(n(s))(0),uiAmount:"",pct:0};const e=(0,c.getBridgeStepsFees)(S);return{amount:e,uiAmount:(0,l.formatFee)(k,e,E),pct:0}}),[k,S,E]),M=(0,i.useMemo)((()=>{var e,t,o,a;return Object.assign(Object.assign({amount:null!==(e=S&&(null==I?void 0:I.gasEstimationAmount))&&void 0!==e?e:new(n(s))(0),uiAmount:null!==(t=S&&(null==I?void 0:I.gasEstimationPriceUSD))&&void 0!==t?t:""},r.Chains.isEVMNetworkID(k)?{maxAmount:null!==(o=S&&(null==x?void 0:x.gasEstimationAmount))&&void 0!==o?o:new(n(s))(0),maxUiAmount:null!==(a=S&&(null==x?void 0:x.gasEstimationPriceUSD))&&void 0!==a?a:""}:{}),{pct:0})}),[S,null==I?void 0:I.gasEstimationAmount,null==I?void 0:I.gasEstimationPriceUSD,null==x?void 0:x.gasEstimationAmount,null==x?void 0:x.gasEstimationPriceUSD,k]),Q=(0,i.useMemo)((()=>{var e;const n=D.amount.plus(M.amount).plus(R.amount),t=r.Chains.isEVMNetworkID(k)?D.amount.plus(null!==(e=M.maxAmount)&&void 0!==e?e:0).plus(R.amount):void 0;return Object.assign({amount:n,uiAmount:(0,l.formatFee)(k,n,E),pct:0},r.Chains.isEVMNetworkID(k)&&t?{maxAmount:t,maxUiAmount:(0,l.formatFee)(k,t,E)}:{})}),[D.amount,M.amount,M.maxAmount,R.amount,k,E]);return(0,i.useMemo)((()=>({phantomFee:P,networkFee:M,tokenAccountFee:D,totalFees:Q,nonIncludedFees:R,isFetchingFees:N})),[P,M,D,Q,R,N])}})),a.register("azr2P",(function(t,o){e(t.exports,"formatFee",(function(){return l}));var r=a("5slFC"),s=a("RVqnc"),i=a("kAKNF"),u=a("dbFer");function l(e,t,o){if(t.lte(0))return"";const{caip19:a,decimals:l,symbol:c}=r.NATIVE_TOKEN_MAP[e];if(!a||!l||!c)return"";const d=t.div(new(n(i))(10).pow(l)),p=o[a];if(!(null==p?void 0:p.usd))return`${(0,u.formatTokenAmountGreaterThan1)(d.toString())} ${c}`;const g=d.times(p.usd).toNumber(),m=(0,s.formatDollarAmount)(g,{minimumAmount:1e-6,decimalFormatSmallNumbers:"0.[00000]"});return"$NaN"!==m?m:""}})),a.register("6FeQw",(function(t,o){e(t.exports,"getBridgeStepsFees",(function(){return s}));var r=a("kAKNF");const s=e=>e.steps.reduce(((e,t)=>e.plus(new(n(r))(t.nonIncludedNonGasFees))),new(n(r))(0))})),a.register("784a8",(function(t,o){e(t.exports,"aggregateGasEstimation",(function(){return u}));var r=a("iOvk1"),s=a("7gANb"),i=a("kAKNF");const u=e=>{if(e&&0!==e.length)return(0,s.isEthereumGasEstimation)(e[0])?e.reduce(((e,n)=>Object.assign(Object.assign({},e),{gasLimit:e.gasLimit.plus(n.gasLimit)})),{networkID:r.Chains.ethereum.mainnetID,gasLimit:new(n(i))(0),maxFeePerGas:e[0].maxFeePerGas,maxPriorityFeePerGas:e[0].maxPriorityFeePerGas}):(0,s.isSolanaGasEstimation)(e[0])?e.reduce(((e,n)=>Object.assign(Object.assign({},e),{value:e.value+n.value})),{networkID:r.Chains.solana.mainnetID,value:0}):void 0}})),a.register("4xLuU",(function(n,t){e(n.exports,"usePriceImpact",(function(){return i}));var o=a("29o0l"),r=a("bKooM"),s=a("31DM9");function i(e){return(0,o.useMemo)((()=>{let n="",t="";if(void 0===e)return;const o=100*e;return n=(0,r.getPriceImpactColor)(o),t=(0,s.getPriceImpactText)(o),{color:n,text:t,percentage:o}}),[e])}})),a.register("bKooM",(function(n,t){function o(e){if(void 0===e)return"#999";const n=parseFloat(e.toFixed(2));switch(!0){case n>=5:return"#EB3742";case n>=1&&e<5:return"#FFDC62";case e>=0&&e<1:return"#21E56F";default:return"#777777"}}e(n.exports,"getPriceImpactColor",(function(){return o}))})),a.register("31DM9",(function(n,t){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(n.exports,"getPriceImpactText",(function(){return o}))})),a.register("UWzy4",(function(n,t){e(n.exports,"useProvider",(function(){return s}));var o=a("29o0l"),r=a("eH8pa");function s(e){return(0,o.useMemo)((()=>(0,r.parseSwapSources)(e)),[e])}})),a.register("8BJCs",(function(n,t){e(n.exports,"useSlippage",(function(){return i}));var o=a("29o0l"),r=a("XQLa4"),s=a("eJK8G");function i(e){return(0,o.useMemo)((()=>{let n="",t="";if(void 0!==e)return n=(0,r.getSlippageColor)(e),t=(0,s.getSlippageText)(e),{color:n,text:t,percentage:e}}),[e])}})),a.register("XQLa4",(function(n,t){function o(e){if(void 0===e)return"#999";const n=parseFloat(e.toFixed(2));switch(!0){case n>2:return"#EB3742";case n>=1&&e<=2:return"#FFDC62";default:return"#777777"}}e(n.exports,"getSlippageColor",(function(){return o}))})),a.register("eJK8G",(function(n,t){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(n.exports,"getSlippageText",(function(){return o}))})),a.register("8vNNq",(function(n,t){e(n.exports,"useSwapConfirmationProps",(function(){return P}),(function(e){return P=e}));var o=a("h0VH5"),r=a("iOvk1"),s=a("43063"),i=a("7mQ3Y"),u=a("5uSEV"),l=a("csW2r"),c=a("RVqnc"),d=a("29o0l"),p=a("2UOPE"),g=a("gndyZ"),m=a("SJcyj"),f=a("a6NKv"),S=a("iTQ0V"),v=a("eanp9"),w=a("47coL"),y=a("fhD70"),h=a("zHB5r"),b=a("adhE7"),k=a("8A1G6"),T=a("lgcfo"),A=a("iI3xI"),F=a("jd96V"),E=a("fx1OB"),I=a("UWzy4"),C=a("iX5lP"),x=a("k7AnB"),N=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function P({accountSigner:e,fungibleHooks:n,priceHooks:t,settingsHooks:a,transactionHooks:P,accountHooks:D,simulationHooks:R,analytics:M,asyncSwapAnalytics:Q,isLedger:O,onError:H,priorityFeeService:B,isSwapSimulationDisabled:U,storage:L,goToSwapTab:z,goToSwapReview:V,goToActivityTab:q}){var j,_,G,K,W;const{t:$}=(0,s.useTranslation)(),X=(0,E.useInitialSellFungible)({accountHooks:D}),Z=p.CHAIN_TO_USDC_FUNGIBLE.get(X.data.chain.id),{currentQuote:J}=(0,C.useQuote)(),Y=null!==(j=(0,S.useSwapperStore)((e=>e.buyFungible)))&&void 0!==j?j:Z,ee=null!==(_=(0,S.useSwapperStore)((e=>e.sellFungible)))&&void 0!==_?_:X,ne=(0,S.useSwapperStore)((e=>e.buyUsdValue)),te=(0,S.useSwapperStore)((e=>e.sellUsdValue)),oe=(0,S.useSwapperStore)((e=>e.setSellFungible)),re=(0,S.useSwapperStore)((e=>e.resetSwapper)),ae=(0,S.useSwapperStore)((e=>e.setQuoteFetchIntervalToggle)),{buyAmount:se,sellAmount:ie}=null!=J?J:{buyAmount:"0",sellAmount:"0"},ue=(0,c.amountToUiAmount)(se,Y.data.decimals).toNumber(),le=(0,c.amountToUiAmount)(ie,ee.data.decimals).toNumber(),ce=(0,w.getSwapExecutionDuration)(J),de=(0,v.formatSecondsAsSwapTime)(ce,$),[pe]=(0,d.useState)(de),[ge]=(0,d.useState)((0,b.isBridgeSwap)(ee.data.chain.id,Y.data.chain.id)),me=(0,I.useProvider)((0,h.getSwapQuoteSources)(J)),fe=(0,F.useFees)({transactionHooks:P,priceHooks:t,accountHooks:D}),Se=(0,T.useAnalyticsPayload)({buyToken:Y,sellToken:ee,buyAmount:null!==(G=null==J?void 0:J.buyAmount.toString())&&void 0!==G?G:"",sellAmount:null!==(K=null==J?void 0:J.sellAmount.toString())&&void 0!==K?K:"",phantomFeeUiAmount:fe.phantomFee.uiAmount,priceImpact:(0,y.getSwapPriceImpact)(J),provider:me,buyAssetUsdValue:ne,sellAssetUsdValue:te}),ve=null!==(W=null==ee?void 0:ee.data.chain.id)&&void 0!==W?W:r.NetworkIDs.Solana.Mainnet,{data:we}=D.useSelectedMultiChainAccount(),ye=(0,d.useMemo)((()=>{var e;return null!==(e=null==we?void 0:we.addresses)&&void 0!==e?e:[]}),[we]),he=(0,d.useMemo)((()=>{var e,n;return null!==(n=null===(e=ye.find((e=>e.networkID===(null==ee?void 0:ee.data.chain.id))))||void 0===e?void 0:e.address)&&void 0!==n?n:""}),[ye,ee]),be=(0,d.useMemo)((()=>r.Chains.getAddressType(ve)),[ve]),{data:ke}=(0,f.useSwapTransactions)({transactionHooks:P,callerAddress:he,priorityFeeService:B,quote:J,sellFungible:ee}),Te=(null==ke?void 0:ke.transactions.length)||0,[Ae,Fe]=(0,d.useState)(),Ee=(0,d.useMemo)((()=>{var e;return null!==(e=null==Ae?void 0:Ae.id)&&void 0!==e?e:""}),[Ae]),{data:Ie}=a.usePreferredExplorers(),Ce=(0,d.useMemo)((()=>{if(!Ee)return;const e=null==Ie?void 0:Ie.explorers[ve];return(0,u.generateExplorerUrl)({networkID:ve,endpoint:"transaction",explorerType:e,param:Ee})}),[Ee,ve,Ie]),[xe,Ne]=(0,d.useState)("loading"),Pe="success"===xe,De="error"===xe,Re=!!Ae,[Me,Qe]=(0,d.useState)(),{notEnoughSol:Oe,txErrorTitle:He,txErrorMessage:Be}=(0,x.useSwapErrorDetails)(ge,Me),Ue=(0,d.useCallback)((e=>{M.capture("swapperSwapSuccess",Se);const n=(0,o.chainFromNetworkID)(e.networkID);l.telemetry.addBreadcrumb(l.FeatureTag.Swapper,"transactionStatus",l.Severity.Info,Object.assign(Object.assign({},n),{txReceipt:e.id})),n.chainType!==i.AddressType.EVM&&n.chainType!==i.AddressType.Solana||Q.then((t=>t.transactionStatus(e.id,Object.assign(Object.assign({},n),{status:{type:"confirmed"}}))))}),[M,Se,Q]),Le=(0,d.useCallback)((e=>N(this,void 0,void 0,(function*(){Ue(e),re(),(0,k.updateSellFungibleAmount)({sellAmount:ie,sellFungible:ee,setSellFungible:oe}),n.invalidateTokens(ye)}))),[Ue,re,ie,ee,oe,n,ye]),ze=(0,d.useCallback)((()=>{const e=(null==Ae?void 0:Ae.networkID)?(0,o.chainFromNetworkID)(Ae.networkID):null;(null==e?void 0:e.chainType)!==i.AddressType.EVM&&(null==e?void 0:e.chainType)!==i.AddressType.Solana||!(null==Ae?void 0:Ae.id)||(l.telemetry.addBreadcrumb(l.FeatureTag.Swapper,"transactionStatus",l.Severity.Error,Object.assign(Object.assign({},e),{txReceipt:Ae.id})),Q.then((n=>n.transactionStatus(Ae.id,Object.assign(Object.assign({},e),{status:{type:"error"}})))))}),[Q,Ae]),{isSuccess:Ve,isError:qe,error:je}=P.useWaitForTransactionConfirmation(Le,De?void 0:Ae);(0,d.useEffect)((()=>{Ve?Ne("success"):qe&&(Ne("error"),Qe(je),ze())}),[Ve,qe,Q,je,Ae,ze]);const _e=(0,d.useCallback)((e=>{Ne("error"),Qe(e),H&&e.message!==g.SwapperErrorCodes.NotValidScanResultsError&&e.message!==g.SwapperErrorCodes.SlippageExceeded&&H(e),M.capture("swapperSwapFailure",{data:Object.assign(Object.assign({},Se.data),{error:e.message})})}),[M,Se.data,H]),{clearQuotes:Ge}=(0,m.useSwapClearQuotes)(),Ke=(0,d.useCallback)((()=>{ae(!0),Ge(),z()}),[z,ae,Ge]),We=(0,d.useCallback)((()=>{ae(!0),V()}),[V,ae]),$e=(0,d.useCallback)((()=>{re(),q()}),[q,re]),{executeSwap:Xe,isReadyToExecute:Ze}=(0,A.useExecuteSwap)({addressType:be,analytics:M,accountHooks:D,simulationHooks:R,accountSigner:e,asyncSwapAnalytics:Q,fungibleHooks:n,isSwapSimulationDisabled:U,onTransactionSentError:_e,onTransactionReceiptReceived:e=>{Fe(e)},priorityFeeService:B,resetToInitialState:()=>{Ne("loading"),Qe(void 0),Fe(void 0)},sender:he,storage:L,transactionHooks:P});return{sellAsset:{amount:le,symbol:ee.data.symbol,networkID:ee.data.chain.id},buyAsset:{amount:ue,symbol:Y.data.symbol,networkID:Y.data.chain.id},estimatedTime:pe,isBridge:ge,isSuccess:Pe,isFailure:De,isLedger:O,isClosable:Re,notEnoughSol:Oe,txError:Me,txErrorTitle:He,txErrorMessage:Be,txLink:null!=Ce?Ce:"",executeSwap:Xe,resetSwapper:re,numberOfTransactions:Te,isReadyToExecute:Ze,addressType:be,onClose:Ke,onRetry:We,onSwapSuccess:$e}}})),a.register("gndyZ",(function(n,t){e(n.exports,"SwapperErrorCodes",(function(){return o})),e(n.exports,"SwapperError",(function(){return a}));new Error("Missing sender address for swapping fungibles."),new Error("Missing signature from swapping fungibles."),new Error("Missing transactions for swapping fungibles.");var o,r;(r=o||(o={})).NoCurrentQuoteError="Trying to execute swap with no current quote",r.NoMultichainQuoteResponseError="Trying to execute swap with no multichain quote response",r.NoGasEstimation="No gas estimation available",r.NoSwapTransactions="No swap transactions available",r.InsufficientFunds="INSUFFICIENT_FUNDS",r.SlippageExceeded="slippageToleranceExceeded",r.NotValidScanResultsError="Scan results are not valid",r.NotEnoughSol="NotEnoughSol",r.TransactionConfirmationFailed="Transaction confirmation failed",r.UnknownError="UnknownError",r.EmptyRoute="EmptyRoute",r.InvalidCalculation="InvalidCalculation",r.MissingPlatformFeeAccount="MissingPlatformFeeAccount",r.InvalidSlippage="InvalidSlippage",r.NotEnoughPercent="NotEnoughPercent",r.InvalidInputIndex="InvalidInputIndex",r.InvalidOutputIndex="InvalidOutputIndex",r.NotEnoughAccountKeys="NotEnoughAccountKeys",r.NonZeroMinimumOutAmountNotSupported="NonZeroMinimumOutAmountNotSupported",r.InvalidRoutePlan="InvalidRoutePlan",r.InvalidReferralAuthority="InvalidReferralAuthority",r.LedgerTokenAccountDoesNotMatch="LedgerTokenAccountDoesNotMatch",r.InvalidTokenLedger="InvalidTokenLedger",r.IncorrectTokenProgramID="IncorrectTokenProgramID",r.TokenProgramNotProvided="TokenProgramNotProvided",r.SwapNotSupported="SwapNotSupported",r.ExactOutAmountNotMatched="ExactOutAmountNotMatched",r.SourceAndDstinationMintCannotBeTheSame="SourceAndDstinationMintCannotBeTheSame";class a extends Error{constructor(e){super(e)}}})),a.register("8A1G6",(function(n,t){function o({sellAmount:e,sellFungible:n,setSellFungible:t}){if(n&&e){const o=Object.assign({},n);o.data.amount=String(Number(n.data.amount)-Number(e)),t(o)}}e(n.exports,"updateSellFungibleAmount",(function(){return o}))})),a.register("lgcfo",(function(n,t){e(n.exports,"useAnalyticsPayload",(function(){return s}));var o=a("29o0l"),r=a("1vR3U");function s({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:a,buyAmount:s,sellAmount:i,phantomFeeUiAmount:u,priceImpact:l,provider:c}){return(0,o.useMemo)((()=>{const o=(0,r.legacyAnalyticsPayload)({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:a,buyAmount:s,sellAmount:i,phantomFeeUiAmount:u,priceImpact:l,provider:c});return o?{data:o}:{}}),[e,t,s,n,u,l,c,i,a])}})),a.register("iI3xI",(function(n,t){e(n.exports,"useExecuteSwap",(function(){return y}),(function(e){return y=e}));var o=a("h0VH5"),r=a("iOvk1"),s=a("7mQ3Y"),i=a("csW2r"),u=a("29o0l"),l=a("gndyZ"),c=a("l7Y64"),d=a("a6NKv"),p=a("iTQ0V"),g=a("huZwj"),m=a("fx1OB"),f=a("1SPSD"),S=a("iX5lP"),v=a("1obA0"),w=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function y({addressType:e,accountHooks:n,simulationHooks:t,accountSigner:a,asyncSwapAnalytics:y,fungibleHooks:h,isSwapSimulationDisabled:b,priorityFeeService:k,onTransactionReceiptReceived:T,onTransactionSentError:A,resetToInitialState:F,sender:E,storage:I,transactionHooks:C}){var x,N,P;const{connection:D}=C.useSelectedSolanaConnection(),{data:R}=n.useSelectedMultiChainAccount(),{currentQuote:M,multichainQuoteResponse:Q}=(0,S.useQuote)(),O=(0,m.useInitialSellFungible)({accountHooks:n}),H=(0,p.useSwapperStore)((e=>e.maxGasEstimation)),B=null!==(x=(0,p.useSwapperStore)((e=>e.sellFungible)))&&void 0!==x?x:O,U=null!==(N=null==B?void 0:B.data.chain.id)&&void 0!==N?N:r.NetworkIDs.Solana.Mainnet,{data:L,isSuccess:z}=(0,d.useSwapTransactions)({transactionHooks:C,callerAddress:E,priorityFeeService:k,quote:M,sellFungible:B}),V=(0,v.useSwapScanTransaction)({accountHooks:n,simulationHooks:t,swapTransactions:L}),{pendingActivityRows:q}=(0,f.usePendingActivity)({accountHooks:n,fungibleHooks:h,priorityFeeService:k,sender:E,transactionHooks:C}),{mutateAsync:j}=(0,c.useMultichainSwapFungibles)({accountSigner:a,storage:I,accountIdentifier:null!==(P=null==R?void 0:R.identifier)&&void 0!==P?P:"",networkID:U}),[_,G]=(0,u.useState)(!1),K=(0,u.useCallback)((e=>{const n=(0,o.chainFromNetworkID)(U);i.telemetry.addBreadcrumb(i.FeatureTag.Swapper,"submittedTransaction",i.Severity.Info,Object.assign(Object.assign({},n),{txReceipt:e.id,method:n.chainType===s.AddressType.Solana?"signAndSendTransaction":n.chainType===s.AddressType.EVM?"eth_sendRawTransaction":"UNKNOWN"})),n.chainType===s.AddressType.Solana?y.then((t=>t.submittedTransaction(e.id,Object.assign(Object.assign({},n),{method:"signAndSendTransaction"})))):n.chainType===s.AddressType.EVM&&y.then((t=>t.submittedTransaction(e.id,Object.assign(Object.assign({},n),{method:"eth_sendRawTransaction"}))))}),[y,U]),W=_||(!V.isLoading||b)&&z;return{executeSwap:(0,u.useCallback)((()=>w(this,void 0,void 0,(function*(){G(!0),F();try{if(!M)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoCurrentQuoteError);if(!Q)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoMultichainQuoteResponseError);if(!H||0===(null==H?void 0:H.length))throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoGasEstimation);if(!L)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoSwapTransactions);if("insufficientFunds"===V.state)throw new(0,l.SwapperError)(l.SwapperErrorCodes.InsufficientFunds);if("slippageToleranceExceeded"===V.state)throw new(0,l.SwapperError)(l.SwapperErrorCodes.SlippageExceeded);if("valid"!==V.state)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NotValidScanResultsError);const n=yield j({type:e,callerAddress:E,swapTransactions:L,pendingSwapActivityRows:q.pendingSwapActivityRows,pendingApprovalActivityRows:q.pendingApprovalActivityRows,gasEstimation:H,connection:D});if(K(n),T(n),n.error)throw n.error}catch(e){const n=(0,g.parseSwapError)(e);A(n)}}))),[e,D,M,Q,H,K,j,A,T,q.pendingSwapActivityRows,q.pendingApprovalActivityRows,F,V.state,E,L]),isReadyToExecute:W}}})),a.register("huZwj",(function(n,t){e(n.exports,"parseSwapError",(function(){return m}));var o=a("7gANb"),r=a("gndyZ");const s=["slippageToleranceExceeded"],i="INSUFFICIENT_FUNDS",u=o.ERROR_SOLANA_NO_FUNDS_FEE,l="insufficient lamports",c="lower balance than rent-exempt minimum",d=o.ERROR_SOLANA_NO_SOL_TOKENS,p="Transaction confirmation failed";function g(e){switch(function(e){try{return Number(e.split('"Custom":')[1].split("}")[0])}catch(e){return null}}(e.message)){case 301:case 6001:return r.SwapperErrorCodes.SlippageExceeded;case 6e3:return r.SwapperErrorCodes.EmptyRoute;case 6002:return r.SwapperErrorCodes.InvalidCalculation;case 6003:return r.SwapperErrorCodes.MissingPlatformFeeAccount;case 6004:return r.SwapperErrorCodes.InvalidSlippage;case 6005:return r.SwapperErrorCodes.NotEnoughPercent;case 6006:return r.SwapperErrorCodes.InvalidInputIndex;case 6007:return r.SwapperErrorCodes.InvalidOutputIndex;case 6008:return r.SwapperErrorCodes.NotEnoughAccountKeys;case 6009:return r.SwapperErrorCodes.NonZeroMinimumOutAmountNotSupported;case 6010:return r.SwapperErrorCodes.InvalidRoutePlan;case 6011:return r.SwapperErrorCodes.InvalidReferralAuthority;case 6012:return r.SwapperErrorCodes.LedgerTokenAccountDoesNotMatch;case 6013:return r.SwapperErrorCodes.InvalidTokenLedger;case 6014:return r.SwapperErrorCodes.IncorrectTokenProgramID;case 6015:return r.SwapperErrorCodes.TokenProgramNotProvided;case 6016:return r.SwapperErrorCodes.SwapNotSupported;case 6017:return r.SwapperErrorCodes.ExactOutAmountNotMatched;case 6018:return r.SwapperErrorCodes.SourceAndDstinationMintCannotBeTheSame;default:return null}}function m(e){if(void 0===e)return new(0,r.SwapperError)(r.SwapperErrorCodes.UnknownError);if(e instanceof r.SwapperError)return e;const n=function(e){var n;return"string"==typeof e?new Error(e):"object"==typeof e&&"logs"in e&&(null===(n=e.logs)||void 0===n?void 0:n.length)?new Error(e.logs.join("\n")):e}(e);if(n.message.includes(i))return new(0,r.SwapperError)(r.SwapperErrorCodes.InsufficientFunds);if(function(e){for(const n of s)if(e.includes(n))return!0;return!1}(n.message))return new(0,r.SwapperError)(r.SwapperErrorCodes.SlippageExceeded);if(n.message===r.SwapperErrorCodes.NotValidScanResultsError)return new(0,r.SwapperError)(r.SwapperErrorCodes.NotValidScanResultsError);if([u,l,d,c].some((e=>n.message.includes(e))))return new(0,r.SwapperError)(r.SwapperErrorCodes.NotEnoughSol);const t=g(n);if(null!==t)return new(0,r.SwapperError)(t);return n.message.includes(p)?new(0,r.SwapperError)(r.SwapperErrorCodes.TransactionConfirmationFailed):new(0,r.SwapperError)(r.SwapperErrorCodes.UnknownError)}})),a.register("1SPSD",(function(n,t){e(n.exports,"usePendingActivity",(function(){return f}));var o=a("43063"),r=a("RVqnc"),s=a("29o0l"),i=a("2UOPE"),u=a("a6NKv"),l=a("iTQ0V"),c=a("aOjWH"),d=a("zHB5r"),p=a("fx1OB"),g=a("UWzy4"),m=a("iX5lP");function f({accountHooks:e,fungibleHooks:n,priorityFeeService:t,sender:a,transactionHooks:f}){var S,v,w,y;const{t:h}=(0,o.useTranslation)(),{currentQuote:b}=(0,m.useQuote)(),k=(0,p.useInitialSellFungible)({accountHooks:e}),T=i.CHAIN_TO_USDC_FUNGIBLE.get(k.data.chain.id),A=null!==(S=(0,l.useSwapperStore)((e=>e.buyFungible)))&&void 0!==S?S:T,F=null!==(v=(0,l.useSwapperStore)((e=>e.sellFungible)))&&void 0!==v?v:k,E=(0,g.useProvider)((0,d.getSwapQuoteSources)(b)),{data:I}=(0,u.useSwapTransactions)({transactionHooks:f,callerAddress:a,priorityFeeService:t,quote:b,sellFungible:F}),C=(e,n)=>n.find((n=>n.data.tokenAddress===(0,c.getFungibleKey)(e))),x=({sellFungible:e,buyFungible:n,sellAmount:t,buyAmount:o,provider:a,isBridge:s,t:i})=>{var u,l;const c=e.data.symbol,d=n.data.symbol,p=(0,r.amountToUiAmount)(null!=t?t:0,null!==(u=e.data.decimals)&&void 0!==u?u:0),g=(0,r.amountToUiAmount)(null!=o?o:0,null!==(l=n.data.decimals)&&void 0!==l?l:0);return{topLeft:{label:`${i(s?"transactionsPendingBridging":"transactionsPendingSwapping")} on ${a}`},topRight:{label:`${g} ${d}`,color:"#21E56F"},bottomLeft:{label:`${c} ${String.fromCharCode(8594)} ${d}`},bottomRight:{label:`${p} ${c}`}}},N=null!==(y=null===(w=null==I?void 0:I.transactionPairs)||void 0===w?void 0:w.flatMap((e=>[(0,c.getFungibleKey)(e.sellToken),(0,c.getFungibleKey)(e.buyToken)])))&&void 0!==y?y:[],P=[...new Set(N)],{fungibles:D}=n.useGetFungibleBalances({keys:P}),R=(0,s.useMemo)((()=>{const e={pendingSwapActivityRows:[],pendingApprovalActivityRows:[]};return I?"evm"===I.type?I.transactionTypes.reduce(((e,n,t)=>{var o,r;let a,s=F,i=A;const u=I.transactionPairs;if(u&&u[t]){const e=u[t];s=null!==(o=C(e.sellToken,D))&&void 0!==o?o:F,i=null!==(r=C(e.buyToken,D))&&void 0!==r?r:A,a=e.approvalMetadata}if(n.includes("approval")){const n=s.data.symbol;e.pendingApprovalActivityRows.push({topLeft:a?{label:`${h("transactionsPendingApproving")} ${a.symbol}`}:{label:`${h("transactionsPendingApproving")} ${n}`}})}else e.pendingSwapActivityRows.push(x({sellFungible:s,buyFungible:i,sellAmount:null==b?void 0:b.sellAmount,buyAmount:null==b?void 0:b.buyAmount,provider:E,isBridge:n.includes("bridge"),t:h}));return e}),e):I.transactionTypes.reduce(((e,n,t)=>{var o,r;let a=F,s=A;const i=I.transactionPairs;if(i&&i[t]){const e=i[t];a=null!==(o=C(e.sellToken,D))&&void 0!==o?o:F,s=null!==(r=C(e.buyToken,D))&&void 0!==r?r:A}return e.pendingSwapActivityRows.push(x({sellFungible:a,buyFungible:s,sellAmount:null==b?void 0:b.sellAmount,buyAmount:null==b?void 0:b.buyAmount,provider:E,isBridge:n.includes("bridge"),t:h})),e}),e):e}),[I,F,A,D,h,null==b?void 0:b.sellAmount,null==b?void 0:b.buyAmount,E]);return{pendingActivityRows:R}}})),a.register("aOjWH",(function(n,t){e(n.exports,"getFungibleKey",(function(){return r}));var o=a("iOvk1");const r=e=>e.resourceType===o.Caip19ResourceType.address?o.Chains.isEVMNetworkID(e.chainId)?e.address.toLowerCase():e.address:e.slip44})),a.register("1obA0",(function(n,t){e(n.exports,"useSwapScanTransaction",(function(){return c}));var o=a("iOvk1"),r=a("29o0l"),s=a("iTQ0V"),i=a("aLpTp"),u=a("fx1OB"),l=a("iX5lP");const c=({accountHooks:e,simulationHooks:n,swapTransactions:t})=>{var a,c,d;const p=(0,u.useInitialSellFungible)({accountHooks:e}),g=null!==(a=(0,s.useSwapperStore)((e=>e.sellFungible)))&&void 0!==a?a:p,m=null!==(c=null==g?void 0:g.data.chain.id)&&void 0!==c?c:o.NetworkIDs.Solana.Mainnet,{data:f}=e.useSelectedChainAddress({address:g.data.walletAddress,networkID:g.data.chain.id}),S=null!==(d=null==f?void 0:f.address)&&void 0!==d?d:"",{currentQuote:v,multichainQuoteResponse:w}=(0,l.useQuote)();let y=null;"evm"===(null==t?void 0:t.type)&&o.Chains.isEVMNetworkID(m)&&(y={networkID:m,url:"https://phantom.app",userAccount:S,transactions:t.transactions}),"solana"===(null==t?void 0:t.type)&&o.Chains.isSolanaNetworkID(m)&&(y={networkID:m,url:"https://phantom.app",userAccount:S,transactions:t.transactions});const h=n.useScanTransaction({label:"useSwapScanTransaction",params:y,refetchInterval:!1});return(0,r.useMemo)((()=>{var e,n;if(h.isLoading)return{isLoading:!0,state:"loading"};const t=null===(n=null===(e=h.data)||void 0===e?void 0:e.evaluation)||void 0===n?void 0:n.simulationResults,o=(0,i.validateScanResult)({simulationResults:t,scanResultError:h.isError,quote:v,sellToken:null==w?void 0:w.sellToken,buyToken:null==w?void 0:w.buyToken,simulationTolerance:null==w?void 0:w.simulationTolerance});return{isLoading:h.isLoading,state:o}}),[h,v,w])}})),a.register("aLpTp",(function(t,o){e(t.exports,"validateScanResult",(function(){return g}));var r=a("iOvk1"),s=a("Dohsj"),i=a("csW2r"),u=a("kAKNF"),l=a("6FeQw"),c=a("dNQbj");const d="swap-validation",p=e=>n=>n.rawInfo.data.contract.address===(e=>{var n;if(e.resourceType===r.Caip19ResourceType.nativeToken){if(["60","966"].includes(e.slip44))return"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"}else if(e.resourceType===r.Caip19ResourceType.address)return null!==(n=e.address)&&void 0!==n?n:"";return""})(e),g=({simulationResults:e,scanResultError:n,quote:t,sellToken:o,buyToken:r,simulationTolerance:a=.01})=>{var s,u;if(n)return"valid";if(!(t&&e&&o&&r&&a))return i.telemetry.addBreadcrumb(d,`Missing necessary args: ${JSON.stringify({quote:!!t,simulationResults:!!e,sellToken:o,buyToken:r,simulationTolerance:a})}`,i.Severity.Info),"missingArgument";if(["SIMULATION_FAILED"].includes(null!==(u=null===(s=e.error)||void 0===s?void 0:s.kind)&&void 0!==u?u:""))return"valid";if(e.error){const n=m(e),t=f(e);if(t)return"insufficientFunds";const a=n?"slippageToleranceExceeded":t?"insufficientFunds":"unknownError";return i.telemetry.addBreadcrumb(d,`Simulation has error: ${JSON.stringify({sellToken:o,buyToken:r,error:"unknownError"===a?e.error:a})}`,i.Severity.Info),a}if("isRecentBlockhashExpired"in e)return"valid";const{isSimulationToleranceExceeded:l,buyDiff:c,sellDiff:p}=S(e,r,o,t,a);return l&&i.telemetry.addBreadcrumb(d,`Diff is larger than simulationTolerance: ${JSON.stringify({sellToken:o,buyToken:r,buyDiff:c.toString(),sellDiff:p.toString(),simulationTolerance:a})}`,i.Severity.Info),l?"exceedsSimulationTolerance":"valid"},m=e=>{var n,t,o,r;const a="UNKNOWN_ERROR"===(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.kind),s="raw"in e&&null!==(r=null===(o=null===(t=null==e?void 0:e.raw)||void 0===t?void 0:t.logs)||void 0===o?void 0:o.slice(-6).some((e=>e.includes("SlippageToleranceExceeded"))))&&void 0!==r&&r;return a&&s},f=e=>{var n,t,o,r;const a=["INSUFFICIENT_FUNDS"].includes(null!==(t=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.kind)&&void 0!==t?t:""),s=["ACCOUNT_DOES_NOT_HAVE_ENOUGH_SOL_TO_PERFORM_THE_OPERATION"].includes(null!==(r=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.kind)&&void 0!==r?r:"");return a||s},S=(e,t,o,a,i=.01)=>{const d=e.expectedStateChanges.filter((e=>[s.StateChangeKind.Erc20Transfer,s.StateChangeKind.NativeAssetTransfer].includes(e.rawInfo.kind))),g=d.filter(p(t)).reduce(((e,t)=>{const{before:o,after:r}=t.rawInfo.data.amount,a=new(n(u))(o),s=new(n(u))(r);return e.plus(s.minus(a))}),new(n(u))(0)),m=d.filter(p(o)).reduce(((e,t)=>{const{before:o,after:r}=t.rawInfo.data.amount,a=new(n(u))(o),s=new(n(u))(r);return e.plus(a.minus(s))}),new(n(u))(0)),f=o.resourceType===r.Caip19ResourceType.nativeToken,S=new(n(u))(a.buyAmount),v=new(n(u))(a.sellAmount),w=g.minus(S).dividedBy(S).absoluteValue();let y=m.minus(v);if(f&&(0,c.isBridgeQuote)(a)){const e=(0,l.getBridgeStepsFees)(a);y=y.minus(e)}y=y.dividedBy(v).absoluteValue();return{isSimulationToleranceExceeded:!(((0,c.isBridgeQuote)(a)||w.lt(i))&&y.lt(i)),buyDiff:w,sellDiff:y}}})),a.register("k7AnB",(function(n,t){e(n.exports,"useSwapErrorDetails",(function(){return i}));var o=a("43063"),r=a("29o0l"),s=a("gndyZ");function i(e,n){const{t:t}=(0,o.useTranslation)();return(0,r.useMemo)((()=>{if(n){let o,r;return e?(o=t("swapTxBridgeFailed"),r=n.message===s.SwapperErrorCodes.SlippageExceeded?t("swapTxConfirmationSwapFailedSlippageLimit"):t("swapTxBridgeFailedDescription")):(o=t("swapTxConfirmationSwapFailed"),r=n.message===s.SwapperErrorCodes.InsufficientFunds?t("swapTxConfirmationSwapFailedInsufficientBalance"):n.message===s.SwapperErrorCodes.SlippageExceeded?t("swapTxConfirmationSwapFailedSlippageLimit"):n.message===s.SwapperErrorCodes.EmptyRoute?t("swapTxConfirmationSwapFailedEmptyRoute"):t("swapTxConfirmationSwapFailedTryAgain")),{notEnoughSol:n.message===s.SwapperErrorCodes.NotEnoughSol,txErrorTitle:o,txErrorMessage:r}}return{notEnoughSol:!1,txErrorTitle:"",txErrorMessage:""}}),[n,e,t])}})),a.register("lCzzn",(function(t,o){e(t.exports,"useSwapProvidersProps",(function(){return S}));var r=a("iOvk1"),s=a("5slFC"),i=a("43063"),u=a("kAKNF"),l=a("29o0l"),c=a("iTQ0V"),d=a("1HuLi"),p=a("784a8"),g=a("iX5lP"),m=a("2Zpaf");const f=(e,n)=>{let t="";return e.resourceType===r.Caip19ResourceType.nativeToken?t=(0,s.networkIdToNativeTokenFungibleKey)(e.chainId):e.address&&(t=e.address),n.find((e=>e.data.key.toLowerCase()===t.toLowerCase()))};function S({enableNativeBridgePairs:e,accountHooks:t,fungibleHooks:o,transactionHooks:a,priceHooks:s,getApiEnvironment:S,analytics:v}){const{t:w}=(0,i.useTranslation)(),{bestBuyAmount:y,multichainQuoteResponse:h,isFetchingQuote:b,quotes:k,selectedProviderIndex:T}=(0,g.useQuote)(),A=(0,c.useSwapperStore)((e=>e.setSelectedProviderIndex)),F=(0,c.useSwapperStore)((e=>e.maxGasEstimation)),E=(0,c.useSwapperStore)((e=>e.sellFungible)),{assets:I,isFetching:C}=(0,m.useSwapBuyAssetList)({enableNativeBridgePairs:e,fungibleHooks:o,accountHooks:t,getApiEnvironment:S}),x=null==E?void 0:E.data.chain.id,{data:N}=a.useGasEstimationPrice(x,(0,p.aggregateGasEstimation)(F)),P=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Solana),D=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Ethereum),R=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Polygon),{data:M={}}=s.usePrices({query:{data:[P,D,R]}}),Q="xchain"===(null==h?void 0:h.type),O=(0,l.useMemo)((()=>{var e;if(!h||0===I.length)return[];const{buyToken:t}=h,o=f(t,I);return o?Q?(0,d.parseBridgeProviders)({quotes:k,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,networkIDForFees:x,networkFee:null!==(e=null==N?void 0:N.gasEstimationAmount)&&void 0!==e?e:new(n(u))(0),priceMap:M,t:w}):(0,d.parseSwapProviders)({quotes:k,bestBuyAmount:y,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,bestPriceLabel:w("swapFeesBestPrice")}):[]}),[h,I,k,y,w,x,N,M,Q]),H=(0,l.useCallback)((e=>{const n=O[e];v.capture("swapperProviderSelected",{data:{provider:n.name}}),A(e)}),[A,O,v]);return{rows:O,selectedProviderIndex:T,isLoadingProviders:b||C||!1,setSelectedProviderIndex:H}}})),a.register("1HuLi",(function(t,o){e(t.exports,"parseSwapProviders",(function(){return v})),e(t.exports,"parseBridgeProviders",(function(){return w}));var r=a("RVqnc"),s=a("kAKNF"),i=a("azr2P"),u=a("eanp9"),l=a("6FeQw"),c=a("ghVs8"),d=a("dbFer"),p=a("eH8pa"),g=a("dNQbj");const m="FASTEST",f=["RECOMMENDED",m],S=e=>{if((0,g.isBridgeQuote)(e))return(0,p.parseSwapSources)((0,c.getBridgeTools)(e));const{sources:n}=e;return(0,p.parseSwapSources)(n)},v=({quotes:e,bestBuyAmount:t,buyTokenDecimals:o,buyTokenSymbol:r,bestPriceLabel:a})=>e.map((e=>{const{buyAmount:i}=e,u=new(n(s))(i),l=new(n(s))(u).minus(t),c=(0,d.amountToFormattedAmountGreaterThan1)(l,o);return{name:S(e),fee:l.isNaN()?"-":l.isZero()?a:`${c} ${r}`}})),w=({quotes:e,buyTokenDecimals:n,buyTokenSymbol:t,networkIDForFees:o,networkFee:a,priceMap:s,t:c})=>e.filter(g.isBridgeQuote).map((e=>{var p;const{buyAmount:g,executionDuration:v,steps:w,tags:y}=e,h=(0,l.getBridgeStepsFees)(e).plus(a),b=y.filter((e=>f.includes(e))).map((e=>({key:e,text:c(`swapProvidersTag${(0,r.capitalizeFirstLetter)(e)}`)}))),k=y.includes(m),T=w.find((e=>!!e.tool.logoURI));return{name:S(e),fee:o&&s?c("swapProvidersFee",{fee:(0,i.formatFee)(o,h,s)}):"",amount:`${(0,d.amountToFormattedAmountGreaterThan1)(g,n)} ${t}`,time:{text:(0,u.formatSecondsAsSwapTime)(v,c),isFast:k||v<=300},tags:b,logoURI:null!==(p=null==T?void 0:T.tool.logoURI)&&void 0!==p?p:""}}))})),a.register("9PpHT",(function(t,o){e(t.exports,"useSwapReviewButtonProps",(function(){return m}));var r=a("5slFC"),s=a("RVqnc"),i=a("kAKNF"),u=a("29o0l"),l=a("iTQ0V"),c=a("9XJOV"),d=a("adhE7"),p=a("jd96V"),g=a("iX5lP");function m({accountHooks:e,fungibleHooks:t,transactionHooks:o,priceHooks:a}){var m;const{currentQuote:f,isFetchingQuote:S}=(0,g.useQuote)(),v=(0,l.useSwapperStore)((e=>e.hasNoRoutes)),w=(0,l.useSwapperStore)((e=>e.sellFungible)),y=(0,l.useSwapperStore)((e=>e.sellAmount)),h=null==w?void 0:w.data.chain.id,b=(0,l.useSwapperStore)((e=>e.gasEstimation)),k=(0,l.useSwapperStore)((e=>e.maxGasEstimation)),T=(0,l.useSwapperStore)((e=>e.buyFungible)),A=null==T?void 0:T.data.chain.id,{fungible:F}=t.useGetFungibleBalance({key:h?(0,r.networkIdToNativeTokenFungibleKey)(h):void 0}),{fungible:E}=t.useGetFungibleBalance({key:A?(0,r.networkIdToNativeTokenFungibleKey)(A):void 0}),I=new(n(i))(null!==(m=null==E?void 0:E.data.amount)&&void 0!==m?m:0),C=(0,d.isBridgeSwap)(h,A),x=C&&I.isZero(),{totalFees:N}=(0,p.useFees)({transactionHooks:o,priceHooks:a,accountHooks:e}),{data:P}=o.useTransactionSpeedsToUnitCost({networkID:h}),D=(0,u.useMemo)((()=>w?(0,c.getMaxSellAmount)({sellFungible:w,totalFees:N.amount,transactionSpeedsToUnitCost:P,isBridge:C}):"0"),[w,N,P,C]),R=!!(null==w?void 0:w.type)&&(0,r.isNative)(null==w?void 0:w.type),M=null==w?void 0:w.data.decimals,Q=null==w?void 0:w.data.chain.id,{data:O}=e.useSelectedChainAddress({address:null==w?void 0:w.data.walletAddress,networkID:null==w?void 0:w.data.chain.id}),{data:H=0}=(0,r.useMinimumRequiredBalance)(O),B=(0,u.useMemo)((()=>{var e;const t=null!==(e=N.maxAmount)&&void 0!==e?e:N.amount;if(R){const e=new(n(i))((0,s.uiAmountToAmount)(y,null!=M?M:0));return t.plus(e)}return t.plus(C?0:H)}),[R,y,M,N.amount,N.maxAmount,C,H]),U=F?(0,s.amountToFormattedAmount)(F.data.amount,F.data.decimals):"-",L=F?(0,s.amountToFormattedAmount)(B,F.data.decimals):"-",z=(0,u.useMemo)((()=>{var e;return new(n(i))(null!==(e=null==F?void 0:F.data.amount)&&void 0!==e?e:0).lt(B)}),[null==F?void 0:F.data.amount,B]),V=new(n(i))(y).isLessThanOrEqualTo(new(n(i))(D));return{canSwap:!!w&&!!f&&V&&!v&&!!((null!=b?b:[]).length>0&&(null!=k?k:[]).length>0)&&!S,hasEnoughAssets:V,hasNoRoutes:v,hasNoFundsForFees:z,hasLowDestinationNetworkBalance:x,sourceNativeToken:{networkId:Q,balance:U,required:L}}}})),a.register("iTLyO",(function(t,o){e(t.exports,"useSwapReviewProps",(function(){return v}));var r=a("iOvk1"),s=a("5slFC"),i=a("RVqnc"),u=a("kAKNF"),l=a("29o0l"),c=a("iTQ0V"),d=a("4qSWN"),p=a("csOwI"),g=a("dbFer"),m=a("fx1OB"),f=a("iX5lP");const S={network:{id:r.Chains.solana.mainnetID,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol,imageUrl:r.Chains.solana.iconUrl},tokenType:s.FungibleTokenType.SolanaNative,symbol:"",logoUri:"",tokenAddress:"",amount:"",amountUsd:""};function v({priceHooks:e,accountHooks:t}){var o;const r=(0,c.useSwapperStore)((e=>e.buyFungible)),a=(0,m.useInitialSellFungible)({accountHooks:t}),v=null!==(o=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==o?o:a,w=(0,c.useSwapperStore)((e=>e.sellAmount)),y=(0,c.useSwapperStore)((e=>e.setBuyUsdValue)),h=(0,c.useSwapperStore)((e=>e.setSellUsdValue)),b=(0,l.useMemo)((()=>{const e=[];return r&&v&&(e.push((0,s.getFungibleCaip19FromFungible)(r)),e.push((0,s.getFungibleCaip19FromFungible)(v))),{query:{data:e}}}),[r,v]),{data:k}=e.usePrices(b),{currentQuote:T,multichainQuoteResponse:A}=(0,f.useQuote)();return(0,l.useMemo)((()=>{var e,t;if(!(A&&T&&r&&v))return{buyToken:S,sellToken:S};const o=null==r?void 0:r.data,a=null==v?void 0:v.data;if(!o||!a)return{buyToken:S,sellToken:S};let s="",l="",c="",m="";const{buyAmount:f}=T,b=(0,i.amountToUiAmount)(f,o.decimals),F=n(u)(w),E=String(b).split(".")[0].length,I=w.split(".")[0].length,C=null===(e=o.symbol)||void 0===e?void 0:e.length,x=null===(t=a.symbol)||void 0===t?void 0:t.length,N=E&&C?E+C:0,P=I&&x?I+x:0;c=`${(0,p.formatTokenAmountForReviewScreen)(F,P)} ${a.symbol}`,s=`${(0,p.formatTokenAmountForReviewScreen)(b,N)} ${o.symbol}`;const D=(0,d.extractPrice)(r,k),R=(0,d.extractPrice)(v,k);if(null==D?void 0:D.usd){const e=b.multipliedBy(D.usd);l=`$${(0,g.formatTokenAmountGreaterThan1)(e)}`,y(D.usd)}if(null==R?void 0:R.usd){const e=F.multipliedBy(R.usd);m=`$${(0,g.formatTokenAmountGreaterThan1)(e)}`,h(R.usd)}return{buyToken:{network:o.chain,tokenType:r.type,symbol:o.symbol,logoUri:o.logoUri,tokenAddress:o.tokenAddress,amount:s,amountUsd:l},sellToken:{network:a.chain,tokenType:v.type,symbol:a.symbol,logoUri:a.logoUri,tokenAddress:a.tokenAddress,amount:c,amountUsd:m}}}),[A,r,v,T,w,y,h,k])}})),a.register("6M54M",(function(n,t){e(n.exports,"useSwapSellAssetProps",(function(){return h}));var o=a("5slFC"),r=a("43063"),s=a("RVqnc"),i=a("29o0l"),u=a("2UOPE"),l=a("j3ma1"),c=a("iTQ0V"),d=a("csOwI"),p=a("9XJOV"),g=a("adhE7"),m=a("jd96V"),f=a("79gfS"),S=a("fx1OB"),v=a("30pgP"),w=a("hNhmc");const y=500;function h({transactionHooks:e,priceHooks:n,accountHooks:t,fungibleHooks:a,getApiEnvironment:h,queryClient:b,isBalanceHidden:k,enableNativeBridgePairs:T}){var A;const{t:F}=(0,r.useTranslation)(),E=(0,S.useInitialSellFungible)({accountHooks:t}),I=null!==(A=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==A?A:E,C=(0,c.useSwapperStore)((e=>e.buyFungible)),x=(0,c.useSwapperStore)((e=>e.sellAmount)),N=(0,c.useSwapperStore)((e=>e.uiSellAmount)),P=(0,c.useSwapperStore)((e=>e.setSellAmount)),D=(0,c.useSwapperStore)((e=>e.setSellFungible)),R=(0,c.useSwapperStore)((e=>e.setUiSellAmount)),M=(0,w.useSwapAssetCaip19)(I),Q=null==I?void 0:I.data.key,{fungible:O}=a.useGetFungibleBalance({key:Q}),H=(0,v.useSupportedNetworkIDs)({accountHooks:t}),B=null==I?void 0:I.data.chain.id,U=null==C?void 0:C.data.chain.id,[L,z]=(0,s.useDebouncedChangeHandler)(x,P,y),{totalFees:V}=(0,m.useFees)({transactionHooks:e,priceHooks:n,accountHooks:t}),{data:q}=e.useTransactionSpeedsToUnitCost({networkID:B}),j=(0,g.isBridgeSwap)(B,U),_=null==I?void 0:I.data.amount,G=I?I.data.decimals:0,K=(0,i.useMemo)((()=>(0,p.getMaxSellAmount)({sellFungible:I,totalFees:V.amount,transactionSpeedsToUnitCost:q,isBridge:j})),[I,V,q,j]),W=new(0,s.BigNumber)(null!=x?x:0).isGreaterThan(new(0,s.BigNumber)(K)),$=I&&I.data.symbol?I.data.symbol:"",X=`${F("swapBalance")} ${(0,o.formatAmount)(I.data.balance)} ${I.data.symbol}`,Z=x.split(".")[0].length,J=$.length,Y=Z&&J?Z+J:0,ee=k?`${u.BALANCE_HIDDEN_TEXT}`:`${(0,d.formatTokenAmountForReviewScreen)((0,s.amountToUiAmount)(_,G),Y)}`,ne=(0,i.useCallback)((e=>{const n=(0,s.formatTokenAmountInputs)(e.substring(0,u.MOBILE_SWAP_INPUT_MAX_LENGTH)),t=(0,s.formatTokenAmountToMaxDecimals)(n,G);R(t),z(t)}),[G,z,R]),te=(0,i.useCallback)((()=>{ne(K)}),[K,ne]);(0,i.useEffect)((()=>{O&&O.data.amount!==_&&D(O)}),[O,_,D]),(0,i.useEffect)((()=>{x&&(0,l.prefetchSwapPairs)({sellToken:M,supportedNetworkIDs:H,enableNativeBridgePairs:T,getApiEnvironment:h,queryClient:b})}),[M,H,T,h,b,x]);const oe=(0,f.useHasSwapMinimumSellAmount)(n);return{assetButtonTitle:$,assetSubheadline:X,decimals:G,formattedMaxSellAmount:ee,sellFungible:I,notEnoughAssets:W,uiSellAmount:N,hasMinimumSellAmount:oe,setMaxSellAmount:te,updateSellAmount:ne}}})),a.register("dMwYe",(function(n,t){e(n.exports,"useFeeBreakdown",(function(){return i}));var o=a("43063"),r=a("RVqnc"),s=a("29o0l");function i(e){const{t:n}=(0,o.useTranslation)();return(0,s.useMemo)((()=>{const{networkFee:t,phantomFee:o,tokenAccountFee:a,nonIncludedFees:s}=e;return{networkFee:{label:n("swapQuoteNetwork"),value:t.uiAmount,maxValue:t.maxUiAmount},bridgeFee:{label:n("swapQuoteBridgeFee"),value:s.uiAmount,maxValue:s.maxUiAmount},tokenAccountFee:{label:n("swapQuoteOneTimeTokenAccount"),value:a.uiAmount},phantomFeePercent:{label:o.pct?n("swapQuoteFeeDisclaimer",{feePercentage:(0,r.formatPercentage)(o.pct)}):"",value:o.pct?`${o.pct}`:""}}}),[e,n])}})),a.register("kRqRr",(function(n,t){e(n.exports,"swapperShouldDehydrateQueryPredicate",(function(){return r}));const o=[a("dOGoW").SWAPPER_QUERY_KEYS_PREFIX.pairs],r=e=>{const n=String(e.queryKey[1]);return o.includes(n)}})),a.register("3JFMB",(function(n,t){e(n.exports,"createSwapAnalytics",(function(){return r}));var o=a("h0VH5");const r=e=>new(0,o.SequenceAnalytics)(e,"swap")}))}();
//# sourceMappingURL=swapper.71addccc.js.map
define=__define;})(window.define);