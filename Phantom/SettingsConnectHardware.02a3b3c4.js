(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=r.parcelRequire1d24;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},r.parcelRequire1d24=i),i.register("4a41I",(function(e,t){i("eOkdY").register(JSON.parse('{"2QFLZ":"SettingsConnectHardware.02a3b3c4.js","5Hh3e":"bip32.0415b1e7.js","9l3GE":"main.30915ee0.js","ia8XW":"Eth.2d040527.js","bnDSu":"Solana.39b78c22.js","aAOB3":"ledgerSignerBitcoin.63456bcf.js","8ZV50":"english.dc8cdfce.js","bSKtD":"crypto-browserify.e188246b.js","9Dpy0":"notification.5cbd182e.css"}'))})),i.register("eOkdY",(function(t,r){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("gX5Te",(function(r,n){e(r.exports,"transactionsSdk",(function(){return $})),e(r.exports,"fungiblesSdk",(function(){return U})),e(r.exports,"hooks",(function(){return q}));var o=i("4xbAj");i("OZskz");var s=i("c8vyP"),a=i("iOvk1"),c=i("21aqi"),u=i("2onIY"),l=i("hM5LD"),d=i("bBa7X"),f=i("5slFC");i("eJxop");var p=i("3r36j"),h=i("ibwoK");i("g9PKp");var g=i("89Vzt"),v=i("56oyT"),y=i("hnZYD"),m=i("5uSEV"),E=i("egHtJ"),w=i("HlEsU"),T=i("kram9"),A=i("7gANb"),b=i("3FEtE");i("iMnOw");var S=i("cxnZW"),C=i("2jR04"),x=i("Dohsj"),O=i("5MNpG"),I=i("c8OXT"),D=i("41yT6"),L=i("cqeOY"),R=i("goVRJ"),P=i("JepPo"),N=i("twk6W"),k=i("dbmto");const M=new(0,R.LegacyIndexedDBProxy),j=new(0,A.PriorityFeeService),F=(0,O.getVaultProxy)(),B=(0,A.createUtxoManager)(new(0,A.UtxoStore)(M)),_=new(0,c.CollectiblesSdk),$=new(0,A.TransactionsSdk),U=new(0,f.FungiblesSdk),q=function(e){const{analytics:r,chainAvailabilityDeps:n,fungiblesSdk:i,legacyStorage:O,priorityFeeService:D,queryClient:R,storage:P,vaultProxy:M}=e,j=(0,a.createChainHooks)(M,n,R,[o.invalidateAllAccounts,m.invalidateAddressBookEntries,h.invalidateActionBanners]),F=(0,o.createAccountHooks)(M,P,O,R,j,r,(0,L.getLegacyMnemonicFetcher)()),$=(0,s.createAutoConfirmHooks)(M,P,j,r,R),U=(0,v.createPriceHooks)({queryClient:R,getApiEnvironment:u.getAPIEnvironment,analytics:r}),q=(0,m.createSettingsHooks)(M,P,O,R,j,r,I.BROWSER_ENV.browser.name===t(C).BROWSER_MAP.firefox||m.DEFAULT_IS_ANALYTICS_OPTED_OUT),K=(0,x.createSimulationHooks)(P,r,F),G=(0,A.createTransactionHooks)(F,M,R,P,r,U,u.getAPIEnvironment,B),W=(0,E.createStakingHooks)({analytics:r,accountSigner:M,accountHooks:F,storage:P,legacyStorage:O,fungiblesSdk:i,transactionHooks:G,queryClient:R,getApiEnvironment:u.getAPIEnvironment,priceHooks:U,stakeAnalytics:N.asyncStakeAnalytics}),H=(0,w.createStorageHooks)(O,P,R),V=(0,b.createWalletScreenHooks)(u.getAPIEnvironment,r),z=(0,f.createFungibleHooks)({analytics:r,sdk:i,storage:P,legacyStorage:O,getApiEnvironment:u.getAPIEnvironment,queryClient:R,settingsHooks:q,transactionHooks:G,accountSigner:M,accountHooks:F,priorityFeeService:D,utxoManager:B,vaultProxy:M,chainHooks:j,priceHooks:U,walletScreenHooks:V}),Q=(0,c.createCollectibleHooks)(M,P,u.getAPIEnvironment,R,D,F,r,U,G,z,B,_),X=(0,T.createSwapperHooks)(M,P,u.getAPIEnvironment,R,r,N.asyncSwapAnalytics,U,z,F,q,G,K),Y=(0,d.createFiatRampHooks)(u.getAPIEnvironment),J=(0,k.getLedgerWebHIDDependencies)(),Z=(0,p.createHardwareWireHooks)((0,k.getLedgerWebHIDDependencies)(),R),ee=(0,g.createOnboardingHooks)(P,R,r,J,O),te=(0,h.createInterstitialHooks)(u.getAPIEnvironment,P,R,F,h.Platform.BrowserExt,r),re=(0,S.createShortcutHooks)(u.getAPIEnvironment,R),ne=(0,y.createQuestHooks)(u.getAPIEnvironment,R,F,q,(()=>(0,N.isFeatureEnabled)("kill-quests"))),oe=(0,l.createExploreHooks)(P,u.getAPIEnvironment,F,r.getDeviceId(),(()=>(0,N.isFeatureEnabled)("enable-bitcoin-explore")));return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},F),$),j),Q),z),ee),U),q),W),H),X),G),Z),Y),te),V),re),ne),oe),K)}({analytics:N.analytics,chainAvailabilityDeps:{storage:M,isBitcoinFlagEnabled:()=>!(0,N.isFeatureEnabled)("kill-bitcoin-default")},fungiblesSdk:U,legacyStorage:new(0,P.LocalStorage),priorityFeeService:j,queryClient:D.queryClient,storage:M,utxoManager:B,vaultProxy:F})})),i.register("OZskz",(function(t,r){e(t.exports,"createAutoConfirmHooks",(function(){return i("c8vyP").createAutoConfirmHooks})),e(t.exports,"AbstractAutoConfirmService",(function(){return i("gSZiQ").AbstractAutoConfirmService})),e(t.exports,"AutoConfirmAnalytics",(function(){return i("guZvk").AutoConfirmAnalytics})),i("fLCrw");i("c8vyP"),i("gSZiQ"),i("guZvk")})),i.register("fLCrw",(function(t,r){e(t.exports,"createAutoConfirmHooks",(function(){return i("c8vyP").createAutoConfirmHooks}));i("gwqsO"),i("gvOZ5"),i("4b0uC"),i("lSVit"),i("c8vyP")})),i.register("gwqsO",(function(e,t){i("3ljHn"),i("29o0l"),i("lSVit")})),i.register("lSVit",(function(t,r){e(t.exports,"useFetchEnabledNetworkIdsForDomain",(function(){return l}),(function(e){return l=e}));var n=i("2onIY"),o=i("beWYh"),s=i("RVqnc"),a=i("5ekp2"),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const u=e=>[`auto-confirm:${e}--enabled`];function l(e){return(0,a.useQuery)({queryKey:u((0,s.removeWebPrefixes)(e)),cacheTime:3e5,queryFn(){return c(this,void 0,void 0,(function*(){return yield function(e){return c(this,void 0,void 0,(function*(){const t=yield o.rb.post(`${(0,n.getAPIEnvironment)()}/auto-confirm/v1/dapp`,{domain:e}),{data:r}=t;return(null==r?void 0:r.supportedChainIds)&&Array.isArray(r.supportedChainIds)?r.supportedChainIds:[]}))}((0,s.removeWebPrefixes)(e))}))}})}})),i.register("gvOZ5",(function(r,n){e(r.exports,"useAutoConfirmSettingsStore",(function(){return a}));var o=i("gTwcH");const s={settings:void 0,origin:void 0,accountIdentifier:void 0},a=t(o)((e=>Object.assign(Object.assign({},s),{setSettingsForDomain:(t,r,n)=>e({accountIdentifier:t,origin:r,settings:n}),reset:()=>e(s)})))})),i.register("4b0uC",(function(r,n){e(r.exports,"useAutoConfirmSettingsProps",(function(){return h}),(function(e){return h=e}));var o=i("4xbAj"),s=i("3ljHn"),a=i("5uSEV"),c=i("4VuRl"),u=i("29o0l"),l=i("9w5Wb"),d=i("gvOZ5"),f=i("lSVit"),p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const h=(e,r,n,i,h,g,{origin:v,autoSave:y=!1})=>{const{data:m}=(0,o.useSelectedMultiChainAccount)(e,r,n,i),E=m?m.identifier:"",{get:{data:w},set:{mutateAsync:T}}=(0,a.useAutoConfirmSettings)(r,g,E,v),A=t(l)(w),b=(0,o.useSelectedNetworks)(e,r,n,i),{data:S=[],isLoading:C}=(0,f.useFetchEnabledNetworkIdsForDomain)(v),{data:[x,O]}=(0,s.useFeatureFlags)(["kill-automatic-approval","enable-automatic-approval-for-all-dapps"]),I=S.length>0,D=!x&&(O||I),{shadowSettings:L,setShadowSettings:R,reset:P,origin:N,accountIdentifier:k}=(0,d.useAutoConfirmSettingsStore)((e=>({shadowSettings:e.settings,setShadowSettings:e.setSettingsForDomain,origin:e.origin,accountIdentifier:e.accountIdentifier,reset:e.reset})));t(u).useEffect((()=>{v==N&&E==k||P()}),[v,N,P,E,k]),t(u).useEffect((()=>{D&&null!=w&&(null!=w&&null==L&&R(E,v,w),null==w||!y||(0,c.dequal)(w,L)||(0,c.dequal)(w,A)||R(E,v,w))}),[w,R,L,v,E,D,y,N,k,A]);const M=t(u).useMemo((()=>(0,o.isHardwareWalletAccountType)(null==m?void 0:m.type)),[m]),j=t(u).useMemo((()=>O?b:b.filter((e=>S.includes(e)))),[b,S,O]),F=t(u).useCallback((e=>{var t;return e?!!(null===(t=null==L?void 0:L.networks)||void 0===t?void 0:t[e]):j.some((e=>{var t;return!!(null===(t=null==L?void 0:L.networks)||void 0===t?void 0:t[e])}))}),[j,L]),B=t(u).useCallback((e=>{var t,r;if(!D||M)return;const n=JSON.parse(JSON.stringify(L));if((null==n?void 0:n.networks)&&null==(null===(t=null==n?void 0:n.networks)||void 0===t?void 0:t[e]))n.networks[e]=!0;else{if(!(null==n?void 0:n.networks))return!1;n.networks[e]=!n.networks[e]}n.sessionStartTime=Date.now(),n.maxSessionDuration=a.MAX_SESSION_DURATION,R(E,v,n),y&&T(n);const o=null!==(r=n.networks[e])&&void 0!==r&&r;return h.onAutoConfirmSettingsChanged({origin:v,networkID:e,enabled:o,sessionStartTime:o?null==n?void 0:n.sessionStartTime:void 0,maxSessionDuration:o?null==n?void 0:n.maxSessionDuration:void 0,view:y?"TRUSTED_APP":"NOTIFICATION"}),o}),[D,M,L,R,E,v,y,h,T]),_=t(u).useCallback((()=>{if(!D||null==L||M)return;const e=!F(),t=JSON.parse(JSON.stringify(L));for(const r of j)t.networks[r]=e;return t.sessionStartTime=Date.now(),t.maxSessionDuration=a.MAX_SESSION_DURATION,R(E,v,JSON.parse(JSON.stringify(t))),y&&T(t),h.onAutoConfirmSettingsChanged({origin:v,networkID:"all",enabled:e,sessionStartTime:e?null==t?void 0:t.sessionStartTime:void 0,maxSessionDuration:e?null==t?void 0:t.maxSessionDuration:void 0,view:y?"TRUSTED_APP":"NOTIFICATION"}),e}),[D,L,M,F,R,E,v,y,h,j,T]),$=t(u).useCallback((()=>p(void 0,void 0,void 0,(function*(){D&&null!=L&&!M&&(yield T(L))}))),[L,T,D,M]),U=t(u).useMemo((()=>{var e;return null!=(null==L?void 0:L.sessionStartTime)?new Date((null==L?void 0:L.sessionStartTime)+1e3*(null!==(e=null==L?void 0:L.maxSessionDuration)&&void 0!==e?e:0)):null}),[null==L?void 0:L.sessionStartTime,null==L?void 0:L.maxSessionDuration]),q=C;return t(u).useMemo((()=>({enabled:D,isHardwareAccount:M,showAutoConfirmRow:D&&!M,toggle:B,networkIDs:j,isActive:F,untilDate:U,settings:L,toggleAll:_,save:$,resetShadowSettings:P,loading:q,isAutoConfirmIsTouched:!(0,c.dequal)(L,w)})),[D,M,B,j,F,U,L,_,$,P,q,w])}})),i.register("9w5Wb",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=i("29o0l");e.exports.default=function(e){var t=r.useRef();return r.useEffect((function(){t.current=e})),t.current}})),i.register("c8vyP",(function(t,r){e(t.exports,"createAutoConfirmHooks",(function(){return a}));var n=i("4xbAj"),o=i("guZvk"),s=i("4b0uC");function a(e,t,r,i,a){const c=new(0,n.AccountAnalytics)(i),u=new(0,o.AutoConfirmAnalytics)(i);return{useAutoConfirmSettingsProps:n=>(0,s.useAutoConfirmSettingsProps)(e,t,r,c,u,a,n)}}})),i.register("guZvk",(function(t,r){e(t.exports,"AutoConfirmAnalytics",(function(){return c}),(function(e){return c=e}));var n,o=i("csW2r"),s=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},a=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class c{onAutoConfirmSettingsChanged({origin:e,networkID:t,enabled:r,sessionStartTime:i,maxSessionDuration:s,view:c}){o.telemetry.addBreadcrumb(`Auto-Confirm: ${r?"Enabling":"Disabling"} network ID ${t}`,o.FeatureTag.AutoConfirm,o.Severity.Info),a(this,n,"f").capture("autoConfirmSettingsChanged",{data:{origin:e,networkId:t,enabled:r,sessionStartTime:r?i:void 0,maxSessionDuration:r?s:void 0,view:c}})}transactionAutoConfirmed(e,t){var r;const i={type:"transaction",sequenceId:e,data:t};return(null===(r=t.autoConfirm.auditTrail)||void 0===r?void 0:r.length)&&t.autoConfirm.auditTrail.length<7&&(t.autoConfirm.suspectSettingsTamper=!0),o.telemetry.addBreadcrumb(`Auto-Confirm: transaction on origin ${t.origin} for network ${t.networkId} auto-confirmed`,o.FeatureTag.AutoConfirm,o.Severity.Info),t.autoConfirm.suspectSettingsTamper&&o.telemetry.addBreadcrumb("Auto-Confirm: suspected tampering with settings...",o.FeatureTag.AutoConfirm,o.Severity.Info),a(this,n,"f").capture("transactionAutoConfirmed",i)}messageAutoConfirmed(e,t){var r;const i={type:"message",sequenceId:e,data:t};return(null===(r=t.autoConfirm.auditTrail)||void 0===r?void 0:r.length)&&t.autoConfirm.auditTrail.length<7&&(t.autoConfirm.suspectSettingsTamper=!0),o.telemetry.addBreadcrumb(`Auto-Confirm: message on origin ${t.origin} for network ${t.networkId} auto-confirmed`,o.FeatureTag.AutoConfirm,o.Severity.Info),t.autoConfirm.suspectSettingsTamper&&o.telemetry.addBreadcrumb("Auto-Confirm: suspected tampering with settings...",o.FeatureTag.AutoConfirm,o.Severity.Info),a(this,n,"f").capture("transactionAutoConfirmed",i)}constructor(e){n.set(this,void 0),s(this,n,e,"f")}}n=new WeakMap})),i.register("gSZiQ",(function(t,r){e(t.exports,"AbstractAutoConfirmService",(function(){return f}),(function(e){return f=e}));var n=i("cFUcx"),o=i("5uSEV"),s=i("Dohsj"),a=i("RVqnc"),c=i("cr4aP"),u=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const d=[];class f{isEthTransactionAutoConfirmable(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit=[];const t=yield this.didPassGenericChecks(e);if(t.status!==n.AutoConfirmStatusCode.OK)return t;if(!((yield this.isDappWhitelistOverridden())||(yield(0,c.isDappWhitelistedForTransaction)({chainId:e.networkID,domain:(0,a.removeWebPrefixes)(e.url.origin),txObjects:e.data}))))return Object.assign(Object.assign({},t),{status:n.AutoConfirmStatusCode.UnsupportedDapp,auditTrail:this.executedChecksAudit});const r=yield this.didPassEthTransactionSimulation(e),{success:o}=r,i=l(r,["success"]);return o?Object.assign(Object.assign(Object.assign({},t),i),{status:n.AutoConfirmStatusCode.OK,auditTrail:this.executedChecksAudit}):Object.assign(Object.assign(Object.assign({},t),i),{status:n.AutoConfirmStatusCode.SimulationFailed,auditTrail:this.executedChecksAudit})}))}isEthMessageAutoConfirmable(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit=[];const t=yield this.didPassGenericChecks(e);if(t.status!==n.AutoConfirmStatusCode.OK)return t;if(!((yield this.isDappWhitelistOverridden())||(yield(0,c.isDappWhitelistedForMessage)({chainId:e.networkID,domain:(0,a.removeWebPrefixes)(e.url.origin),data:e.data}))))return Object.assign(Object.assign({},t),{status:n.AutoConfirmStatusCode.UnsupportedDapp,auditTrail:this.executedChecksAudit});return(yield this.didPassEthMessageSimulation(e))?Object.assign(Object.assign({},t),{status:n.AutoConfirmStatusCode.OK,auditTrail:this.executedChecksAudit}):Object.assign(Object.assign({},t),{status:n.AutoConfirmStatusCode.SimulationFailed,auditTrail:this.executedChecksAudit})}))}isSolTransactionAutoConfirmable(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit=[];const t=yield this.didPassGenericChecks(e);if(t.status!==n.AutoConfirmStatusCode.OK)return t;if(!((yield this.isDappWhitelistOverridden())||(yield(0,c.isDappWhitelistedForTransaction)({chainId:e.networkID,domain:(0,a.removeWebPrefixes)(e.url.origin),transactions:e.data}))))return Object.assign(Object.assign({},t),{status:n.AutoConfirmStatusCode.UnsupportedDapp,auditTrail:this.executedChecksAudit});const r=yield this.didPassSolTransactionSimulation(e),{success:o}=r,i=l(r,["success"]);return o?Object.assign(Object.assign(Object.assign({},t),i),{status:n.AutoConfirmStatusCode.OK,auditTrail:this.executedChecksAudit}):Object.assign(Object.assign(Object.assign({},t),i),{status:n.AutoConfirmStatusCode.SimulationFailed,auditTrail:this.executedChecksAudit})}))}isSolMessageAutoConfirmable(e){return this.executedChecksAudit=[],Promise.resolve({status:n.AutoConfirmStatusCode.Unimplemented})}didPassGenericChecks(e){return u(this,void 0,void 0,(function*(){try{if(!(yield this.isFeatureEnabled()))return{status:n.AutoConfirmStatusCode.FeatureKilled};if(!(yield this.isWalletUnlocked()))return{status:n.AutoConfirmStatusCode.WalletLocked};if(!(yield this.isTabFocused(e.url.origin)))return{status:n.AutoConfirmStatusCode.TabNotFocused};if(!(yield this.isAutoConfirmEnabledInUserSettings({origin:e.url.origin,networkID:e.networkID,accountIdentifier:e.accountIdentifier})))return{status:n.AutoConfirmStatusCode.Disabled};const t=yield this.isAutoConfirmSessionActive(e.accountIdentifier,e.url.origin);return t.success?(yield this.isNotRateLimited())?{status:n.AutoConfirmStatusCode.OK,sessionStartTime:t.sessionStartTime,sessionMaxDuration:t.sessionMaxDuration}:{status:n.AutoConfirmStatusCode.RateLimitExceeded,sessionStartTime:t.sessionStartTime,sessionMaxDuration:t.sessionMaxDuration}:{status:n.AutoConfirmStatusCode.SessionExpired,sessionStartTime:t.sessionStartTime,sessionMaxDuration:t.sessionMaxDuration}}catch(e){return{status:n.AutoConfirmStatusCode.Unknown}}}))}isAutoConfirmEnabledInUserSettings(e){return u(this,arguments,void 0,(function*({origin:e,accountIdentifier:t,networkID:r}){var i;this.executedChecksAudit.push(n.AutoConfirmCheck.IsAutoConfirmEnabledInUserSettings);const s=yield(0,o.getAutoConfirmSettingsForDomain)(this.storage,t,e);return!0===(null===(i=null==s?void 0:s.networks)||void 0===i?void 0:i[r])}))}isNotRateLimited(){this.executedChecksAudit.push(n.AutoConfirmCheck.IsNotRateLimited);const e=d.findIndex((e=>e<=Date.now()-6e4));return e>-1&&d.splice(e),!(d.length>=10)&&(d.push(Date.now()),!0)}isAutoConfirmSessionActive(e,t){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(n.AutoConfirmCheck.IsAutoConfirmSessionActive);const r=yield(0,o.getAutoConfirmSettingsForDomain)(this.storage,e,t),i=(0,o.isAutoConfirmSessionActive)(r);return{sessionStartTime:r.sessionStartTime,sessionMaxDuration:r.maxSessionDuration,success:i}}))}didPassEthTransactionSimulation(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(n.AutoConfirmCheck.DidPassEthTransactionSimulation);try{return function(e){var t,r,n,o,i,a;if(null==(null===(t=null==e?void 0:e.evaluation)||void 0===t?void 0:t.action))return{success:!1};if(null!=(null===(o=null===(n=null===(r=null==e?void 0:e.evaluation)||void 0===r?void 0:r.simulationResults)||void 0===n?void 0:n.error)||void 0===o?void 0:o.kind))return{success:!1};const c=(0,s.estimateDollarValueFromEstimation)(null===(a=null===(i=null==e?void 0:e.evaluation)||void 0===i?void 0:i.simulationResults)||void 0===a?void 0:a.expectedStateChanges).out;return{success:"NONE"===e.evaluation.action,dollarValue:parseFloat(c.toFixed(6))}}(yield(0,s.scanMultichainTransaction)({label:"autoConfirmScanTransaction",params:{networkID:e.networkID,url:e.url.href,userAccount:e.userAccountAddress,transactions:e.data}}))}catch(e){return{success:!1}}}))}didPassSolTransactionSimulation(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(n.AutoConfirmCheck.DidPassSolTransactionSimulation);try{const t=yield(0,s.scanMultichainTransaction)({label:"autoConfirmScanTransaction",params:{networkID:e.networkID,url:e.url.href,userAccount:e.userAccountAddress,transactions:e.data}});return null==t?{success:!1}:function(e){var t,r,n,o,i,a;if(null==(null===(t=null==e?void 0:e.evaluation)||void 0===t?void 0:t.action))return{success:!1};if(null!=(null===(o=null===(n=null===(r=null==e?void 0:e.evaluation)||void 0===r?void 0:r.simulationResults)||void 0===n?void 0:n.error)||void 0===o?void 0:o.kind))return{success:!1};const c=(0,s.estimateDollarValueFromEstimation)(null===(a=null===(i=null==e?void 0:e.evaluation)||void 0===i?void 0:i.simulationResults)||void 0===a?void 0:a.expectedStateChanges).out;return{success:"NONE"===e.evaluation.action,dollarValue:parseFloat(c.toFixed(6))}}(t)}catch(e){return{success:!1}}}))}didPassEthMessageSimulation(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(n.AutoConfirmCheck.DidPassEthMessageSimulation);try{const n=yield(0,s.scanMessageQueryFn)({networkID:e.networkID,parsedMessage:e.data,url:e.url.href,userAccount:e.userAccountAddress});return!(!n||n.error)&&(null!=(null===(r=null==(t=n)?void 0:t.evaluation)||void 0===r?void 0:r.action)&&"NONE"===t.evaluation.action)}catch(r){return!1}var t,r}))}constructor(e){this.storage=e,this.executedChecksAudit=[]}}})),i.register("cr4aP",(function(t,r){e(t.exports,"isDappWhitelistedForTransaction",(function(){return u}),(function(e){return u=e})),e(t.exports,"isDappWhitelistedForMessage",(function(){return l}),(function(e){return l=e}));var n=i("iOvk1"),o=i("2onIY"),s=i("beWYh"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c=e=>`${(0,o.getAPIEnvironment)()}/auto-confirm/v1/${e}`;function u(e){return a(this,void 0,void 0,(function*(){if(n.Chains.isEVMNetworkID(e.chainId)){const t=(yield s.rb.post(c("transaction"),{txObjects:e.txObjects,chainId:e.chainId,domain:e.domain})).data;return!0===(null==t?void 0:t.isEligible)}if(n.Chains.isSolanaNetworkID(e.chainId)){const t=(yield s.rb.post(c("transaction"),{transactions:e.transactions,chainId:e.chainId,domain:e.domain})).data;return!0===(null==t?void 0:t.isEligible)}return!1}))}function l(e){return a(this,void 0,void 0,(function*(){if(n.Chains.isEVMNetworkID(e.chainId)){const t=JSON.parse(JSON.stringify(e.data));delete t.message,delete t.primaryType,delete t.types;const r=yield s.rb.post(c("message"),{chainId:e.chainId,domain:e.domain,data:[t]}),n=yield r.data;return!0===(null==n?void 0:n.isEligible)}return!1}))}})),i.register("eJxop",(function(t,r){e(t.exports,"refetchLedgerAddresses",(function(){return i("dZ3qP").refetchLedgerAddresses})),e(t.exports,"resetLedgerAddresses",(function(){return i("dZ3qP").resetLedgerAddresses})),e(t.exports,"setLedgerTransportStateOverride",(function(){return i("dZ3qP").setLedgerTransportStateOverride})),e(t.exports,"createHardwareWireHooks",(function(){return i("3r36j").createHardwareWireHooks})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return i("bwiqA").DEFAULT_LEDGER_TRANSPORT_STATE})),e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return i("bwiqA").LEDGER_NOT_CONNECTED_STATE})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return i("bwiqA").LEDGER_RECONNECTING_STATE})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return i("bwiqA").LEDGER_WAITING_FOR_APPROVAL_STATE})),e(t.exports,"LedgerApp",(function(){return i("e59pI").LedgerApp})),e(t.exports,"LedgerLockedError",(function(){return i("a5LJM").LedgerLockedError})),e(t.exports,"getLedgerTransportState",(function(){return i("5i9Ta").getLedgerTransportState})),e(t.exports,"deriveLedgerAddresses",(function(){return i("54Y8k").deriveLedgerAddresses})),e(t.exports,"getLedgerAppDisplayName",(function(){return i("4kKEQ").getLedgerAppDisplayName})),e(t.exports,"getLedgerAppForAddressType",(function(){return i("4kKEQ").getLedgerAppForAddressType})),e(t.exports,"getLedgerAppForNetworkID",(function(){return i("4kKEQ").getLedgerAppForNetworkID})),e(t.exports,"createLedgerWireSigner",(function(){return i("cWagW").createLedgerWireSigner})),e(t.exports,"getAddressTypeFromDerivationPathType",(function(){return i("4vX1O").getAddressTypeFromDerivationPathType}));i("3r36j"),i("bwiqA"),i("e59pI");i("d1qVj");i("a5LJM"),i("5i9Ta"),i("54Y8k"),i("51YJE"),i("dfz3b"),i("4kKEQ"),i("cWagW"),i("4vX1O")})),i.register("3r36j",(function(t,r){e(t.exports,"createHardwareWireHooks",(function(){return c}));i("jgqfR");var n=i("4GWtC"),o=i("4Oih6"),s=(i("led49"),i("6epSx")),a=i("1yw5t");i("6ZHK3");function c(e,t){const{defaultTransportTimeout:r}=e;return{useIsLedgerSupported:()=>(0,n.default)(e),useLedgerWireTransportState:(r,n,o)=>(0,s.useLedgerWireTransportState)(e,t,r,n,o),useRequestLedgerPermission:(r,n)=>(0,a.default)(e,t,r,n),useLedgerAddresses:(e,n,i,s)=>(0,o.default)(r,t,e,n,i,s)}}})),i.register("jgqfR",(function(t,r){e(t.exports,"useConnectedLedgerDeviceMetadata",(function(){return a}));var n=i("5ekp2"),o=i("9O68d"),s=i("dUHlc");const a=(e,t)=>{const r=!!t,i=s.hardwareQueryKeys.accountConnectedDevice(t);return(0,n.useQuery)({enabled:r,queryKey:i,queryFn:()=>(0,o.getConnectedLedgerDeviceMetadata)(e,null!=t?t:"")})}})),i.register("9O68d",(function(t,r){e(t.exports,"getConnectedLedgerDeviceMetadata",(function(){return c}),(function(e){return c=e}));var n=i("4xbAj"),o=i("csW2r"),s=i("a5LJM"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c=(e,t)=>a(void 0,void 0,void 0,(function*(){var r;o.telemetry.addBreadcrumb(o.FeatureTag.Ledger,`Getting Connected Ledger Device metadata for account: ${t}`,o.Severity.Info);const i=yield(0,n.getMultiChainAccountMetadata)(e,t),a=null===(r=null==i?void 0:i.connectedDevices)||void 0===r?void 0:r.find((e=>e.deviceType===n.DeviceType.Ledger&&e.connectionType===n.ConnectionType.BLE));if(!a)throw new(0,s.AccountMetadataNoConnectedDevicesError);return a}))})),i.register("a5LJM",(function(t,r){e(t.exports,"LedgerNotConnectedError",(function(){return o})),e(t.exports,"LedgerMultipleAppsRequestedError",(function(){return i})),e(t.exports,"LedgerLockedError",(function(){return s})),e(t.exports,"LedgerDuplicateAddressReceivedError",(function(){return a})),e(t.exports,"AccountMetadataNoConnectedDevicesError",(function(){return c}));class n extends Error{constructor(e){super(e)}}class o extends n{constructor(e="Ledger not connected."){super(e)}}class i extends n{constructor(e="Multiple apps requested from Ledger. Only request one at a time."){super(e)}}class s extends n{constructor(e="Ledger is locked, unlock to get addresses or sign."){super(e)}}class a extends n{constructor(e="Duplicate ledger address received"){super(e)}}class c extends n{constructor(e="No connected devices."){super(e)}}})),i.register("dUHlc",(function(t,r){e(t.exports,"HARDWARE_BASE_QUERY_KEY",(function(){return n})),e(t.exports,"hardwareQueryKeys",(function(){return o}));const n="@phantom/hardware",o={isLedgerSupported:()=>[`${n}:is-ledger-supported`],ledgerTransportState:()=>[`${n}:ledger-transport-state`],ledgerAddress:(e,t)=>[`${n}:ledger-address`,{chainType:e,derivationPath:t}],ledgerAddresses:(e=[],t)=>[`${n}:ledger-addresses`,{derivationPathParams:e,enableLedgerXPubDerivation:t}],requestLedgerPermission:()=>[`${n}:request-ledger-permission`],accountConnectedDevice:e=>[`${n}:account-connected-device`,{accountIdentifier:e}]}})),i.register("4GWtC",(function(t,r){e(t.exports,"default",(function(){return a}),(function(e){return a=e}));var n=i("5ekp2"),o=i("dUHlc"),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=e=>{const t=o.hardwareQueryKeys.isLedgerSupported();return(0,n.useQuery)({queryKey:t,queryFn:()=>s(void 0,void 0,void 0,(function*(){return e.isSupported()}))})}})),i.register("4Oih6",(function(t,r){e(t.exports,"default",(function(){return d}),(function(e){return d=e}));var n=i("7mQ3Y"),o=i("5ekp2"),s=i("a5LJM"),a=i("4kKEQ"),c=i("54Y8k"),u=i("dUHlc"),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},d=(e,t,r,i=[],d=!1,f=!1,p=(()=>{}))=>{var h;const g=(0,a.getLedgerAppForAddressType)(n.AddressTypes.getAddressType(i[0].pathType)),v=r.isConnected&&i.length>0&&g===(null===(h=r.selectedApp)||void 0===h?void 0:h.app),y=u.hardwareQueryKeys.ledgerAddresses(i,f);return(0,o.useQuery)({enabled:v,queryKey:y,queryFn:()=>l(void 0,void 0,void 0,(function*(){const r=yield t.getQueryData(u.hardwareQueryKeys.ledgerTransportState());if(!r)throw new(0,s.LedgerNotConnectedError);return(0,c.deriveLedgerAddresses)({transportTimeout:e,state:r,derivationPathParams:i,enableDebugLogs:d,enableLedgerXPubDerivation:f,onSuccess:p})})),retry:!1})}})),i.register("4kKEQ",(function(t,r){e(t.exports,"getLedgerAppDisplayName",(function(){return a})),e(t.exports,"getLedgerAppForNetworkID",(function(){return c})),e(t.exports,"getLedgerAppForAddressType",(function(){return u}));var n=i("iOvk1"),o=i("7mQ3Y"),s=i("e59pI");const a=e=>{switch(e){case s.LedgerApp.Bitcoin:return"Bitcoin";case s.LedgerApp.EVM:return"Ethereum";case s.LedgerApp.Solana:return"Solana"}},c=e=>{const t=n.Chains.getAddressTypes(e);return u(t[0])},u=e=>{switch(e){case o.AddressType.BitcoinTaproot:case o.AddressType.BitcoinNativeSegwit:case o.AddressType.BitcoinNestedSegwit:case o.AddressType.BitcoinLegacy:return s.LedgerApp.Bitcoin;case o.AddressType.EVM:return s.LedgerApp.EVM;case o.AddressType.Solana:return s.LedgerApp.Solana}}})),i.register("e59pI",(function(t,r){e(t.exports,"LedgerApp",(function(){return n}));var n,o,s=i("7XqVB");(o=n||(n={})).Bitcoin="Bitcoin",o.EVM="EVM",o.Solana="Solana";const a=s.z.string().regex(/^[0-9A-Fa-f]*$/,{message:"String must have only valid hex characters"});s.z.object({publicKey:a,chainCode:a}),s.z.object({name:s.z.string(),id:s.z.string().min(1),rssi:s.z.number().int()}),s.z.union([s.z.literal("low"),s.z.literal("medium"),s.z.literal("high")])})),i.register("54Y8k",(function(t,r){e(t.exports,"deriveLedgerAddresses",(function(){return y}),(function(e){return y=e}));var n=i("jZpRu"),o=i("7mQ3Y"),s=i("csW2r"),a=i("RVqnc"),c=i("a5LJM"),u=i("6PwhB"),l=i("498ka"),d=i("aLMPl"),f=i("5E8aH"),p=i("eCWDh"),h=i("4kKEQ"),g=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const v=(e,t,r,n)=>{const i=new Set;return(s,u)=>g(void 0,void 0,void 0,(function*(){if(!t.isConnected)throw new(0,c.LedgerNotConnectedError);const l=e;try{const e=yield(0,a.withRetry)((()=>g(void 0,void 0,void 0,(function*(){const e=o.AddressTypes.getAddressType(s.pathType),r=yield(0,a.withTimeout)((0,d.getLedgerAddress)(t.transport,e,u,n),3e3);if(i.has(r.address))throw new(0,c.LedgerDuplicateAddressReceivedError);return r}))),(e=>{const t=e instanceof c.LedgerDuplicateAddressReceivedError;t&&(0,f.debugLog)(r,`❌ Duplicate address detected, retrying in ${l}ms...`);const n="InvalidChannel"===e.id;return n&&(0,f.debugLog)(r,`Invalid channel, trying again in ${l}ms...`),t||n}),3,l);return(0,f.debugLog)(r,`✅ Received address for ${u}: ${e.address}`),i.add(e.address),e}catch(e){throw yield(0,a.delayAsync)(1e3),e}}))},y=e=>g(void 0,[e],void 0,(function*({transportTimeout:e,state:t,derivationPathParams:r,enableDebugLogs:i,enableLedgerXPubDerivation:a,onSuccess:d}){const y=Date.now();(e=>{let t,r=!0;for(const n of e){const e=o.AddressTypes.getAddressType(n.pathType),i=(0,h.getLedgerAppForAddressType)(e);if(t?r=r&&t===i:t=i,!r)throw new(0,c.LedgerMultipleAppsRequestedError)}})(r);const m=a?((e,t,r)=>{const i=v(e,t,r,!0),a={};return(e,c)=>g(void 0,void 0,void 0,(function*(){const d=o.AddressTypes.getAddressType(e.pathType);switch(d){case o.AddressType.BitcoinTaproot:case o.AddressType.BitcoinNativeSegwit:case o.AddressType.BitcoinNestedSegwit:case o.AddressType.BitcoinLegacy:{let n=a[e.pathType];if(!n)try{n=yield(0,u.createBitcoinChildAddressDeriver)(t,e.pathType),a[e.pathType]=n}catch(t){return s.telemetry.captureError(new Error(`error creating xpub from derivation path: ${c}. Reason: ${t.message}`),s.FeatureTag.Ledger),i(e,c)}const o=n(e.index);return(0,f.debugLog)(r,`⭐️ Derived address with xpub for ${c}: ${o.address}`),{type:"address",addressType:d,address:o.address,publicKey:o.publicKey}}case o.AddressType.Solana:return i(e,c);case o.AddressType.EVM:if(e.pathType===n.DerivationPathType.Bip44RootEthereum)return i(e,c);{let t=a[e.pathType];if(!t)try{const r=(0,p.getRelativeDerivationPath)("grandparent",e.pathType),n=yield i(e,r);if(n.addressType!==d||"chain-code"!==n.type)throw new Error(`invalid response from Ledger requesting grandparent path: ${r}`);const o=(0,p.getRelativeDerivationPath)("parent",e.pathType),s=yield i(e,o);if(s.addressType!==d||"chain-code"!==s.type)throw new Error(`invalid response from Ledger requesting parent path: ${r}`);t=(0,l.createEthereumChildAddressDeriver)(n,s),a[e.pathType]=t}catch(t){return s.telemetry.captureError(new Error(`error creating xpub from derivation path: ${c}. Reason: ${t.message}`),s.FeatureTag.Ledger),i(e,c)}const n=t(e.index);return(0,f.debugLog)(r,`⭐️ Derived address with xpub for ${c}: ${n.address}`),{type:"address",addressType:d,address:n.address,publicKey:n.publicKey}}}}))})(e,t,i):v(e,t,i,!1),E={};for(const e of r){const t=(0,n.getDerivationPath)(e),r=yield m(e,t);E[t]=r}const w=(Date.now()-y)/1e3;return(0,f.debugLog)(i,`✅ Finished requesting addresses for ${r.length} derivation paths. Time: ${w} s`),d(w),E}))})),i.register("6PwhB",(function(t,r){e(t.exports,"createHDNodeFromXpub",(function(){return f}),(function(e){return f=e})),e(t.exports,"createBitcoinChildAddressDeriver",(function(){return p}),(function(e){return p=e}));var n=i("7mQ3Y"),o=i("dG1lS"),s=i("a5LJM"),a=i("4vX1O"),c=i("eCWDh"),u=i("aKzBn"),l=i("8tcqI").Buffer,d=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const f=(e,t)=>d(void 0,void 0,void 0,(function*(){const{default:r}=yield i("d3Hue");return r(yield Promise.resolve(i("2NpJF"))).fromBase58(e,"mainnet"===t?o.networks.bitcoin:o.networks.testnet)})),p=(e,t)=>d(void 0,void 0,void 0,(function*(){if(!e.isConnected)throw new(0,s.LedgerNotConnectedError);const r=yield(0,u.getBitcoinLedgerApp)(e.transport),o=(0,c.getRelativeDerivationPath)("parent",t),i=yield r.getExtendedPubkey(o),d=yield f(i,"mainnet");return e=>{const r=new Uint8Array(d.derivePath(`${e}`).publicKey),o=(0,n.publicKeyToAddress)({publicKey:r,addressType:(0,a.getAddressTypeFromDerivationPathType)(t)});return{publicKey:l.from(r).toString("hex"),address:o}}}))})),i.register("4vX1O",(function(t,r){e(t.exports,"getAddressTypeFromDerivationPathType",(function(){return s}));var n=i("jZpRu"),o=i("7mQ3Y");function s(e){switch(e){case n.DerivationPathType.Bip44RootSolana:case n.DerivationPathType.Bip44ChangeSolana:case n.DerivationPathType.Bip44Solana:case n.DerivationPathType.DeprecatedSolana:return o.AddressType.Solana;case n.DerivationPathType.Bip44RootEthereum:case n.DerivationPathType.Bip44Ethereum:case n.DerivationPathType.Bip44EthereumSecondary:case n.DerivationPathType.Bip44EthereumTertiary:return o.AddressType.EVM;case n.DerivationPathType.BitcoinLegacy:return o.AddressType.BitcoinLegacy;case n.DerivationPathType.BitcoinNativeSegwit:return o.AddressType.BitcoinNativeSegwit;case n.DerivationPathType.BitcoinNestedSegwit:return o.AddressType.BitcoinNestedSegwit;case n.DerivationPathType.BitcoinTaproot:return o.AddressType.BitcoinTaproot}}})),i.register("eCWDh",(function(t,r){e(t.exports,"getRelativeDerivationPath",(function(){return o}));var n=i("jZpRu");const o=(e,t)=>{switch(e){case"grandparent":switch(t){case n.DerivationPathType.BitcoinTaproot:return"m/86'/0'/0'";case n.DerivationPathType.BitcoinNativeSegwit:return"m/84'/0'/0'";case n.DerivationPathType.BitcoinNestedSegwit:return"m/46'/0'/0'";case n.DerivationPathType.BitcoinLegacy:return"m/44'/0'/0'";case n.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'";case n.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'";case n.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'"}break;case"parent":switch(t){case n.DerivationPathType.BitcoinTaproot:return"m/86'/0'/0'/0";case n.DerivationPathType.BitcoinNativeSegwit:return"m/84'/0'/0'/0";case n.DerivationPathType.BitcoinNestedSegwit:return"m/46'/0'/0'/0";case n.DerivationPathType.BitcoinLegacy:return"m/44'/0'/0'/0";case n.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'/0";case n.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'/0";case n.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'/0"}}}})),i.register("aKzBn",(function(t,r){e(t.exports,"getBitcoinLedgerApp",(function(){return o}),(function(e){return o=e}));var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function o(e){return n(this,void 0,void 0,(function*(){const{AppClient:t}=yield i("M4T8S");return new t(e)}))}})),i.register("M4T8S",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("9l3GE")).then((()=>i("MlrnL")))})),i.register("j1yuj",(function(e,t){"use strict";var r=i("hE0rk");e.exports=r((function(e){return new Promise((function(t,r){var n=document.getElementsByTagName("script");if([].concat(n).some((function(t){return t.src===e})))t();else{var o=document.createElement("link");o.href=e,o.rel="preload",o.as="script",document.head.appendChild(o);var i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=e,i.onerror=function(t){var n=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));i.onerror=i.onload=null,i.remove(),r(n)},i.onload=function(){i.onerror=i.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(i)}}))}))})),i.register("hE0rk",(function(e,t){"use strict";var r={},n={},o={};e.exports=function(e,t){return function(i){var s=function(e){switch(e){case"preload":return n;case"prefetch":return o;default:return r}}(t);return s[i]?s[i]:s[i]=e.apply(null,arguments).catch((function(e){throw delete s[i],e}))}}})),i.register("2FqAO",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),i.register("d3Hue",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("5Hh3e")).then((()=>i("aQ6v5")))})),i.register("498ka",(function(r,n){e(r.exports,"createEthereumChildAddressDeriver",(function(){return f}));var o=i("8tcqI"),s=i("8qXbd"),a=i("7cTdJ"),c=i("bU4Vn"),u=i("cFUcx"),l=i("85iHy");const d=(e,r,n)=>(e=>{const r=(0,a.sha256)((0,a.sha256)(e)).replace("0x","").slice(0,8);return t(l).encode(o.Buffer.concat([o.Buffer.from(e),o.Buffer.from(r,"hex")]))})(o.Buffer.from(`0488b21e04${e.replace("0x","")}00000000${r}${n.replace("0x","").toLowerCase()}`,"hex")),f=(e,t)=>{const r=(n=e.publicKey,(0,a.ripemd160)((0,a.sha256)((0,c.computePublicKey)(`0x${n}`,!0))).replace("0x","").slice(0,8));var n;const o=(0,c.computePublicKey)(`0x${t.publicKey}`,!0),i=d(r,t.chainCode,o),l=s.HDNode.fromExtendedKey(i);return e=>{const t=l.derivePath(`${e}`);if(u.EthAddress.safeParse(t.address).success)return{publicKey:t.publicKey,address:t.address};throw new Error(`Invalid Ethereum Child Address derived: ${t.address}`)}}})),i.register("aLMPl",(function(r,n){e(r.exports,"getLedgerAddress",(function(){return v}),(function(e){return v=e}));var o=i("jZpRu"),s=i("iOvk1"),a=i("7mQ3Y"),c=i("85iHy"),u=i("a5LJM"),l=i("eCWDh"),d=i("6PwhB"),f=i("aKzBn"),p=i("d6rfN"),h=i("4gBBT"),g=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const v=(e,r,n,i)=>g(void 0,void 0,void 0,(function*(){const g=n.replace("m/","");try{switch(r){case a.AddressType.BitcoinTaproot:case a.AddressType.BitcoinNativeSegwit:case a.AddressType.BitcoinNestedSegwit:case a.AddressType.BitcoinLegacy:{const t=yield(0,f.getBitcoinLedgerApp)(e),i=a.AddressTypes[r].defaultDerivationPathType,c=(0,o.parseDerivationPath)(n).index,u=(0,l.getRelativeDerivationPath)("parent",i),p=yield t.getExtendedPubkey(u),h=(yield(0,d.createHDNodeFromXpub)(p,"mainnet")).derivePath(`${c}`);return{type:"chain-code",addressType:r,address:(0,a.publicKeyToAddress)({publicKey:new Uint8Array(h.publicKey),addressType:r,networkID:s.BitcoinNetworkID.Mainnet}),publicKey:h.publicKey.toString("hex"),chainCode:h.chainCode.toString("hex")}}case a.AddressType.Solana:{const n=yield(0,h.getSolanaLedgerApp)(e),{address:o}=yield n.getAddress(g);return{type:"address",addressType:r,address:t(c).encode(o),publicKey:o.toString("hex")}}case a.AddressType.EVM:{const t=yield(0,p.getEthereumLedgerApp)(e),{publicKey:n,address:o,chainCode:s}=yield t.getAddress(g,!1,i);if(i){if(!s)throw new Error("Chain code is requested from Ledger device, but no chain code was received.");return{type:"chain-code",addressType:r,address:o,publicKey:n,chainCode:s}}return{type:"address",addressType:r,address:o,publicKey:n}}}}catch(e){throw"TransportLocked"===e.id?new(0,u.LedgerLockedError):e}}))})),i.register("d6rfN",(function(t,r){e(t.exports,"getEthereumLedgerApp",(function(){return o}),(function(e){return o=e}));var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function o(e){return n(this,void 0,void 0,(function*(){const{default:t}=yield i("icteh");return new t(e)}))}})),i.register("icteh",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("ia8XW")).then((()=>i("lwgEg")))})),i.register("4gBBT",(function(t,r){e(t.exports,"getSolanaLedgerApp",(function(){return o}),(function(e){return o=e}));var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function o(e){return n(this,void 0,void 0,(function*(){const{default:t}=yield i("c0vBG");return new t(e)}))}})),i.register("c0vBG",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("bnDSu")).then((()=>i("903Vo")))})),i.register("5E8aH",(function(t,r){e(t.exports,"debugLog",(function(){return n}));const n=(e,t)=>{if(e){const e=new Date;console.log(`[${e.toISOString()}] ${t}`)}}})),i.register("led49",(function(t,r){e(t.exports,"useLedgerBLETransportState",(function(){return h}),(function(e){return h=e}));var n=i("RVqnc"),o=i("5ekp2"),s=i("bwiqA"),a=i("5E8aH"),c=i("5EX67"),u=i("dZ3qP"),l=i("20mzf"),d=i("dUHlc"),f=i("4GWtC"),p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const h=(e,t,r)=>{const{deviceID:i,enabled:h=!0,enableDebugLogs:g=!1,refetchInterval:v=1e3,pairingTimeout:y=e.defaultTransportTimeout,expectedLedgerApp:m}=r,{data:E=!1}=(0,f.default)(e),w=!!i&&h&&E,T=d.hardwareQueryKeys.ledgerTransportState();return(0,o.useQuery)({enabled:w,queryKey:T,queryFn:()=>p(void 0,void 0,void 0,(function*(){if(!w)return s.LEDGER_NOT_CONNECTED_STATE;let r,o=t.getQueryData(T),d=!1,f=0;do{try{r=(yield Promise.all([(0,n.withTimeout)((0,l.fetchLedgerBLETransportState)(e,g,i,m),y),(0,n.delayAsync)(200)]))[0]}catch(e){r=s.LEDGER_NOT_CONNECTED_STATE}d=!!(null==o?void 0:o.isConnected)&&"not-connected"===r.status&&++f<5,d&&((0,u.setLedgerTransportStateOverride)(t,s.LEDGER_RECONNECTING_STATE),(0,a.debugLog)(g,"Attempting to reconnect..."),1===f&&(0,c.debugLogStateChange)(g,o,s.LEDGER_RECONNECTING_STATE),yield(0,n.delayAsync)(1e3))}while(d);return(0,c.debugLogStateChange)(g,o,r),f>0&&(o=s.LEDGER_RECONNECTING_STATE),(0,c.debugLogStateChange)(g,o,r),(null==o?void 0:o.isConnected)&&!r.isConnected&&(0,u.resetLedgerAddresses)(t).then((()=>(0,u.refetchLedgerAddresses)(t))),r})),refetchOnMount:!0,refetchInterval:v,initialData:s.LEDGER_NOT_CONNECTED_STATE})}})),i.register("bwiqA",(function(t,r){e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return n})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return o})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return i})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s}));const n={status:"not-connected",isConnected:!1},o={status:"reconnecting",isConnected:!1},i={status:"waiting-for-approval",isConnected:!1},s=n})),i.register("5EX67",(function(t,r){e(t.exports,"debugLogStateChange",(function(){return s}));var n=i("4kKEQ"),o=i("5E8aH");const s=(e=!1,t,r)=>{if((null==t?void 0:t.status)===r.status)return;let i,s="";switch(r.status){case"connected":i="🟢 Connected",s=`, selected app: ${r.selectedApp?(0,n.getLedgerAppDisplayName)(r.selectedApp.app):"None"}`;break;case"needs-permission":i="🟠 Needs Permission";break;case"reconnecting":i="🟠 Reconnecting";break;case"waiting-for-approval":i="🟠 Waiting For Approval";break;case"not-connected":i="⚪️ Not Connected"}(0,o.debugLog)(e,`${i}${s}`)}})),i.register("dZ3qP",(function(t,r){e(t.exports,"resetLedgerAddresses",(function(){return s}),(function(e){return s=e})),e(t.exports,"refetchLedgerAddresses",(function(){return a}),(function(e){return a=e})),e(t.exports,"invalidateLedgerTransportState",(function(){return c}),(function(e){return c=e})),e(t.exports,"setLedgerTransportStateOverride",(function(){return u}),(function(e){return u=e}));var n=i("dUHlc"),o=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const s=e=>o(void 0,void 0,void 0,(function*(){yield e.resetQueries([`${n.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),a=e=>o(void 0,void 0,void 0,(function*(){yield e.refetchQueries([`${n.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),c=e=>o(void 0,void 0,void 0,(function*(){yield e.invalidateQueries(n.hardwareQueryKeys.ledgerTransportState())})),u=(e,t)=>e.setQueryData(n.hardwareQueryKeys.ledgerTransportState(),t)})),i.register("20mzf",(function(t,r){e(t.exports,"fetchLedgerBLETransportState",(function(){return c}),(function(e){return c=e}));var n=i("bwiqA"),o=i("51YJE"),s=i("5E8aH"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c=(e,t,r,i)=>a(void 0,void 0,void 0,(function*(){if(!r)return(0,s.debugLog)(t,"Attempting to connect to Ledger BLE device, no device ID specified."),n.LEDGER_NOT_CONNECTED_STATE;const a=yield e.open(r);if(!a)return(0,s.debugLog)(t,`Unable to connect to transport with deviceID: ${r}`),n.LEDGER_NOT_CONNECTED_STATE;return{status:"connected",isConnected:!0,transport:a,selectedApp:yield(0,o.getSelectedLedgerApp)(a,e.defaultTransportTimeout,i)}}))})),i.register("51YJE",(function(t,r){e(t.exports,"getSelectedLedgerApp",(function(){return l}),(function(e){return l=e}));var n=i("RVqnc"),o=i("e59pI"),s=i("hIzED"),a=i("d6rfN"),c=i("4gBBT"),u=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const l=(e,...t)=>u(void 0,[e,...t],void 0,(function*(e,t=2e3,r){const i=()=>u(void 0,void 0,void 0,(function*(){const t=r?[r]:Object.values(o.LedgerApp);return((e,t)=>u(void 0,void 0,void 0,(function*(){for(const r of t)switch(r){case o.LedgerApp.Solana:try{const t=yield(0,c.getSolanaLedgerApp)(e),n=yield t.getAppConfiguration();return{app:r,version:n.version,blindSigningEnabled:n.blindSigningEnabled}}catch(e){}break;case o.LedgerApp.EVM:try{const t=yield(0,a.getEthereumLedgerApp)(e),n=yield t.getAppConfiguration();return{app:r,version:n.version,blindSigningEnabled:1===n.arbitraryDataEnabled}}catch(e){}break;case o.LedgerApp.Bitcoin:try{return{app:r,version:(yield(0,s.getBitcoinAppConfiguration)(e)).version}}catch(e){}}return null})))(e,t)}));try{return yield(0,n.withTimeout)(i(),t)}catch(e){return null}}))})),i.register("hIzED",(function(t,r){e(t.exports,"getBitcoinAppConfiguration",(function(){return o}),(function(e){return o=e}));var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const o=e=>n(void 0,void 0,void 0,(function*(){const t=yield e.send(176,1,0,0);let r=0;if(1!==t[r++])throw new Error("getBitcoinAppConfiguration: format not supported");const n=t[r++],o=t.subarray(r,r+=n).toString("ascii");if("Bitcoin"!==o)throw new Error("Ledger Bitcoin app not selected.");const i=t[r++];return{name:o,version:t.subarray(r,r+=i).toString("ascii")}}))})),i.register("6epSx",(function(t,r){e(t.exports,"useLedgerWireTransportState",(function(){return g}),(function(e){return g=e}));var n=i("RVqnc"),o=i("5ekp2"),s=i("29o0l"),a=i("bwiqA"),c=i("5E8aH"),u=i("5EX67"),l=i("dZ3qP"),d=i("4NgK7"),f=i("dUHlc"),p=i("4GWtC"),h=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const g=(e,t,r=!0,i=!1,g=2e3)=>{const[v,y]=(0,s.useState)(g);(0,s.useEffect)((()=>{e.on("disconnect",(()=>{(0,c.debugLog)(i,"disconnect event received from Ledger transport."),(0,l.invalidateLedgerTransportState)(t)}))}),[e,t]);const{data:m=!1}=(0,p.default)(e),E=r&&m,w=f.hardwareQueryKeys.ledgerTransportState();return(0,o.useQuery)({enabled:E,queryKey:w,queryFn:()=>h(void 0,void 0,void 0,(function*(){if(!E)return a.LEDGER_NOT_CONNECTED_STATE;let r,o=t.getQueryData(w),s=!1,f=0;do{try{r=(yield Promise.all([(0,n.withTimeout)((0,d.fetchLedgerWireTransportState)(e,i,f>0?a.LEDGER_RECONNECTING_STATE:o),e.defaultTransportTimeout),(0,n.delayAsync)(200)]))[0]}catch(e){r=a.LEDGER_NOT_CONNECTED_STATE}s=!!(null==o?void 0:o.isConnected)&&"not-connected"===r.status&&++f<5,s&&((0,l.setLedgerTransportStateOverride)(t,a.LEDGER_RECONNECTING_STATE),(0,c.debugLog)(i,"Attempting to reconnect..."),1===f&&(0,u.debugLogStateChange)(i,o,a.LEDGER_RECONNECTING_STATE),yield(0,n.delayAsync)(500))}while(s);return f>0&&(o=a.LEDGER_RECONNECTING_STATE),(0,u.debugLogStateChange)(i,o,r),(null==o?void 0:o.isConnected)&&!r.isConnected&&(0,l.resetLedgerAddresses)(t).then((()=>(0,l.refetchLedgerAddresses)(t))),r})),onSuccess:e=>(e.isConnected?y(3500):y(g),null),refetchOnMount:!0,refetchInterval:v,initialData:a.LEDGER_NOT_CONNECTED_STATE})}})),i.register("4NgK7",(function(t,r){e(t.exports,"fetchLedgerWireTransportState",(function(){return c}),(function(e){return c=e}));var n=i("bwiqA"),o=i("51YJE"),s=i("5E8aH"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c=(e,t,r)=>a(void 0,void 0,void 0,(function*(){if(0===(yield e.getNumDevices()))return r!==n.LEDGER_NOT_CONNECTED_STATE&&(0,s.debugLog)(t,"Unable to detect Ledger devices."),n.LEDGER_NOT_CONNECTED_STATE;let i=r?r.transport:void 0;if((null==r?void 0:r.isConnected)&&(null==r?void 0:r.selectedApp)||"waiting-for-approval"===(null==r?void 0:r.status))return r;if(i||(i=yield e.getFirstOpenedTransport(),i&&(0,s.debugLog)(t,"Found previously-opened transport.")),i||(i=yield e.openConnected(),i&&(0,s.debugLog)(t,"Opened a new connection to a previously-opened transport.")),!i)return(0,s.debugLog)(t,"Need permission to use the connected Ledger device."),{status:"needs-permission",isConnected:!1};return{status:"connected",isConnected:!0,transport:i,selectedApp:yield(0,o.getSelectedLedgerApp)(i,e.defaultTransportTimeout)}}))})),i.register("1yw5t",(function(t,r){e(t.exports,"default",(function(){return f}),(function(e){return f=e}));var n=i("5ekp2"),o=i("51YJE"),s=i("5E8aH"),a=i("5EX67"),c=i("dZ3qP"),u=i("dUHlc"),l=i("4NgK7"),d=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},f=(e,t,r=!0,i=!1)=>{const f=u.hardwareQueryKeys.requestLedgerPermission();return(0,n.useQuery)({enabled:r,queryKey:f,queryFn:()=>d(void 0,void 0,void 0,(function*(){var r,n,d,f,p,h,g;let v;try{(0,s.debugLog)(i,"Requesting permission to connect to Ledger..."),v=yield e.request()}catch(o){if((0,s.debugLog)(i,`Received error trying to request permission: ${o}`),"string"==typeof o.message&&(null===(r=o.message)||void 0===r?void 0:r.includes("device is already open"))){(0,s.debugLog)(i,"✅ Permission granted, device already open. Connecting to device...");const r=u.hardwareQueryKeys.ledgerTransportState(),o=yield t.getQueryData(r);let h;try{h=yield(0,l.fetchLedgerWireTransportState)(e,i,o)}catch(e){}return(null==h?void 0:h.isConnected)?((0,s.debugLog)(i,`✅ Permission granted. Connected to Ledger device: ${null!==(d=null===(n=h.transport.deviceModel)||void 0===n?void 0:n.productName)&&void 0!==d?d:"Unknown device"}. Selected app: ${null!==(p=null===(f=null==h?void 0:h.selectedApp)||void 0===f?void 0:f.app)&&void 0!==p?p:"none"}`),yield(0,c.setLedgerTransportStateOverride)(t,h),(0,a.debugLogStateChange)(i,void 0,h),{type:"granted",transport:h.transport}):((0,s.debugLog)(i,"❌ Unable to connect. Try again and make sure device is unlocked."),{type:"unable-to-connect"})}return(0,s.debugLog)(i,"❌ Permission denied."),{type:"denied"}}if(!v){const e="Unable to connect to Ledger device. Permission granted, but no Transport received.";return(0,s.debugLog)(i,`❌ ${e}`),{type:"unable-to-connect"}}const y={status:"connected",isConnected:!0,transport:v,selectedApp:yield(0,o.getSelectedLedgerApp)(v,e.defaultTransportTimeout)};return yield(0,c.setLedgerTransportStateOverride)(t,y),(0,a.debugLogStateChange)(i,void 0,y),(0,s.debugLog)(i,`✅ Permission granted. Connected to Ledger device: ${null!==(g=null===(h=v.deviceModel)||void 0===h?void 0:h.productName)&&void 0!==g?g:"Unknown device"}`),{type:"granted",transport:v}})),cacheTime:0,staleTime:0,refetchOnMount:!0})}})),i.register("6ZHK3",(function(t,r){e(t.exports,"useNearbyLedgerBLEDevices",(function(){return o}));var n=i("29o0l");(e=>{const t=[];for(let o=1;o<=e;++o){const e=(r=0,n=3,r=Math.ceil(r),n=Math.floor(n),Math.floor(Math.random()*(n-r)+r));let i;i=0===e?0:1===e?-70:-100,t.push({name:`Nano X ${o}`,id:`${o}`,rssi:i})}var r,n;t.sort(((e,t)=>t.rssi-e.rssi))})(100);const o=(e,t)=>{const r=(0,n.useRef)([]),o=(0,n.useRef)(),[i,s]=(0,n.useState)([]);return(0,n.useEffect)((()=>{var n;if(!t)return void(null===(n=o.current)||void 0===n||n.unsubscribe());let i=r.current;const a=e.scan({onDeviceAdded:e=>{i=i.filter((t=>t.id!==e.id)),i.push(e),i.sort(((e,t)=>t.rssi-e.rssi));const t=[...i];r.current.length!==t.length&&(r.current=t,s(r.current))},onDeviceRemoved:e=>{i=i.filter((t=>t.id!==e.id)),i.sort(((e,t)=>t.rssi-e.rssi));const t=[...i];r.current.length!==t.length&&(r.current=t,s(r.current))},onError:e=>{var t;console.error(e),null===(t=o.current)||void 0===t||t.unsubscribe()}});return o.current=a,()=>{var e;null===(e=o.current)||void 0===e||e.unsubscribe()}}),[e,t]),i}})),i.register("d1qVj",(function(e,t){var r,n,o=i("dZ3qP");r=e.exports,n=o,Object.keys(n).forEach((function(e){"default"===e||"__esModule"===e||r.hasOwnProperty(e)||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})}))})),i.register("5i9Ta",(function(t,r){e(t.exports,"getLedgerTransportState",(function(){return a}),(function(e){return a=e}));var n=i("bwiqA"),o=i("dUHlc"),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const a=e=>s(void 0,void 0,void 0,(function*(){const t=yield e.getQueryData(o.hardwareQueryKeys.ledgerTransportState());return null!=t?t:n.LEDGER_NOT_CONNECTED_STATE}))})),i.register("dfz3b",(function(e,t){})),i.register("cWagW",(function(t,r){e(t.exports,"createLedgerWireSigner",(function(){return v}),(function(e){return v=e}));var n=i("4xbAj"),o=i("7mQ3Y"),s=i("csW2r"),a=i("RVqnc"),c=i("bwiqA"),u=i("4NgK7"),l=(i("9O68d"),i("4kKEQ")),d=i("dGyl2"),f=i("bTAXW"),p=i("4OMRk"),h=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const g=(e,t,r)=>h(void 0,void 0,void 0,(function*(){try{if("isJWT"in r)return(0,n.createVaultSignerError)(n.VaultSignerErrorType.InternalError,"Cannot sign JWT with ledger");switch(r.chainType){case o.AddressType.BitcoinTaproot:case o.AddressType.BitcoinNativeSegwit:case o.AddressType.BitcoinNestedSegwit:case o.AddressType.BitcoinLegacy:return yield(0,d.bitcoinLedgerSign)(e,t,r);case o.AddressType.EVM:return yield(0,f.ethereumLedgerSign)(e,t,r);case o.AddressType.Solana:return yield(0,p.solanaLedgerSign)(e,t,r)}}catch(e){return s.telemetry.captureError(e,s.FeatureTag.Ledger),(0,n.createVaultSignerError)(n.VaultSignerErrorType.InternalError)}})),v=e=>({type:n.VaultSignerPluginType.Ledger,sign:(t,r,o)=>h(void 0,void 0,void 0,(function*(){var t;let i,s=c.LEDGER_NOT_CONNECTED_STATE;try{s=yield(0,a.withRetry)((()=>(0,a.withTimeout)((0,u.fetchLedgerWireTransportState)(e,!1),e.defaultTransportTimeout)),(()=>!0),3,1e3)}catch(e){}switch(s.status){case"needs-permission":return(0,n.createVaultSignerError)(n.VaultSignerErrorType.LedgerNeedPermission,"Need permission to connect to Ledger.");case"not-connected":case"reconnecting":case"waiting-for-approval":return(0,n.createVaultSignerError)(n.VaultSignerErrorType.LedgerNotConnected,"Unable to connect to Ledger. Make sure your Ledger device is plugged in.");case"connected":{if("isJWT"in o)return(0,n.createVaultSignerError)(n.VaultSignerErrorType.InternalError,"Cannot sign JWT with ledger");const e=(0,l.getLedgerAppForAddressType)(o.chainType);if((null===(t=s.selectedApp)||void 0===t?void 0:t.app)!==e)return(0,n.createVaultSignerError)(n.VaultSignerErrorType.LedgerAppNotOpen,`Ledger App not open. Open the ${(0,l.getLedgerAppDisplayName)(e)} app on your Ledger device.`);i=s.transport}}return g(i,r,o)}))})})),i.register("dGyl2",(function(t,r){e(t.exports,"bitcoinLedgerSign",(function(){return h}),(function(e){return h=e}));var n=i("8tcqI"),o=i("4xbAj"),s=i("jZpRu"),a=i("iOvk1"),c=i("7mQ3Y"),u=i("dG1lS"),l=i("eCWDh"),d=i("6PwhB"),f=i("aKzBn"),p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const h=(e,t,r)=>p(void 0,void 0,void 0,(function*(){var p;const h=u.networks.bitcoin,g=yield(0,f.getBitcoinLedgerApp)(e),v=yield g.getMasterFingerprint(),y=(0,s.parseDerivationPath)(t);if(void 0===y.index||isNaN(y.index)||s.DerivationPathType.BitcoinTaproot!==y.pathType&&s.DerivationPathType.BitcoinNativeSegwit!==y.pathType)return{status:"error",type:o.VaultSignerErrorType.InvalidDerivationPath,message:"Unsupported Derivation Path. Bitcoin derivation paths should have a valid index."};const m=new(0,(yield i("bdQ7X")).default)(g);switch(r.signingType){case"message":{const e=n.Buffer.from(r.message).toString("utf8"),o=(0,l.getRelativeDerivationPath)("parent",y.pathType),i=yield g.getExtendedPubkey(o),s=(yield(0,d.createHDNodeFromXpub)(i,"mainnet")).derive(y.index).publicKey,u=(0,c.publicKeyToAddress)({publicKey:new Uint8Array(s),addressType:r.chainType,networkID:a.NetworkIDs.Bitcoin.Mainnet}),f=yield m.signBIP322(e,t,u,s);return{status:"success",signature:n.Buffer.from(f,"base64").toString("hex"),message:r.message}}case"transaction":{let e,t,i=u.Psbt.fromHex(r.message,{network:h});const f=new Set;for(const u of null!==(p=r.inputsToSign)&&void 0!==p?p:[]){const r=(0,a.addressTypeFromAddress)(a.BitcoinNetworkID.Mainnet,u.address),p=c.AddressTypes[r].defaultDerivationPathType,h=(0,s.getDerivationPath)({pathType:p,index:y.index});f.add(r);for(const a of u.signingIndexes)if(r===c.AddressType.BitcoinNativeSegwit){if(!t){const e=(0,l.getRelativeDerivationPath)("parent",s.DerivationPathType.BitcoinNativeSegwit),r=yield g.getExtendedPubkey(e);t=yield(0,d.createHDNodeFromXpub)(r,"mainnet")}i.updateInput(a,{bip32Derivation:[{masterFingerprint:n.Buffer.from(v,"hex"),pubkey:t.derivePath(`${y.index}`).publicKey,path:h}]})}else if(r===c.AddressType.BitcoinTaproot){if(!e){const t=(0,l.getRelativeDerivationPath)("parent",s.DerivationPathType.BitcoinTaproot),r=yield g.getExtendedPubkey(t);e=yield(0,d.createHDNodeFromXpub)(r,"mainnet")}i.updateInput(a,{tapBip32Derivation:[{leafHashes:[],masterFingerprint:n.Buffer.from(v,"hex"),pubkey:(0,o.toXOnly)(e.derivePath(`${y.index}`).publicKey),path:h}]})}}let E=0;for(const e of f){E++;const t=E===f.size,n=(0,s.getDerivationPath)({pathType:c.AddressTypes[e].defaultDerivationPathType,index:y.index});i=yield m.signPSBT(i,n,v,t&&r.finalize,e)}return{status:"success",signature:i.toHex()}}}}))})),i.register("bdQ7X",(function(e,t){e.exports=Promise.all([i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("9l3GE")),i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("aAOB3"))]).then((()=>i("llUh9")))})),i.register("bTAXW",(function(t,r){e(t.exports,"ethereumLedgerSign",(function(){return d}),(function(e){return d=e}));var n=i("8tcqI"),o=i("4v43U"),s=i("4xbAj"),a=i("8CrVh"),c=i("d6rfN"),u=i("kevlA"),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const d=(e,t,r)=>l(void 0,void 0,void 0,(function*(){const{joinSignature:d}=yield Promise.resolve(i("kIJ9R")),p=yield(0,c.getEthereumLedgerApp)(e),h=t.replace("m/","");switch(r.signingType){case"typedData":switch(r.version){case 1:return(0,s.createVaultSignerError)(s.VaultSignerErrorType.UnsupportedOperation);case 3:case 4:{const e=()=>l(void 0,void 0,void 0,(function*(){const e=(0,a.convertSignTypedDataToEip712Message)(r.data);return p.signEIP712Message(h,e)})),t=()=>l(void 0,void 0,void 0,(function*(){const e=3===r.version?o.SignTypedDataVersion.V3:o.SignTypedDataVersion.V4,t=r.data,n=o.TypedDataUtils.sanitizeData(t),i=o.TypedDataUtils.hashStruct("EIP712Domain",n.domain,n.types,e).toString("hex"),s=o.TypedDataUtils.hashStruct(n.primaryType,n.message,n.types,e).toString("hex");return yield p.signEIP712HashedMessage(h,i,s)})),{r:n,s:i,v:s}=yield e().catch(t);return{status:"success",signature:d({r:f(n),s:f(i),v:s})}}}break;case"message":{const e=n.Buffer.from(r.message,"utf8"),{r:t,s:o,v:i}=yield p.signPersonalMessage(h,e.toString("hex"));return{status:"success",signature:d({r:f(t),s:f(o),v:i})}}case"transaction":{const e=r.message.replace("0x",""),t=yield(0,u.getEthereumLedgerService)(),n=yield t.resolveTransaction(e,{},{}),{r:o,s:i,v:s}=yield p.signTransaction(h,e,n);return{status:"success",signature:d({r:f(o),s:f(i),v:Number.parseInt(s.replace("0x",""),16)})}}}})),f=e=>e.startsWith("0x")?e:`0x${e}`})),i.register("8CrVh",(function(t,r){e(t.exports,"convertSignTypedDataToEip712Message",(function(){return n}));const n=e=>{var t;const r={name:e.domain.name,version:e.domain.version,verifyingContract:e.domain.verifyingContract,chainId:null===(t=e.domain)||void 0===t?void 0:t.chainId},n=[],o={};for(const[t,r]of Object.entries(e.types))for(const e of r)"EIP712Domain"===t?n.push(e):t in o?o[t].push(e):o[t]=[e];return{domain:r,types:Object.assign({EIP712Domain:n},o),primaryType:e.primaryType,message:Object.assign({},e.message)}}})),i.register("kevlA",(function(t,r){e(t.exports,"getEthereumLedgerService",(function(){return o}),(function(e){return o=e}));var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function o(){return n(this,void 0,void 0,(function*(){const{ledgerService:e}=yield i("icteh");return e}))}})),i.register("4OMRk",(function(r,n){e(r.exports,"solanaLedgerSign",(function(){return p}),(function(e){return p=e}));var o=i("8tcqI"),s=i("4xbAj"),a=i("hMVEP"),c=i("85iHy"),u=i("e59pI"),l=i("51YJE"),d=i("4gBBT"),f=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const p=(e,r,n)=>f(void 0,void 0,void 0,(function*(){let i;try{i="string"==typeof n.message?"transaction"===n.signingType?t(c).decode(n.message):o.Buffer.from(n.message,"utf8"):n.message}catch(e){return(0,s.createVaultSignerError)(s.VaultSignerErrorType.InvalidMessageEncoding)}const a=yield(0,d.getSolanaLedgerApp)(e),u=r.replace("m/","");let l;switch(n.signingType){case"transaction":try{const e=yield a.signTransaction(u,o.Buffer.from(i));l=t(c).encode(e.signature)}catch(r){const n=yield h(e,t(c).encode(i));if(!n)throw r;const{isVersionedTx:o,isVersionedTxSupported:a}=n;if(o&&!a)return(0,s.createVaultSignerError)(s.VaultSignerErrorType.UnsupportedOperation,"Versioned Transactions is not supported on this version of Ledger. Please upgrade your Solana Ledger firmware to version 1.3.1.");throw r}break;case"message":return(0,s.createVaultSignerError)(s.VaultSignerErrorType.UnsupportedOperation,"Signing off chain messages with Ledger is not yet supported.")}return{status:"success",signature:l}})),h=(e,t)=>f(void 0,void 0,void 0,(function*(){try{const r=yield(0,l.getSelectedLedgerApp)(e);if(!r||r.app!==u.LedgerApp.Solana)return null;const n=(0,a.messageStringToTransaction)(t),{gte:o}=yield Promise.resolve(i("4TDRm"));return{isVersionedTx:"version"in n&&"legacy"!==n.version,isVersionedTxSupported:o(r.version,"1.3.1")}}catch(e){return null}}))})),i.register("4TDRm",(function(e,t){var r=i("1spnT"),n=i("ayrQ1"),o=i("h0q8T"),s=i("cwa76"),a=i("ch0Sn"),c=i("8vyAT"),u=i("8WLNB"),l=i("aKjue"),d=i("kVyW1"),f=i("dbGir"),p=i("gEqbg"),h=i("6sfS3"),g=i("S6Zjf"),v=i("hfSq3"),y=i("6Up9f"),m=i("dYujX"),E=i("UWVJX"),w=i("jMqbX"),T=i("8Hq6c"),A=i("5nm9j"),b=i("eTIXj"),S=i("iB4Tt"),C=i("hGJsl"),x=i("8G57F"),O=i("8mg5m"),I=i("jM7Ok"),D=i("6hJMa"),L=i("13ebk"),R=i("iOmDM"),P=i("iI21w"),N=i("lnKKH"),k=i("e1xBO"),M=i("fG3Sl"),j=i("iOAlU"),F=i("fNcJ1"),B=i("jTq75"),_=i("hKfqV"),$=i("duN3e"),U=i("j8tIK"),q=i("58XdY"),K=i("7Lpj6");e.exports={parse:a,valid:c,clean:u,inc:l,diff:d,major:f,minor:p,patch:h,prerelease:g,compare:v,rcompare:y,compareLoose:m,compareBuild:E,sort:w,rsort:T,gt:A,lt:b,eq:S,neq:C,gte:x,lte:O,cmp:I,coerce:D,Comparator:L,Range:R,satisfies:P,toComparators:N,maxSatisfying:k,minSatisfying:M,minVersion:j,validRange:F,outside:B,gtr:_,ltr:$,intersects:U,simplifyRange:q,subset:K,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}})),i.register("1spnT",(function(e,t){var r=i("ayrQ1").MAX_SAFE_COMPONENT_LENGTH,n=i("9Xp41");const o=(t=e.exports={}).re=[],s=t.safeRe=[],a=t.src=[],c=t.t={};let u=0;const l=(e,t,r)=>{const i=t.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),l=u++;n(e,l,t),c[e]=l,a[l]=t,o[l]=new RegExp(t,r?"g":void 0),s[l]=new RegExp(i,r?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${a[c.NUMERICIDENTIFIER]}|${a[c.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${a[c.NUMERICIDENTIFIERLOOSE]}|${a[c.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${a[c.PRERELEASEIDENTIFIER]}(?:\\.${a[c.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${a[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[c.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${a[c.BUILDIDENTIFIER]}(?:\\.${a[c.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${a[c.MAINVERSION]}${a[c.PRERELEASE]}?${a[c.BUILD]}?`),l("FULL",`^${a[c.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${a[c.MAINVERSIONLOOSE]}${a[c.PRERELEASELOOSE]}?${a[c.BUILD]}?`),l("LOOSE",`^${a[c.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${a[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${a[c.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:${a[c.PRERELEASE]})?${a[c.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:${a[c.PRERELEASELOOSE]})?${a[c.BUILD]}?)?)?`),l("XRANGE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",a[c.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${a[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${a[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${a[c.LONECARET]}${a[c.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${a[c.LONECARET]}${a[c.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${a[c.GTLT]}\\s*(${a[c.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]}|${a[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${a[c.XRANGEPLAIN]})\\s+-\\s+(${a[c.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${a[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[c.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})),i.register("ayrQ1",(function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}})),i.register("9Xp41",(function(e,t){var r=i("4QUf5");const n=("object"==typeof r&&r.env,()=>{});e.exports=n})),i.register("h0q8T",(function(e,t){var r=i("9Xp41"),n=i("ayrQ1"),o=n.MAX_LENGTH,s=n.MAX_SAFE_INTEGER,a=i("1spnT"),c=a.safeRe,u=a.t,l=i("dOUEH"),d=i("cwa76").compareIdentifiers;class f{format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof f)){if("string"==typeof e&&e===this.version)return 0;e=new f(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof f||(e=new f(e,this.options)),d(this.major,e.major)||d(this.minor,e.minor)||d(this.patch,e.patch)}comparePre(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return d(n,o)}while(++t)}compareBuild(e){e instanceof f||(e=new f(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return d(n,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===d(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}constructor(e,t){if(t=l(t),e instanceof f){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?c[u.LOOSE]:c[u.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}}e.exports=f})),i.register("dOUEH",(function(e,t){const r=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?r:e:n})),i.register("cwa76",(function(e,t){const r=/^[0-9]+$/,n=(e,t)=>{const n=r.test(e),o=r.test(t);return n&&o&&(e=+e,t=+t),e===t?0:n&&!o?-1:o&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}})),i.register("ch0Sn",(function(e,t){var r=i("h0q8T");e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}})),i.register("8vyAT",(function(e,t){var r=i("ch0Sn");e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}})),i.register("8WLNB",(function(e,t){var r=i("ch0Sn");e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}})),i.register("aKjue",(function(e,t){var r=i("h0q8T");e.exports=(e,t,n,o,i)=>{"string"==typeof n&&(i=o,o=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,o,i).version}catch(e){return null}}})),i.register("kVyW1",(function(e,t){var r=i("ch0Sn");e.exports=(e,t)=>{const n=r(e,null,!0),o=r(t,null,!0),i=n.compare(o);if(0===i)return null;const s=i>0,a=s?n:o,c=s?o:n,u=!!a.prerelease.length;if(!!c.prerelease.length&&!u)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const l=u?"pre":"";return n.major!==o.major?l+"major":n.minor!==o.minor?l+"minor":n.patch!==o.patch?l+"patch":"prerelease"}})),i.register("dbGir",(function(e,t){var r=i("h0q8T");e.exports=(e,t)=>new r(e,t).major})),i.register("gEqbg",(function(e,t){var r=i("h0q8T");e.exports=(e,t)=>new r(e,t).minor})),i.register("6sfS3",(function(e,t){var r=i("h0q8T");e.exports=(e,t)=>new r(e,t).patch})),i.register("S6Zjf",(function(e,t){var r=i("ch0Sn");e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}})),i.register("hfSq3",(function(e,t){var r=i("h0q8T");e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))})),i.register("6Up9f",(function(e,t){var r=i("hfSq3");e.exports=(e,t,n)=>r(t,e,n)})),i.register("dYujX",(function(e,t){var r=i("hfSq3");e.exports=(e,t)=>r(e,t,!0)})),i.register("UWVJX",(function(e,t){var r=i("h0q8T");e.exports=(e,t,n)=>{const o=new r(e,n),i=new r(t,n);return o.compare(i)||o.compareBuild(i)}})),i.register("jMqbX",(function(e,t){var r=i("UWVJX");e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))})),i.register("8Hq6c",(function(e,t){var r=i("UWVJX");e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))})),i.register("5nm9j",(function(e,t){var r=i("hfSq3");e.exports=(e,t,n)=>r(e,t,n)>0})),i.register("eTIXj",(function(e,t){var r=i("hfSq3");e.exports=(e,t,n)=>r(e,t,n)<0})),i.register("iB4Tt",(function(e,t){var r=i("hfSq3");e.exports=(e,t,n)=>0===r(e,t,n)})),i.register("hGJsl",(function(e,t){var r=i("hfSq3");e.exports=(e,t,n)=>0!==r(e,t,n)})),i.register("8G57F",(function(e,t){var r=i("hfSq3");e.exports=(e,t,n)=>r(e,t,n)>=0})),i.register("8mg5m",(function(e,t){var r=i("hfSq3");e.exports=(e,t,n)=>r(e,t,n)<=0})),i.register("jM7Ok",(function(e,t){var r=i("iB4Tt"),n=i("hGJsl"),o=i("5nm9j"),s=i("8G57F"),a=i("eTIXj"),c=i("8mg5m");e.exports=(e,t,i,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return r(e,i,u);case"!=":return n(e,i,u);case">":return o(e,i,u);case">=":return s(e,i,u);case"<":return a(e,i,u);case"<=":return c(e,i,u);default:throw new TypeError(`Invalid operator: ${t}`)}}})),i.register("6hJMa",(function(e,t){var r=i("h0q8T"),n=i("ch0Sn"),o=i("1spnT"),s=o.safeRe,a=o.t;e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let o=null;if((t=t||{}).rtl){let t;for(;(t=s[a.COERCERTL].exec(e))&&(!o||o.index+o[0].length!==e.length);)o&&t.index+t[0].length===o.index+o[0].length||(o=t),s[a.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;s[a.COERCERTL].lastIndex=-1}else o=e.match(s[a.COERCE]);return null===o?null:n(`${o[2]}.${o[3]||"0"}.${o[4]||"0"}`,t)}})),i.register("13ebk",(function(e,t){const r=Symbol("SemVer ANY");class n{static get ANY(){return r}parse(e){const t=this.options.loose?a[c.COMPARATORLOOSE]:a[c.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new d(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(e.value,t).test(this.value):""===e.operator?""===e.value||new f(this.value,t).test(e.semver):(!(t=o(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(u(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(u(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}constructor(e,t){if(t=o(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}}e.exports=n;var o=i("dOUEH"),s=i("1spnT"),a=s.safeRe,c=s.t,u=i("jM7Ok"),l=i("9Xp41"),d=i("h0q8T"),f=i("iOmDM")})),i.register("iOmDM",(function(e,t){class r{format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&v)|(this.options.loose&&y))+":"+e,r=n.get(t);if(r)return r;const o=this.options.loose,i=o?l[d.HYPHENRANGELOOSE]:l[d.HYPHENRANGE];e=e.replace(i,R(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(l[d.COMPARATORTRIM],f),a("comparator trim",e);let c=(e=(e=e.replace(l[d.TILDETRIM],p)).replace(l[d.CARETTRIM],h)).split(" ").map((e=>T(e,this.options))).join(" ").split(/\s+/).map((e=>L(e,this.options)));o&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(l[d.COMPARATORLOOSE]))))),a("range list",c);const u=new Map,g=c.map((e=>new s(e,this.options)));for(const e of g){if(m(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");const E=[...u.values()];return n.set(t,E),E}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((r=>w(r,t)&&e.set.some((e=>w(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&E(e[0])){this.set=[e];break}}this.format()}}e.exports=r;const n=new(i("9XsU9"))({max:1e3});var o=i("dOUEH"),s=i("13ebk"),a=i("9Xp41"),c=i("h0q8T"),u=i("1spnT"),l=u.safeRe,d=u.t,f=u.comparatorTrimReplace,p=u.tildeTrimReplace,h=u.caretTrimReplace,g=i("ayrQ1"),v=g.FLAG_INCLUDE_PRERELEASE,y=g.FLAG_LOOSE;const m=e=>"<0.0.0-0"===e.value,E=e=>""===e.value,w=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},T=(e,t)=>(a("comp",e,t),e=C(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=O(e,t),a("xrange",e),e=D(e,t),a("stars",e),e),A=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{const r=t.loose?l[d.TILDELOOSE]:l[d.TILDE];return e.replace(r,((t,r,n,o,i)=>{let s;return a("tilde",e,t,r,n,o,i),A(r)?s="":A(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:A(o)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(a("replaceTilde pr",i),s=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,a("tilde return",s),s}))},C=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{a("caret",e,t);const r=t.loose?l[d.CARETLOOSE]:l[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,i,s)=>{let c;return a("caret",e,t,r,o,i,s),A(r)?c="":A(o)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:A(i)?c="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===r?"0"===o?`>=${r}.${o}.${i}-${s} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${s} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${s} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),a("caret return",c),c}))},O=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>I(e,t))).join(" ")),I=(e,t)=>{e=e.trim();const r=t.loose?l[d.XRANGELOOSE]:l[d.XRANGE];return e.replace(r,((r,n,o,i,s,c)=>{a("xRange",e,r,n,o,i,s,c);const u=A(o),l=u||A(i),d=l||A(s),f=d;return"="===n&&f&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&f?(l&&(i=0),s=0,">"===n?(n=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",l?o=+o+1:i=+i+1),"<"===n&&(c="-0"),r=`${n+o}.${i}.${s}${c}`):l?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(r=`>=${o}.${i}.0${c} <${o}.${+i+1}.0-0`),a("xRange return",r),r}))},D=(e,t)=>(a("replaceStars",e,t),e.trim().replace(l[d.STAR],"")),L=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),R=e=>(t,r,n,o,i,s,a,c,u,l,d,f,p)=>`${r=A(n)?"":A(o)?`>=${n}.0.0${e?"-0":""}`:A(i)?`>=${n}.${o}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=A(u)?"":A(l)?`<${+u+1}.0.0-0`:A(d)?`<${u}.${+l+1}.0-0`:f?`<=${u}.${l}.${d}-${f}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),P=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}})),i.register("9XsU9",(function(e,t){"use strict";var r=i("8TDvo");const n=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),h=()=>1;const g=(e,t,r)=>{const n=e[f].get(t);if(n){const t=n.value;if(v(e,t)){if(m(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},y=e=>{if(e[o]>e[n])for(let t=e[d].tail;e[o]>e[n]&&null!==t;){const r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[o]-=r.length,e[f].delete(r.key),e[d].removeNode(t)}};class E{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const w=(e,t,r,n)=>{let o=r.value;v(e,o)&&(m(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[n]=e||1/0,y(this)}get max(){return this[n]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,y(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),y(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[f]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map((e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const i=r?Date.now():0,a=this[s](t,e);if(this[f].has(e)){if(a>this[n])return m(this,this[f].get(e)),!1;const s=this[f].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=i,s.maxAge=r,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),y(this),!0}const p=new E(e,t,a,i,r);return p.length>this[n]?(this[u]&&this[u](e,t),!1):(this[o]+=p.length,this[d].unshift(p),this[f].set(e,this[d].head),y(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!v(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach(((e,t)=>g(this,t,!1)))}constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[n]=e.max||1/0;const t=e.length||h;if(this[s]="function"!=typeof t?h:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}}})),i.register("8TDvo",(function(e,t){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function n(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},r.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},r.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},r.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;var s=[];for(o=0;i&&o<t;o++)s.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(o=0;o<r.length;o++)i=n(this,i,r[o]);return s},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{i("dnMxl")(r)}catch(e){}})),i.register("dnMxl",(function(e,t){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}})),i.register("iI21w",(function(e,t){var r=i("iOmDM");e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}})),i.register("lnKKH",(function(e,t){var r=i("iOmDM");e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))})),i.register("e1xBO",(function(e,t){var r=i("h0q8T"),n=i("iOmDM");e.exports=(e,t,o)=>{let i=null,s=null,a=null;try{a=new n(t,o)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new r(i,o)))})),i}})),i.register("fG3Sl",(function(e,t){var r=i("h0q8T"),n=i("iOmDM");e.exports=(e,t,o)=>{let i=null,s=null,a=null;try{a=new n(t,o)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new r(i,o)))})),i}})),i.register("iOAlU",(function(e,t){var r=i("h0q8T"),n=i("iOmDM"),o=i("5nm9j");e.exports=(e,t)=>{e=new n(e,t);let i=new r("0.0.0");if(e.test(i))return i;if(i=new r("0.0.0-0"),e.test(i))return i;i=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let s=null;n.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||i&&!o(i,s)||(i=s)}return i&&e.test(i)?i:null}})),i.register("fNcJ1",(function(e,t){var r=i("iOmDM");e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}})),i.register("jTq75",(function(e,t){var r=i("h0q8T"),n=i("13ebk");const{ANY:o}=n;var s=i("iOmDM"),a=i("iI21w"),c=i("5nm9j"),u=i("eTIXj"),l=i("8mg5m"),d=i("8G57F");e.exports=(e,t,i,f)=>{let p,h,g,v,y;switch(e=new r(e,f),t=new s(t,f),i){case">":p=c,h=l,g=u,v=">",y=">=";break;case"<":p=u,h=d,g=c,v="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,f))return!1;for(let r=0;r<t.set.length;++r){const i=t.set[r];let s=null,a=null;if(i.forEach((e=>{e.semver===o&&(e=new n(">=0.0.0")),s=s||e,a=a||e,p(e.semver,s.semver,f)?s=e:g(e.semver,a.semver,f)&&(a=e)})),s.operator===v||s.operator===y)return!1;if((!a.operator||a.operator===v)&&h(e,a.semver))return!1;if(a.operator===y&&g(e,a.semver))return!1}return!0}})),i.register("hKfqV",(function(e,t){var r=i("jTq75");e.exports=(e,t,n)=>r(e,t,">",n)})),i.register("duN3e",(function(e,t){var r=i("jTq75");e.exports=(e,t,n)=>r(e,t,"<",n)})),i.register("j8tIK",(function(e,t){var r=i("iOmDM");e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))})),i.register("58XdY",(function(e,t){var r=i("iI21w"),n=i("hfSq3");e.exports=(e,t,o)=>{const i=[];let s=null,a=null;const c=e.sort(((e,t)=>n(e,t,o)));for(const e of c){r(e,t,o)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null)}s&&i.push([s,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}})),i.register("7Lpj6",(function(e,t){var r=i("iOmDM"),n=i("13ebk");const{ANY:o}=n;var s=i("iI21w"),a=i("hfSq3");const c=[new n(">=0.0.0-0")],u=[new n(">=0.0.0")],l=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?c:u}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=u}const n=new Set;let i,l,p,h,g,v,y;for(const t of e)">"===t.operator||">="===t.operator?i=d(i,t,r):"<"===t.operator||"<="===t.operator?l=f(l,t,r):n.add(t.semver);if(n.size>1)return null;if(i&&l){if(p=a(i.semver,l.semver,r),p>0)return null;if(0===p&&(">="!==i.operator||"<="!==l.operator))return null}for(const e of n){if(i&&!s(e,String(i),r))return null;if(l&&!s(e,String(l),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let m=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,E=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver;m&&1===m.prerelease.length&&"<"===l.operator&&0===m.prerelease[0]&&(m=!1);for(const e of t){if(y=y||">"===e.operator||">="===e.operator,v=v||"<"===e.operator||"<="===e.operator,i)if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if(h=d(i,e,r),h===e&&h!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),r))return!1;if(l)if(m&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===m.major&&e.semver.minor===m.minor&&e.semver.patch===m.patch&&(m=!1),"<"===e.operator||"<="===e.operator){if(g=f(l,e,r),g===e&&g!==l)return!1}else if("<="===l.operator&&!s(l.semver,String(e),r))return!1;if(!e.operator&&(l||i)&&0!==p)return!1}return!(i&&v&&!l&&0!==p)&&(!(l&&y&&!i&&0!==p)&&(!E&&!m))},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},f=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=l(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}})),i.register("g9PKp",(function(t,r){e(t.exports,"createOnboardingHooks",(function(){return i("89Vzt").createOnboardingHooks})),e(t.exports,"BATCH_SIZE_BY_PLATFORM",(function(){return i("1eGkH").BATCH_SIZE_BY_PLATFORM})),e(t.exports,"useSelectMultichainAccountsProps",(function(){return i("1eGkH").useSelectMultichainAccountsProps})),e(t.exports,"ALLOWED_ONBOARDING_STORAGE_KEYS_FOR_EXPORT",(function(){return i("vUpML").ALLOWED_ONBOARDING_STORAGE_KEYS_FOR_EXPORT})),e(t.exports,"OnboardingStorageKeys",(function(){return i("d08rP").OnboardingStorageKeys})),e(t.exports,"OnboardingType",(function(){return i("7cOUp").OnboardingType})),e(t.exports,"discoverAccounts",(function(){return i("hwACv").discoverAccounts}));i("89Vzt"),i("1eGkH"),i("8taMK"),i("jFh3h"),i("vUpML"),i("d08rP"),i("7cOUp"),i("7n0ia"),i("hl6Md"),i("hwACv"),i("fGTlj"),i("cZNQz")})),i.register("89Vzt",(function(t,r){e(t.exports,"createOnboardingHooks",(function(){return f}));var n=i("hl6Md"),o=i("l7a7Z"),s=i("fZg4E"),a=i("1vrFI"),c=i("eiyTy"),u=i("1loje"),l=i("aQ1g3"),d=i("3bN09");function f(e,t,r,i,f){const p=new(0,n.LedgerOnboardingAnalytics)(r);return{useIsFirstTimeOnboarding:()=>(0,a.useIsFirstTimeOnboarding)(e),useSetIsFirstTimeOnboarding:()=>(0,a.useSetIsFirstTimeOnboarding)(e,t),useIsResettingApp:()=>(0,c.useIsResettingApp)(e),useSetIsResettingApp:()=>(0,c.useSetIsResettingApp)(e,t),useSetIsFirstTimeResettingApp:()=>(0,c.useSetIsFirstTimeResettingApp)(e,t),useDeriveLedgerAccounts:e=>(0,o.useDeriveLedgerAccounts)(i,t,p,e),useDiscoverLedgerAccounts:e=>(0,s.useDiscoverLedgerAccounts)(p,e),useTermsAcknowledgement:()=>(0,l.useTermsAcknowledgement)(e,f),useWhatsNewOverlay:()=>(0,d.useWhatsNewOverlay)(e),useSetTermsAcknowledgement:()=>(0,u.useSetTermsAcknowledgement)(e,t),useSetAcknowledgeWhatsNewOverlay:()=>(0,d.useSetAcknowledgeWhatsNewOverlay)(e,t)}}})),i.register("hl6Md",(function(t,r){e(t.exports,"LedgerOnboardingAnalytics",(function(){return l}),(function(e){return l=e}));var n=i("iOvk1");i("eJxop");var o,s=i("e59pI"),a=i("7mQ3Y"),c=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},u=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class l{constructor(e){o.set(this,void 0),this.onOpen=()=>u(this,o,"f").capture("connectHardwareOpen"),this.onSelectedChains=e=>{const t=new Set(e),r=[];for(const e of n.Chains.getAllChainIDs())t.has(e)&&r.push(e);const i={numChains:r.length,selectedChains:r.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(", ")};u(this,o,"f").capture("connectHardwareSelectedChains",{data:i})},this.onDerivedAccounts=e=>{const t={};for(const[r,n]of Object.entries(e.derivedAddresses)){if(!d(r))continue;const e={numberOfDerivedAccounts:n.addresses.length};void 0!==n.duration&&(e.derivationDuration=n.duration),t[r]=e}u(this,o,"f").capture("connectHardwareAccountsDerived",{data:Object.assign({},t)})},this.onDiscoveredAccounts=e=>{var t;const{discoveredAccounts:r}=e,n={};for(const e of r){if("undiscovered"===e.status)continue;const r=e.accounts.reduce(((e,{derivationPathType:t,hasAccountActivity:r})=>(e[a.AddressTypes.getAddressType(t)]={derivationPathType:t,hasAccountActivity:r},e)),{});for(const{hasAccountActivity:e,derivationPathType:o}of Object.values(r)){if(!e)continue;const r=null!==(t=n[o])&&void 0!==t?t:0;n[o]=r+1}}u(this,o,"f").capture("connectHardwareAccountsDiscovered",{data:{numberOfActiveAccounts:n}})},this.onConnectedAccounts=e=>{var t;const r={};for(const n of e.accounts){const e=[...n.addresses,...n.publicKeys].reduce(((e,t)=>(e[a.AddressTypes.getAddressType(t.pathType)]=t.pathType,e)),{});for(const n of Object.values(e)){const e=null!==(t=r[n])&&void 0!==t?t:0;r[n]=e+1}}u(this,o,"f").capture("connectHardwareAccountsConnected",{data:{numberOfAccountsImported:e.accounts.length,numberOfAccountsImportedByDerivationPath:r}})},c(this,o,e,"f")}}function d(e){return"string"==typeof e&&Object.keys(s.LedgerApp).includes(e)}o=new WeakMap})),i.register("l7a7Z",(function(t,r){e(t.exports,"useDeriveLedgerAccounts",(function(){return d}),(function(e){return d=e})),i("eJxop");var n=i("bwiqA"),o=i("5i9Ta"),s=i("5ekp2"),a=i("29o0l"),c=i("aJdXK"),u=i("jFh3h"),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const d=(e,t,r,i)=>{var d;const{selectedChains:f,ledgerTransportState:p=n.LEDGER_NOT_CONNECTED_STATE}=i,h=f.length>0&&p.isConnected,g=u.onboardingQueryKeys.deriveLedgerAccounts,v=p.isConnected?null===(d=p.selectedApp)||void 0===d?void 0:d.app:void 0;(0,a.useEffect)((()=>{v&&t.invalidateQueries(g)}),[v,t,g]);return(0,s.useQuery)({enabled:h,queryKey:g,queryFn:()=>l(void 0,void 0,void 0,(function*(){const n=yield t.getQueryData(g);return(0,c.deriveLedgerAccounts)(Object.assign(Object.assign({ledgerDeps:e,queryClient:t,ledgerOnboardingAnalytics:r,queryKey:g},i),{ledgerTransportState:yield(0,o.getLedgerTransportState)(t),previousResponse:n}))})),retry:!1})}})),i.register("aJdXK",(function(t,r){e(t.exports,"deriveLedgerAccounts",(function(){return p}),(function(e){return p=e}));var n=i("jZpRu"),o=i("iOvk1");i("eJxop");var s=i("4kKEQ"),a=i("54Y8k"),c=i("vUpML"),u=i("1wrYO"),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const d={ledgerAppsToDerive:[],currentlyDerivingNetworkIDs:[],derivedAddresses:{}},f=(e,t)=>e.map((e=>({ledgerApp:e,status:t[e]?"complete":"incomplete"}))),p=e=>l(void 0,void 0,void 0,(function*(){var t;const{ledgerDeps:r,queryClient:i,ledgerOnboardingAnalytics:l,queryKey:p,selectedChains:h,enableDebugLogs:g=!0,enableLedgerXPubDerivation:v=!0,ledgerTransportState:y,previousResponse:m=d}=e;if(!(({selectedChains:e,ledgerTransportState:t})=>e.length>0&&t.isConnected)(e))return{ledgerAppsToDerive:[],currentlyDerivingNetworkIDs:[],derivedAddresses:{}};const E=m.derivedAddresses,w=new Set(h),T=o.Chains.getAllNetworkIDs({mainnetOnly:!0}).filter((e=>{const t=o.Chains.getChainID(e);return w.has(t)})),A=Array.from(T.map((e=>(0,s.getLedgerAppForNetworkID)(e))).reduce(((e,t)=>(e.add(t),e)),new Set)),b=f(A,E),S=b.find((e=>"incomplete"===e.status));if(!S)return{ledgerAppsToDerive:[],currentlyDerivingNetworkIDs:[],derivedAddresses:E};const{ledgerApp:C}=S,x=b.filter((e=>"incomplete"===e.status)).map((e=>e.ledgerApp)),O=T.filter((e=>(0,s.getLedgerAppForNetworkID)(e)===C));if(i.setQueryData(p,{ledgerAppsToDerive:x,currentlyDerivingNetworkIDs:O,derivedAddresses:E}),!y.isConnected||(null===(t=y.selectedApp)||void 0===t?void 0:t.app)!==C)return{ledgerAppsToDerive:x,currentlyDerivingNetworkIDs:O,derivedAddresses:E};const I=(0,u.createLedgerOnboardingParams)(C,c.LEDGER_ONBOARDING_INDICES_TO_DERIVE);let D;const L=yield(0,a.deriveLedgerAddresses)({transportTimeout:r.defaultTransportTimeout,state:y,derivationPathParams:I,enableDebugLogs:g,enableLedgerXPubDerivation:v,onSuccess:e=>{D=e}}),R=I.map((e=>{const t=(0,n.getDerivationPath)(e),r=L[t];return{paramsUsed:e,address:r.address,publicKey:r.publicKey}})),P=Object.assign(Object.assign({},E),{[C]:{addresses:R,duration:D}}),N=f(A,P).filter((e=>"incomplete"===e.status)).map((e=>e.ledgerApp)),k=0===N.length?[]:T.filter((e=>(0,s.getLedgerAppForNetworkID)(e)===N[0])),M={ledgerAppsToDerive:N,currentlyDerivingNetworkIDs:k,derivedAddresses:P};return 0===N.length&&l.onDerivedAccounts(M),M}))})),i.register("vUpML",(function(t,r){e(t.exports,"LEDGER_ONBOARDING_INDICES_TO_DERIVE",(function(){return o})),e(t.exports,"ALLOWED_ONBOARDING_STORAGE_KEYS_FOR_EXPORT",(function(){return s}));var n=i("d08rP");const o=19,s=[n.OnboardingStorageKeys.FirstTimeOnboarding,n.OnboardingStorageKeys.IsResettingApp]})),i.register("d08rP",(function(t,r){var n,o;e(t.exports,"OnboardingStorageKeys",(function(){return n})),(o=n||(n={})).FirstTimeOnboarding="firstTimeOnboarding",o.IsResettingApp="isResettingApp"})),i.register("1wrYO",(function(t,r){e(t.exports,"createLedgerOnboardingParams",(function(){return s}));var n=i("jZpRu");i("eJxop");var o=i("e59pI");const s=(e,t)=>{const r=[];e===o.LedgerApp.Solana?r.push({pathType:n.DerivationPathType.Bip44RootSolana}):e===o.LedgerApp.EVM&&r.push({pathType:n.DerivationPathType.Bip44RootEthereum});for(let i=0;i<t;++i)switch(e){case o.LedgerApp.Solana:r.push({index:i,pathType:n.DerivationPathType.Bip44ChangeSolana}),r.push({index:i,pathType:n.DerivationPathType.Bip44Solana});break;case o.LedgerApp.EVM:r.push({index:i,pathType:n.DerivationPathType.Bip44Ethereum}),r.push({index:i,pathType:n.DerivationPathType.Bip44EthereumSecondary});break;case o.LedgerApp.Bitcoin:r.push({index:i,pathType:n.DerivationPathType.BitcoinTaproot}),r.push({index:i,pathType:n.DerivationPathType.BitcoinNativeSegwit})}return r}})),i.register("jFh3h",(function(t,r){e(t.exports,"onboardingQueryKeys",(function(){return o}));const n="@phantom/onboarding",o={firstTimeOnboarding:[`${n}:first-time-onboarding`],isResettingApp:[`${n}:is-resetting-app`],deriveLedgerAccounts:[`${n}:derive-ledger-accounts`],discoverLedgerAccounts:[`${n}:discover-ledger-accounts`]}})),i.register("fZg4E",(function(t,r){e(t.exports,"useDiscoverLedgerAccounts",(function(){return c}),(function(e){return c=e}));var n=i("5ekp2"),o=i("57b0z"),s=i("jFh3h"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c=(e,t)=>{const r=(0,o.isDiscoverLedgerAccountsEnabled)(t),i=s.onboardingQueryKeys.discoverLedgerAccounts;return(0,n.useQuery)({enabled:r,queryKey:i,queryFn:()=>a(void 0,void 0,void 0,(function*(){return(0,o.discoverLedgerAccounts)(Object.assign({ledgerOnboardingAnalytics:e},t))}))})}})),i.register("57b0z",(function(t,r){e(t.exports,"isDiscoverLedgerAccountsEnabled",(function(){return f}),(function(e){return f=e})),e(t.exports,"discoverLedgerAccounts",(function(){return p}),(function(e){return p=e}));var n=i("4xbAj"),o=i("iOvk1");i("eJxop");var s=i("4kKEQ"),a=i("4vX1O"),c=i("creZv"),u=i("hwACv"),l=i("cZNQz"),d=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const f=({existingAccountsFetched:e,selectedChains:t,deriveLedgerAccountsResponse:r})=>e&&t.length>0&&!!r&&0===r.ledgerAppsToDerive.length,p=e=>d(void 0,void 0,void 0,(function*(){var t,r,i,d,p;const{ledgerOnboardingAnalytics:h,existingAccounts:g,discoveryBatchSize:v,selectedChains:y,deriveLedgerAccountsResponse:m,retryDiscoverAccountsOnFail:E=!0}=e;if(!f(e))throw new Error("Query disabled.");const w={},T=new Set(y);for(const e of o.Chains.getAllNetworkIDs({mainnetOnly:!0})){if(!T.has(o.Chains.getChainID(e)))continue;const c=(0,s.getLedgerAppForNetworkID)(e),u=null!==(i=null===(r=(null!==(t=null==m?void 0:m.derivedAddresses)&&void 0!==t?t:{})[c])||void 0===r?void 0:r.addresses)&&void 0!==i?i:[];for(const{address:t,publicKey:r,paramsUsed:o}of u){const i=(0,n.getDerivationPathGroupKey)(o),s=null!==(d=w[i])&&void 0!==d?d:{accounts:{},derivationIndex:null!==(p=o.index)&&void 0!==p?p:-1};s.accounts[`${e}-${t}`]={chainType:(0,a.getAddressTypeFromDerivationPathType)(o.pathType),chainId:e,address:t,publicKey:r,pathParams:o},w[i]=s}}const A=Object.entries(w).sort((([e,t],[r,o])=>(0,n.compareDerivationPathGroup)(e,r))).map((([e,t])=>t)),b=(0,l.getExistingAddressesSet)(g),S=A.reduce(((e,t)=>{let r=!1;for(const{address:e}of Object.values(t.accounts))r=r||b.has(e);return r||e.push(t),e}),[]),C=[],x=[];for(let e=0;e<S.length;e+=v){const t=S.slice(e,e+v).map((e=>Object.entries(e.accounts).reduce(((e,[t,r])=>(e[t]={account:r},e)),{})));x.push(t)}for(const e of x)C.push((0,u.discoverAccounts)(e,E));const O=(yield Promise.all(C)).flat().map((e=>{switch(e.status){case"discovered":return Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>e.hasAccountActivity||(0,n.isRecommendedDerivationPathType)(e.derivationPathType)))});case"undiscovered":return Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>(0,n.isRecommendedDerivationPathType)(e.derivationPathType)))})}})).filter((e=>e.accounts.length>0)).map((e=>{const t=(0,c.default)();return Object.assign(Object.assign({},e),{discoveryIdentifier:t})})),I=O.filter((e=>"undiscovered"===e.status||e.isSelectedByDefault)),D=O.filter((e=>!("undiscovered"===e.status||e.isSelectedByDefault))).slice(0,2),L=I.length>0,R=g.filter((e=>e.type===n.AccountType.Ledger)).length,P=(L?[...I,...D]:O.slice(0,3)).map(((e,t)=>Object.assign(Object.assign({},e),{accountIndex:R+t}))),N={};P.forEach(((e,t)=>{("discovered"===e.status&&e.isSelectedByDefault||0===t)&&(N[e.discoveryIdentifier]=!0)}));const k={discoveredAccounts:P,activeAccountsFound:L,defaultSelectedAccounts:N};return h.onDiscoveredAccounts(k),k}))})),i.register("hwACv",(function(t,r){e(t.exports,"discoverAccounts",(function(){return m}),(function(e){return m=e})),e(t.exports,"useDiscoverMultiChainAccounts",(function(){return w}),(function(e){return w=e}));var n=i("4xbAj"),o=i("jZpRu"),s=i("iOvk1"),a=i("7mQ3Y"),c=i("csW2r"),u=i("RVqnc"),l=i("wGjeD"),d=i("fGTlj"),f=i("8tcqI").Buffer,p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const h="fetch-multi-chain-accounts-by-seed",g=(e,t)=>[o.DerivationPathType.BitcoinTaproot,o.DerivationPathType.BitcoinNativeSegwit].map((r=>{const n={pathType:r,index:e},{publicKey:o}=t.derivePathType(r,e),i=a.AddressTypes.getAddressType(r),c=(0,a.publicKeyToAddress)({publicKey:o,addressType:i});return{chainType:i,chainId:s.NetworkIDs.Bitcoin.Mainnet,address:c,publicKey:f.from(o).toString("hex"),pathParams:n}})),v=(e,t)=>[o.DerivationPathType.Bip44Ethereum,o.DerivationPathType.Bip44EthereumSecondary,o.DerivationPathType.Bip44EthereumTertiary].map((r=>{const n={pathType:r,index:e},{publicKey:o}=t.derivePathType(r,e);return{chainType:a.AddressTypes.getAddressType(r),pathType:r,address:(0,a.publicKeyToAddress)({publicKey:o,addressType:a.AddressType.EVM}),publicKey:f.from(o).toString("hex"),pathParams:n}})),y=(e,t)=>[o.DerivationPathType.Bip44ChangeSolana,o.DerivationPathType.Bip44Solana,o.DerivationPathType.DeprecatedSolana].map((r=>{const n={pathType:r,index:e},i=t.derivePathType(r,e);let c;switch(r){case o.DerivationPathType.Bip44RootSolana:case o.DerivationPathType.Bip44Solana:case o.DerivationPathType.Bip44ChangeSolana:c=i.publicKey;break;case o.DerivationPathType.DeprecatedSolana:c=(0,a.getDeprecatedSolanaKeyPairFromPrivateKey)(i.secretKey).publicKey}const u=(0,a.publicKeyToAddress)({publicKey:c,addressType:a.AddressType.Solana});return{chainType:a.AddressType.Solana,chainId:s.NetworkIDs.Solana.Mainnet,address:u,publicKey:f.from(c).toString("hex"),pathParams:n}})),m=(e,...t)=>p(void 0,[e,...t],void 0,(function*(e,t=!0){const r=Object.assign({},...e);try{const e=Object.values(r).map((({account:e})=>({address:e.address,chainId:e.chainId})));let o;o=t?(yield(0,u.withRetry)((()=>p(void 0,void 0,void 0,(function*(){return(0,u.withTimeout)((0,d.fetchDiscoverAccounts)({accounts:e}),1e4)}))),(()=>!0),2)).accounts:(yield(0,d.fetchDiscoverAccounts)({accounts:e})).accounts;const i={};for(const e of o){const{account:t}=r[`${e.chain.id}-${e.address}`],o=t.publicKey,s=t.chainType,a=(0,n.getDerivationPathGroupKey)(t.pathParams),c=Object.assign(Object.assign({},e),{publicKey:o,chainType:s,derivationPathType:t.pathParams.pathType,hasAccountActivity:!!e.lastActivityTimestamp||parseFloat(e.amount)>0});i[a]=[...i[a]||[],c]}Object.keys(i).forEach((e=>{i[e]=i[e].sort(((e,t)=>s.Chains.compareNetworkID(e.chain.id,t.chain.id)))}));const a=Object.values(i),c=a.filter((e=>e.some((e=>e.hasAccountActivity)))),l=!!c.length;return(l?c:a).map((e=>{var t;const n=e[0];return{status:"discovered",seedIndex:null!==(t=r[`${n.chain.id}-${n.address}`].account.pathParams.index)&&void 0!==t?t:-1,isSelectedByDefault:l,accounts:e}}))}catch(e){const t=Object.values(r).map((({account:e})=>e)),o={};for(const e of t){const{account:t}=r[`${e.chainId}-${e.address}`],i=(0,n.getDerivationPathGroupKey)(t.pathParams),c=Object.assign(Object.assign({},e),{chain:{id:e.chainId,name:s.Chains.getNetworkName(e.chainId),symbol:s.Chains.getTokenSymbol(e.chainId)},chainType:a.AddressTypes.getAddressType(t.pathParams.pathType),derivationPathType:t.pathParams.pathType,hasAccountActivity:!1});o[i]=[...o[i]||[],c]}Object.keys(o).forEach((e=>{o[e]=o[e].sort(((e,t)=>s.Chains.compareNetworkID(e.chain.id,t.chain.id)))}));const i=Object.values(o).map((e=>{var t;const n=e[0];return{status:"undiscovered",seedIndex:null!==(t=r[`${n.chain.id}-${n.address}`].account.pathParams.index)&&void 0!==t?t:-1,accounts:e,isSelectedByDefault:!1}}));return i}})),E=e=>p(void 0,[e],void 0,(function*({hdWallet:e,startIndex:t,endIndex:r,enabledAddressTypes:n}){const o=[];for(let i=t;i<=r;++i){const t={};if(n.includes(a.AddressType.BitcoinNativeSegwit))for(const r of g(i,e))t[`${s.NetworkIDs.Bitcoin.Mainnet}-${r.address}`]={account:r};if(n.includes(a.AddressType.EVM)){const r=v(i,e),n=s.Chains.getChainIDs(a.AddressType.EVM);for(const e of n){const n=s.Chains[e];for(const{address:e,publicKey:o,chainType:i,pathParams:s}of r)t[`${n.mainnetID}-${e}`]={account:{chainType:i,chainId:n.mainnetID,address:e,publicKey:o,pathParams:s}}}}if(n.includes(a.AddressType.Solana))for(const r of y(i,e))t[`${r.chainId}-${r.address}`]={account:r};o.push(t)}return m(o)}));function w({batchSize:e,hdWallet:t,enabledAddressTypes:r}){const n=!!t&&0!=r.length,o=[h,e];return(0,l.useInfiniteQuery)({enabled:n,queryKey:o,queryFn:n=>p(this,[n],void 0,(function*({pageParam:n=0}){try{if(e<1)throw new Error(`Need positive batchSize: ${e}`);if(!t)throw new Error("Missing HDWallet");const o=[],i=[],s=0===n;let a=n,c=!0;for(;c;){const n=a,u=a+e-1,l=(yield E({hdWallet:t,startIndex:n,endIndex:u,enabledAddressTypes:r})).flat(1);a+=e,c=!1;for(const e of l)o.push(e),("undiscovered"===e.status||e.isSelectedByDefault)&&i.push(e),s&&"discovered"===e.status&&e.isSelectedByDefault&&(c=!0)}if(s&&0===i.length&&o.length>1){const e=o[0],t=e.accounts.map((e=>Object.assign(Object.assign({},e),{hasAccountActivity:!1}))),r={status:"undiscovered",seedIndex:e.seedIndex,accounts:t,isSelectedByDefault:!1};i.push(r)}return i}catch(e){throw e instanceof Error&&c.telemetry.captureError(e,c.FeatureTag.Account),e}})),getNextPageParam:(t,r)=>{const n=r.length,o=n?r[0]:[],i=o.length?T(o[o.length-1].seedIndex,e):0;return 1===n?i:i+e*(n-1)},cacheTime:0,staleTime:0})}const T=(e,t)=>Math.ceil(e/t)*t+t})),i.register("fGTlj",(function(t,r){e(t.exports,"fetchDiscoverAccounts",(function(){return l}),(function(e){return l=e}));var n=i("iOvk1"),o=i("2onIY"),s=i("beWYh"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c=`${(0,o.getAPIEnvironment)()}/discover/v1`,u={Accept:"application/json"},l=e=>a(void 0,void 0,void 0,(function*(){if(!e.accounts.length)throw new Error("Must send at least 1 account for discovery");const t=yield s.rb.headers(u).post(c,e),r=t.data;if(!(0,s.responseIsOkay)(t)){if((o=r)&&"string"==typeof o.message)throw new Error(r.message);throw new Error(`Unable to discover accounts with args: ${JSON.stringify(e)}`)}var o;if((e=>{if(!e||!Array.isArray(e.accounts))return!1;for(const t of e.accounts)if("string"!=typeof t.address||"string"!=typeof t.amount||t.lastActivityTimestamp&&"number"!=typeof t.lastActivityTimestamp||!t.chain||"string"!=typeof t.chain.id||!new Set(n.Chains.getAllNetworkIDs()).has(t.chain.id)||"string"!=typeof t.chain.name||"string"!=typeof t.chain.symbol||"string"!=typeof t.chain.imageUrl)return!1;return!0})(r))return r;throw new Error(`Invalid discover accounts response: ${JSON.stringify(r)}`)}))})),i.register("cZNQz",(function(t,r){e(t.exports,"getExistingAddressesSet",(function(){return n}));const n=e=>{const t=new Set;for(const r of e)for(const{address:e}of r.addresses)t.add(e);return t}})),i.register("1vrFI",(function(t,r){e(t.exports,"useIsFirstTimeOnboarding",(function(){return u}),(function(e){return u=e})),e(t.exports,"useSetIsFirstTimeOnboarding",(function(){return l}),(function(e){return l=e}));var n=i("9W7fs"),o=i("5ekp2"),s=i("d08rP"),a=i("jFh3h"),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const u=e=>{const{data:t}=(0,o.useQuery)({queryKey:a.onboardingQueryKeys.firstTimeOnboarding,queryFn:()=>c(void 0,void 0,void 0,(function*(){const t=yield e.get(s.OnboardingStorageKeys.FirstTimeOnboarding);return null===t||t.isFirstTimeOnboarding}))});return t},l=(e,t)=>(0,n.useMutation)({mutationFn:r=>c(void 0,void 0,void 0,(function*(){yield e.set(s.OnboardingStorageKeys.FirstTimeOnboarding,{isFirstTimeOnboarding:r}),t.setQueryData(a.onboardingQueryKeys.firstTimeOnboarding,r)}))})})),i.register("eiyTy",(function(t,r){e(t.exports,"useIsResettingApp",(function(){return u}),(function(e){return u=e})),e(t.exports,"useSetIsResettingApp",(function(){return l}),(function(e){return l=e})),e(t.exports,"useSetIsFirstTimeResettingApp",(function(){return d}),(function(e){return d=e}));var n=i("9W7fs"),o=i("5ekp2"),s=i("d08rP"),a=i("jFh3h"),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const u=e=>{const{data:t}=(0,o.useQuery)({queryKey:a.onboardingQueryKeys.isResettingApp,queryFn:()=>c(void 0,void 0,void 0,(function*(){const t=yield e.get(s.OnboardingStorageKeys.IsResettingApp);return null===t?{isResettingApp:!1,isFirstTimeResettingApp:!1}:t}))});return t},l=(e,t)=>(0,n.useMutation)({mutationFn:r=>c(void 0,void 0,void 0,(function*(){var n;const o=yield e.get(s.OnboardingStorageKeys.IsResettingApp),i=null!==(n=null==o?void 0:o.isFirstTimeResettingApp)&&void 0!==n&&n;yield e.set(s.OnboardingStorageKeys.IsResettingApp,{isResettingApp:r,isFirstTimeResettingApp:i}),t.setQueryData(a.onboardingQueryKeys.isResettingApp,{isResettingApp:r,isFirstTimeResettingApp:i})}))}),d=(e,t)=>(0,n.useMutation)({mutationFn:r=>c(void 0,void 0,void 0,(function*(){var n;const o=yield e.get(s.OnboardingStorageKeys.IsResettingApp),i=null!==(n=null==o?void 0:o.isResettingApp)&&void 0!==n&&n;yield e.set(s.OnboardingStorageKeys.IsResettingApp,{isResettingApp:i,isFirstTimeResettingApp:r}),t.setQueryData(a.onboardingQueryKeys.isResettingApp,{isResettingApp:i,isFirstTimeResettingApp:r})}))})})),i.register("1loje",(function(t,r){e(t.exports,"useSetTermsAcknowledgement",(function(){return a}),(function(e){return a=e}));var n=i("4xbAj"),o=i("9W7fs"),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const a=(e,t)=>(0,o.useMutation)({mutationFn:r=>s(void 0,void 0,void 0,(function*(){yield e.set(n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2,r),t.setQueryData([n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2],r)}))})})),i.register("aQ1g3",(function(t,r){e(t.exports,"useTermsAcknowledgement",(function(){return a}),(function(e){return a=e}));var n=i("4xbAj"),o=i("5ekp2"),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const a=(e,t)=>(0,o.useQuery)({queryKey:[n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2],queryFn:()=>s(void 0,void 0,void 0,(function*(){const r=yield e.get(n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2),o=yield((e,t,r)=>s(void 0,void 0,void 0,(function*(){if(e)return e;try{const e=yield r.get(n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2);return e&&(yield t.set(n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2,e),yield r.remove(n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2)),t.get(n.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2)}catch(e){return null}})))(r,e,t);return!!o}))})})),i.register("3bN09",(function(t,r){e(t.exports,"useWhatsNewOverlay",(function(){return c}),(function(e){return c=e})),e(t.exports,"useSetAcknowledgeWhatsNewOverlay",(function(){return u}),(function(e){return u=e}));var n=i("HlEsU"),o=i("9W7fs"),s=i("5ekp2"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c=e=>(0,s.useQuery)({queryKey:[n.StorageKeys.LastSeenWhatsNewId],queryFn:()=>a(void 0,void 0,void 0,(function*(){var t;return 37>(null!==(t=yield e.get(n.StorageKeys.LastSeenWhatsNewId))&&void 0!==t?t:0)}))}),u=(e,t)=>(0,o.useMutation)({mutationFn:()=>a(void 0,void 0,void 0,(function*(){yield e.set(n.StorageKeys.LastSeenWhatsNewId,37)})),onSuccess:()=>{t.setQueryData([n.StorageKeys.LastSeenWhatsNewId],!1)}})})),i.register("1eGkH",(function(t,r){e(t.exports,"BATCH_SIZE_BY_PLATFORM",(function(){return d}),(function(e){return d=e})),e(t.exports,"useSelectMultichainAccountsProps",(function(){return f}),(function(e){return f=e}));var n=i("43063"),o=i("RVqnc"),s=i("29o0l"),a=i("7z19N"),c=i("hwACv"),u=i("8taMK"),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const d={extension:7,ios:7,android:7},f=({platform:e,seed:t,navigationCallback:r,storageCallback:i,enabledAddressTypes:f})=>{var p;const{t:h}=(0,n.useTranslation)(),g=h("onboardingSelectAccountsFindMoreAccounts"),[v,y]=(0,s.useState)({}),[m,E]=(0,s.useState)(!1),[w,T]=(0,s.useState)(!1),[A,b]=(0,s.useState)(g),S=(0,u.useCachedHDWallet)(t),{data:C,status:x,fetchNextPage:O,isFetchingNextPage:I}=(0,c.useDiscoverMultiChainAccounts)({batchSize:d[e],hdWallet:S,enabledAddressTypes:f}),D=(0,s.useMemo)((()=>{var e;return null!==(e=null==C?void 0:C.pages.flat())&&void 0!==e?e:[]}),[C]),L=(R=D,(0,s.useMemo)((()=>R?R.map((e=>"undiscovered"===e.status?e:Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>e.hasAccountActivity))}))):[]),[R]));var R;const P=(N=L,(0,s.useMemo)((()=>N.reduce(((e,t,r)=>(e[r]=0===r||t.isSelectedByDefault,e)),{})),[N]));var N;const k=((e,t)=>(0,s.useMemo)((()=>{var r;return null!==(r=null==e?void 0:e.reduce(((e,r,n)=>t[n]?[...e,r]:e),[]))&&void 0!==r?r:[]}),[e,t]))(D,v),M=(({activeAccountsNumber:e,allAccountsNumber:t,hasDiscoveryFailed:r})=>{const{t:o}=(0,n.useTranslation)(),i=e>0&&!r;return(0,s.useMemo)((()=>0===t?o("onboardingImportImportingFindingAccounts"):0===e?o("onboardingImportAccountsEmptyResult"):1===t?i?o("onboardingImportAccountsFoundAccounts_one",{numberOfWallets:e}):o("onboardingImportAccountsFoundAccountsNoActivity_one",{numberOfWallets:t}):t>1?i?o("onboardingImportAccountsFoundAccounts_other",{numberOfWallets:e}):o("onboardingImportAccountsFoundAccountsNoActivity_other",{numberOfWallets:t}):""),[e,t,i,o])})({activeAccountsNumber:L.length,allAccountsNumber:D.length,hasDiscoveryFailed:"undiscovered"===(null===(p=D[0])||void 0===p?void 0:p.status)});((e,t)=>{const{t:r}=(0,n.useTranslation)();(0,s.useEffect)((()=>{let n;if(e){const{pages:o}=e,i=o.length>1,s=0===o[o.length-1].length;i&&s&&(t(r("onboardingSelectAccountsFindMoreNoneFound")),n=setTimeout((()=>{t(r("onboardingSelectAccountsFindMoreAccounts"))}),3e3))}return()=>{n&&clearTimeout(n)}}),[e])})(C,b),((e,t)=>{(0,s.useEffect)((()=>{t((t=>{const{length:r}=Object.keys(e),n={};for(let o=0;o<r;o++)n[o]=void 0===t[o]?e[o]:t[o];return n}))}),[e,t])})(P,y);const j=(0,s.useCallback)((()=>T(!0)),[]),F=(0,s.useCallback)((e=>{if("success"!==x)return;const t=Object.assign({},v);t[e]=!t[e],y(t)}),[x,v,y]),B=(0,s.useCallback)((()=>l(void 0,void 0,void 0,(function*(){m||(E(!0),yield(0,o.delayAsync)(0),yield i(k,(0,a.generateImportedAccountChainAnalytics)(k)),r((0,a.generateImportedAccountChainAnalytics)(k)))}))),[m,k,r,i]),_={expanded:w,findMoreAccountsButtonText:A,isFetchingMoreAccounts:I,isImporting:m,renderedPages:L,selectedAccounts:v,subtitle:M,findMoreAccounts:O,onExpand:j,onImport:B,onSelect:F};return"success"!==x?Object.assign({status:"loading",isImportButtonDisabled:!0},_):Object.assign({status:"success",isImportButtonDisabled:0===k.length},_)}})),i.register("7z19N",(function(t,r){e(t.exports,"generateImportedAccountChainAnalytics",(function(){return n}));const n=e=>e.reduce(((e,t)=>{var r,n,o,i;let s=e;for(const a of t.accounts){const t=a.chain.name.toLowerCase();if((null===(r=e[t])||void 0===r?void 0:r.balance)&&(null===(n=e[t])||void 0===n?void 0:n.history))continue;const c="amount"in a&&parseFloat(a.amount)>0,u=a.hasAccountActivity;e[t]?s=Object.assign(Object.assign({},s),{[t]:Object.assign(Object.assign({},s[t]),{balance:c||(null===(o=s[t])||void 0===o?void 0:o.balance),history:u||(null===(i=s[t])||void 0===i?void 0:i.history)})}):s=Object.assign(Object.assign({},s),{[t]:{balance:c,history:u}})}return s}),{})})),i.register("8taMK",(function(t,r){e(t.exports,"useCachedHDWallet",(function(){return s}));var n=i("jZpRu"),o=i("29o0l");const s=e=>{const[t,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(e.length){const t=new(0,n.CachedHDWallet)(e);return r(t),()=>{r(null),t.cleanup()}}}),[e]),t}})),i.register("7cOUp",(function(t,r){e(t.exports,"OnboardingType",(function(){return n}));var n,o,s=i("7XqVB");(o=n||(n={})).Initial="initial",o.Create="create",o.ImportSeed="importSeed",o.ImportPrivateKey="importPrivateKey",o.ConnectHardware="connectHardware",o.SeedVault="seedVault",o.Restore="restore",o.Append="append";const a=s.z.object({balance:s.z.boolean(),history:s.z.boolean()});s.z.record(s.z.string(),a)})),i.register("7n0ia",(function(e,t){i("jFh3h")})),i.register("iMnOw",(function(t,r){e(t.exports,"prefetchShortcuts",(function(){return i("hhqwY").prefetchShortcuts})),e(t.exports,"trackLinkOpen",(function(){return i("iGNwb").trackLinkOpen})),e(t.exports,"trackModalOpen",(function(){return i("iGNwb").trackModalOpen})),e(t.exports,"createShortcutHooks",(function(){return i("cxnZW").createShortcutHooks})),e(t.exports,"DEFAULT_ICON",(function(){return i("6xd2z").DEFAULT_ICON})),e(t.exports,"getIcon",(function(){return i("itgZy").getIcon})),e(t.exports,"WALLET_SHORTCUTS_QUERY_KEY",(function(){return i("eSfrU").WALLET_SHORTCUTS_QUERY_KEY}));i("hhqwY"),i("iGNwb"),i("cxnZW"),i("2HIjl"),i("6xd2z"),i("itgZy"),i("eSfrU")})),i.register("hhqwY",(function(t,r){e(t.exports,"prefetchShortcuts",(function(){return a}));var n=i("eSfrU"),o=i("3cTmb");const s=10;function a(e,t,r,i){if(!r)return;const{externalUrl:a,isSpam:c,items:u}=r;if(c||!i)return;const l=(null!=u?u:[]).map((e=>e.externalUrl));Array.from(new Set([a,...l])).reduce(((e,t)=>{const r=(0,o.ensureExternalUrl)(t);return(0,o.isValidUrl)(r)&&e.length<s?[...e,r]:e}),[]).forEach((r=>{const i=(0,o.ensureExternalUrl)(r);(0,o.isValidUrl)(i)&&t.prefetchQuery((0,n.getShortcutsQuery)(new URL(i),e)).catch((e=>{console.error(`Failed to prefetch ${i}`,e)}))}))}})),i.register("eSfrU",(function(t,r){e(t.exports,"WALLET_SHORTCUTS_QUERY_KEY",(function(){return c}),(function(e){return c=e})),e(t.exports,"getShortcutsQuery",(function(){return u}),(function(e){return u=e}));var n=i("beWYh"),o=i("6xd2z"),s=i("3cTmb"),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const c="wallet-shortcuts",u=(e,t)=>({queryKey:[c,null==e?void 0:e.toString()],queryFn(){return a(this,void 0,void 0,(function*(){if(!e)throw new Error("URL is null");const r=(0,s.appendShortcut)(e),n=yield d(t,r);if(!1===o.SchemaType.safeParse(n).success)throw new Error(`Invalid shortcut response from URL ${r.toString()}`);return o.SchemaType.parse(n).shortcuts}))}}),l=new Error("Failed to fetch shortcuts for collection"),d=(e,t)=>a(void 0,void 0,void 0,(function*(){const r=`${e}/collectibles/v1/shortcuts`;let o;try{o=yield n.rb.post(r,{uri:t.toString()})}catch(e){throw l}if(!(0,n.responseIsOkay)(o))throw l;return o.data}))})),i.register("6xd2z",(function(t,r){e(t.exports,"DEFAULT_ICON",(function(){return o})),e(t.exports,"SchemaType",(function(){return f}));var n=i("7XqVB");const o="default",s=n.z.union([n.z.literal("vote"),n.z.literal("vote-2"),n.z.literal("stake"),n.z.literal("stake-2"),n.z.literal("view"),n.z.literal("chat"),n.z.literal("tip"),n.z.literal("mint"),n.z.literal("mint-2"),n.z.literal("discord"),n.z.literal("twitter"),n.z.literal("twitter-2"),n.z.literal("x"),n.z.literal("instagram"),n.z.literal("telegram"),n.z.literal("leaderboard"),n.z.literal("gaming"),n.z.literal("gaming-2"),n.z.literal("generic-link"),n.z.literal("generic-add"),n.z.literal(o)]).optional().default(o).catch(o),a=n.z.object({label:n.z.string(),uri:n.z.string().url().refine((e=>e.startsWith("https://")||e.startsWith("solana:")),(e=>({message:`${e} is not a valid protocol`}))),prefersExternalTarget:n.z.boolean().optional().default(!1),preferredPresentation:n.z.union([n.z.literal("default"),n.z.literal("immerse")]).optional().default("immerse"),platform:n.z.union([n.z.literal("mobile"),n.z.literal("desktop"),n.z.literal("all")]).optional().default("all"),icon:s}),c=a.extend({limitToCollections:n.z.string().array().optional().default([]).refine((e=>0===e.length||e.every((e=>e.length))),(e=>({message:`${e} is not a valid array of collection ids`})))}),u=a.extend({type:n.z.literal("fungible"),limitToTokenAddresses:n.z.string().array().optional().default([]).refine((e=>0===e.length||e.every((e=>e.length))),(e=>({message:`${e} is not a valid array of token addresses`})))}),l=c.extend({type:n.z.literal("collectible").optional().default("collectible")}),d=n.z.union([l,u]),f=n.z.union([n.z.object({version:n.z.literal(1),shortcuts:n.z.array(c).optional().default([])}),n.z.object({version:n.z.literal(2),shortcuts:n.z.array(d).optional().default([])})]);n.z.object({collectionId:n.z.string().optional(),tokenId:n.z.string().optional(),ownerAddress:n.z.string().optional()})})),i.register("3cTmb",(function(t,r){e(t.exports,"appendShortcut",(function(){return n})),e(t.exports,"ensureExternalUrl",(function(){return o})),e(t.exports,"isValidUrl",(function(){return i}));const n=e=>{const t=e.pathname.split("/").filter((e=>""!==e)).join("/"),r=new URL(`https://${e.hostname}`);return r.pathname=t+"/shortcuts.json",r.search=e.search,r},o=e=>{if(!e||!e.trim())return"";const t=e.trim();return/^https?:\/\//.test(t)?t:`https://${t}`},i=e=>{if(!e)return!1;try{return new URL(e),!0}catch(e){return!1}}})),i.register("iGNwb",(function(t,r){e(t.exports,"trackLinkOpen",(function(){return o}),(function(e){return o=e})),e(t.exports,"trackModalOpen",(function(){return i}),(function(e){return i=e}));var n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};function o(e,t){var{hostname:r,platform:o}=e,i=n(e,["hostname","platform"]);const s=r.includes("//")?new URL(r).hostname:r;return{data:"collectible"===i.type?{platform:o,hostname:s,collectionName:i.collectionName,label:t.label,uri:t.uri}:{hostname:s,platform:o,fungible:i.caip19,label:t.label,uri:t.uri}}}function i(e){var{hostname:t,platform:r}=e,o=n(e,["hostname","platform"]);const i=t.includes("//")?new URL(t).hostname:t;return{data:"collectible"===o.type?{platform:r,hostname:i,collectionName:o.collectionName}:{platform:r,hostname:i,fungible:o.caip19}}}})),i.register("cxnZW",(function(t,r){e(t.exports,"createShortcutHooks",(function(){return s}));var n=i("2HIjl"),o=i("g4RTB");function s(e,t){return{useShortcuts:(t,r,n)=>(0,o.useShortcuts)(e(),t,r,n),usePrefetchShortcuts:(r,o)=>(0,n.usePrefetchShortcuts)(e(),t,r,o)}}})),i.register("2HIjl",(function(t,r){e(t.exports,"usePrefetchShortcuts",(function(){return u})),e(t.exports,"useFetchShortcuts",(function(){return d}));var n=i("RVqnc"),o=i("5ekp2"),s=i("29o0l"),a=i("hhqwY"),c=i("eSfrU");const u=(e,t,r,n)=>{(0,s.useEffect)((()=>{(0,a.prefetchShortcuts)(e,t,r,n)}),[r,n,e,t])},l=(0,n.toMilliseconds)({minutes:5}),d=(e,t,r)=>{const n=null!==t&&r;return(0,o.useQuery)(Object.assign({enabled:n,cacheTime:l,staleTime:l,refetchInterval:!1,refetchOnMount:!1},(0,c.getShortcutsQuery)(t,e)))}})),i.register("g4RTB",(function(t,r){e(t.exports,"useShortcuts",(function(){return u}));var n=i("21aqi"),o=i("3cTmb"),s=i("2HIjl"),a=i("7vlRB");function c(e){return Boolean(e&&"object"==typeof e&&"type"in e&&"fungible"===e.type)}function u(e,t,r,n){var i,u;const d=function(e){return c(e)?(0,o.ensureExternalUrl)(e.externalUrl):(0,o.ensureExternalUrl)(null==e?void 0:e.externalUrl)}(t),f=(0,o.isValidUrl)(d)&&Boolean(d)&&!function(e){var t;return!c(e)&&(null===(t=null==e?void 0:e.collection.isSpam)||void 0===t||t)}(t)&&n,{data:p,isLoading:h}=(0,s.useFetchShortcuts)(e,f&&d?new URL(d):null,n),g=c(t)?"":null!==(i=l(t))&&void 0!==i?i:"",v=c(t)?t.tokenAddress:null!==(u=null==t?void 0:t.id)&&void 0!==u?u:"",y=c(t)?{platform:r,tokenAddress:v,type:"fungible"}:{platform:r,collectionId:g,type:"collectible"},m=(0,a.useMappedShortcuts)(null!=p?p:[],{collectionId:g,tokenId:v,ownerAddress:null==t?void 0:t.owner},y);return{isLoading:!t||h&&f,shortcuts:f?m:[]}}const l=e=>{if(null==e?void 0:e.chainData)return(0,n.isEthereumCollectibleChainData)(e.chainData)?e.chainData.contract:(0,n.isSolanaCollectibleChainData)(e.chainData)?e.collection.id:(0,n.isBitcoinCollectibleChainData)(e.chainData)?e.chainData.firstCreatedInscriptionId:void 0}})),i.register("7vlRB",(function(t,r){e(t.exports,"useMappedShortcuts",(function(){return a}));var n=i("29o0l"),o=i("isMve"),s=i("duQNm");const a=(e,t,r)=>(0,n.useMemo)((()=>{const n=(0,s.parse)({input:t,shortcuts:e});return(0,o.filter)(n,r)}),[e,t,r])})),i.register("isMve",(function(t,r){e(t.exports,"filter",(function(){return n}));const n=(e,t)=>e?e.filter((e=>"fungible"===t.type?function(e,t){const r="type"in e&&"fungible"===e.type?e:null;if(!r)return!1;const n="all"===r.platform||r.platform===t.platform,o=r.limitToTokenAddresses&&r.limitToTokenAddresses.length>0;return!(!n||o)||!(!n||!o)&&r.limitToTokenAddresses.some((e=>e===t.tokenAddress))}(e,t):function(e,t){const r="type"in e&&"collectible"!==e.type?null:e;if(!r)return!1;const n="all"===r.platform||r.platform===t.platform,o=r.limitToCollections&&r.limitToCollections.length>0;return!(!n||o)||!(!n||!o)&&r.limitToCollections.some((e=>e===t.collectionId))}(e,t))).slice(0,20):[]})),i.register("duQNm",(function(t,r){e(t.exports,"parse",(function(){return n}));const n=({input:e,shortcuts:t})=>{if(0===t.length)return[];let r=JSON.stringify(t);return e.collectionId&&(r=r.replaceAll("{{collectionId}}",e.collectionId)),e.tokenId&&(r=r.replaceAll("{{tokenId}}",e.tokenId)),e.ownerAddress&&(r=r.replaceAll("{{ownerAddress}}",e.ownerAddress)),JSON.parse(r)}})),i.register("itgZy",(function(t,r){e(t.exports,"getIcon",(function(){return a}));var n=i("RVqnc"),o=i("6xd2z");const s=[["twitter",[/twitter.com/i]],["x",[/x.com/i]],["discord",[/discord.com/i,/discord.gg/i]],["telegram",[/t.me/i]],["instagram",[/instagram.com/i]]];function a(e,t){const r=(0,n.getHostname)(e.toString());return t===o.DEFAULT_ICON&&r?function(e){for(const[t,r]of s)if(r.some((t=>t.test(e))))return t;return o.DEFAULT_ICON}(r):t}})),i.register("5MNpG",(function(r,n){e(r.exports,"getVaultProxy",(function(){return h}),(function(e){return h=e})),e(r.exports,"importSeedAccount",(function(){return v}),(function(e){return v=e})),e(r.exports,"isExistingSeed",(function(){return y}),(function(e){return y=e})),e(r.exports,"exportPrivateKey",(function(){return T}),(function(e){return T=e})),e(r.exports,"exportEntropy",(function(){return A}),(function(e){return A=e}));var o=i("4xbAj"),s=i("96hm7"),a=i("7mQ3Y"),c=i("k8NWT"),u=i("85iHy"),l=i("hulLf"),d=i("gErWM"),f=i("8tcqI").Buffer,p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const h=()=>({addAccountForSeed:m,addReadonlyAccount:w,importPrivateKeyAccount:g,connectLedgerAccounts:E,fetchAllAccounts:x,fetchAllSeedMetas:O,connectSolanaSeedVaultAccounts:()=>{throw new Error("Solana Seed Vault is not supported on browser extension.")},deriveAddresses:b,removeAccount:e=>p(void 0,void 0,void 0,(function*(){if(!(yield S(e)))throw new Error("Error while removing account")})),reorderAccount:(e,t)=>p(void 0,void 0,void 0,(function*(){if(!(yield C(e,t)))throw new Error("Error while reordering account")})),sign:I}),g=(e,t,r)=>p(void 0,void 0,void 0,(function*(){const n=t.fold((e=>f.from(e.buffer).toString("base64"))),o=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.ImportPrivateKeyAccount,[e,n,r]),i=yield c.sendMessage(l.browser.runtime,o);if("error"in i)throw new Error(i.error.message);if("string"==typeof i.result)return JSON.parse(i.result);throw new Error("Invalid response")})),v=(e,r,n)=>p(void 0,void 0,void 0,(function*(){const o=e.getEntropy(),i=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.ImportSeedAccount,[t(u).encode(o),r,n]);o.fill(0);const s=yield c.sendMessage(l.browser.runtime,i);if("error"in s)throw new Error(s.error.message);if("string"==typeof s.result)return JSON.parse(s.result);throw new Error("Invalid response")})),y=e=>p(void 0,void 0,void 0,(function*(){const r=e.getEntropy(),n=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.IsExistingSeed,t(u).encode(r));r.fill(0);const o=yield c.sendMessage(l.browser.runtime,n);if("error"in o)throw new Error(o.error.message);if("boolean"==typeof o.result||null===o.result)return o.result;throw new Error("Invalid response")})),m=e=>p(void 0,void 0,void 0,(function*(){const t=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.AddAccountForSeed,[e]),r=c.parse(yield l.browser.runtime.sendMessage(c.stringify(t)));if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return JSON.parse(r.result);throw new Error("Invalid response")})),E=(e,t)=>p(void 0,void 0,void 0,(function*(){const r=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.AddLedgerAccounts,[e,t]),n=c.parse(yield l.browser.runtime.sendMessage(c.stringify(r)));if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return JSON.parse(n.result);throw new Error("Invalid response")})),w=e=>p(void 0,void 0,void 0,(function*(){const t=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.ImportReadOnlyAccount,e),r=c.parse(yield l.browser.runtime.sendMessage(c.stringify(t)));if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return JSON.parse(r.result);throw new Error("Invalid response")})),T=(e,t,r)=>p(void 0,void 0,void 0,(function*(){const n=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.ExportPrivateKey,[e,t,r]),o=c.parse(yield l.browser.runtime.sendMessage(c.stringify(n)));if("error"in o)throw new Error(o.error.message);if("string"==typeof o.result)return s.ObfuscatedBytes.from(f.from(o.result,"hex"));throw new Error("Invalid response")})),A=(e,t)=>p(void 0,void 0,void 0,(function*(){const r=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.ExportEntropy,[e,t]),n=c.parse(yield l.browser.runtime.sendMessage(c.stringify(r)));if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return s.ObfuscatedBytes.from(f.from(n.result,"hex"));throw new Error("Invalid response")})),b=()=>p(void 0,void 0,void 0,(function*(){const e=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.DeriveAddresses),t=yield c.sendMessage(l.browser.runtime,e);if("error"in t)throw new Error(t.error.message);return t.result})),S=e=>p(void 0,void 0,void 0,(function*(){const t=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.RemoveAccount,e),r=yield c.sendMessage(l.browser.runtime,t);if("error"in r)throw new Error(r.error.message);return r.result})),C=(e,t)=>p(void 0,void 0,void 0,(function*(){const r=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.ReorderAccount,{identifier:e,toIndex:t}),n=yield c.sendMessage(l.browser.runtime,r);if("error"in n)throw new Error(n.error.message);return n.result})),x=()=>p(void 0,void 0,void 0,(function*(){const e=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.GetAllAccounts),t=c.parse(yield l.browser.runtime.sendMessage(c.stringify(e)));if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result){const e=JSON.parse(t.result);return(0,o.deserializeVaultAccount)({accounts:e}).accounts}throw new Error("Invalid response")})),O=()=>p(void 0,void 0,void 0,(function*(){const e=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.GetAllSeeds),t=c.parse(yield l.browser.runtime.sendMessage(c.stringify(e)));if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result)return JSON.parse(t.result);throw new Error("Invalid response")})),I=(e,r)=>p(void 0,void 0,void 0,(function*(){const n=o.VaultSignerParams.parse(r);"chainType"in n&&n.chainType===a.AddressType.Solana&&"transaction"===n.signingType&&"string"!=typeof n.message&&(n.message=t(u).encode(n.message));const i=(0,d.createJsonRpcRequest)(d.WalletToBackgroundRequestMethods.Sign,{accountIdentifier:e,params:n}),s=c.parse(yield l.browser.runtime.sendMessage(c.stringify(i)));if("error"in s)throw new Error(s.error.message);if("string"==typeof s.result)return c.parse(s.result);throw new Error("Invalid response")}))})),i.register("cqeOY",(function(t,r){e(t.exports,"getLegacyMnemonicFetcher",(function(){return a}),(function(e){return a=e}));var n=i("96hm7"),o=i("1btQY"),s=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const a=()=>({fetch:()=>s(void 0,void 0,void 0,(function*(){const e=yield(0,o.getLegacyMnemonic)();if(!e)return null;switch(e.type){case"bip39":{const t=yield e.value.getMnemonic(),r=n.ObfuscatedBytes.from(t);return t.fill(0),r}case"deprecated":{const t=n.ObfuscatedBytes.from(e.value);return e.value.fill(0),t}}}))})})),i.register("1btQY",(function(r,n){e(r.exports,"getLegacyMnemonic",(function(){return d}),(function(e){return d=e}));var o=i("k8NWT"),s=i("85iHy"),a=i("hulLf"),c=i("gErWM"),u=i("fSBRP"),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const d=()=>l(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetLegacyMnemonic),r=o.parse(yield a.browser.runtime.sendMessage(o.stringify(e)));if("error"in r)throw new Error(r.error.message);if(!r.result)return null;const[n,i]=r.result;switch(n){case 0:{const e=new Uint8Array(t(s).decode(i).buffer),r=(yield(0,u.getBip39)()).fromEntropy(e);return e.fill(0),{type:"bip39",value:r}}case 1:return{type:"deprecated",value:new Uint8Array(t(s).decode(i).buffer)}}}))})),i.register("fSBRP",(function(t,r){e(t.exports,"getBip39",(function(){return s}),(function(e){return s=e})),i("dyTLY");var n=i("28ipF");i("aNyyc");var o=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const s=(()=>{let e=null;return()=>o(void 0,void 0,void 0,(function*(){e||(e=yield n.Bip39Factory.webCrypto("english"));return e}))})()})),i.register("dyTLY",(function(t,r){e(t.exports,"Bip39Factory",(function(){return i("28ipF").Bip39Factory}));i("1GBLm"),i("28ipF")})),i.register("1GBLm",(function(t,r){e(t.exports,"ERR_UNKNOWN",(function(){return o}),(function(e){return o=e})),e(t.exports,"ERR_INVALID_CHECKSUM",(function(){return a}),(function(e){return a=e})),e(t.exports,"assertEntropyLengthIsValid",(function(){return f}),(function(e){return f=e})),e(t.exports,"assertWordlistIsValid",(function(){return h}),(function(e){return h=e})),e(t.exports,"generateEntropy",(function(){return g}),(function(e){return g=e})),e(t.exports,"deriveBits",(function(){return v}),(function(e){return v=e})),e(t.exports,"mapBitsToIndexes",(function(){return y}),(function(e){return y=e})),e(t.exports,"indexesToEntropy",(function(){return m}),(function(e){return m=e})),e(t.exports,"entropyToIndexes",(function(){return E}),(function(e){return E=e})),e(t.exports,"mnemonicToIndexes",(function(){return w}),(function(e){return w=e})),e(t.exports,"entropyToMnemonic",(function(){return T}),(function(e){return T=e})),e(t.exports,"entropyToSeed",(function(){return b}),(function(e){return b=e}));var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const o=new Error("Unknown error"),i=new Error("Invalid entropy length"),s=new Error("Invalid mn*monic sentence length"),a=new Error("Invalid checksum"),c=new RangeError("Invalid mn*monic word"),u=new RangeError("Invalid wordlist"),l=new RangeError("Invalid wordlist index"),d=(e,t)=>{if(!e)throw t};function f(e){d(e>=128,i),d(e<=256,i),d(e%32==0,i)}function p(e){d(e>=12,s),d(e<=24,s),d(e%3==0,s)}function h(e){d(2048===e.length,u),d(e.every((e=>"string"==typeof e)),u)}function g(e,t){return p(e),t(4*e/3)}function v(e,t){return n(this,void 0,void 0,(function*(){const r=8*e.length;f(r);const n=r/32,o=yield t(e),[i]=o,s=8-n,a=i>>>s<<s>>>0,c=new Uint8Array(e.length+1);return c.set(e,0),c[c.length-1]=a,c}))}function y(e){const t=8*(e.length-1);f(t);const r=(t+t/32)/11,n=new ArrayBuffer(4*r),o=new DataView(n);let i=0,a=0,c=0;for(const t of e)if(c+=8,a|=t<<32-c,a>>>=0,c>=11){const e=a>>>21;d(e>=0&&e<=2047,l),o.setUint32(4*i,e,!0),i++,a<<=11,a>>>=0,c-=11}return d(i===r,s),new Uint32Array(n)}function m(e){p(e.length);const t=function(e){p(e.length);const t=11*e.length,r=new ArrayBuffer(Math.ceil(t/8)),n=new DataView(r),o=new DataView(e.buffer),i=e.length;let s=0,a=0,c=0,u=8;for(let e=0;e<i;e++){const t=o.getUint32(4*e,!0);d(t<2048,l);let r=11;for(;r>0;){const e=r>=u?u:r;s|=t>>32-(32-r)-e&(1<<e)-1,a+=e,s<<=u-e,s>>>=0,r-=e,u-=e,u<=0&&(u=8),a%8==0&&(n.setUint8(c,s),c++,s=0)}}return i%8!=0&&n.setUint8(c,s),new Uint8Array(r)}(e),r=t.slice(0,t.length-1);return t.fill(0),r}function E(e,t){return n(this,void 0,void 0,(function*(){f(8*e.length);const r=yield v(e,t),n=y(r);return r.fill(0),n}))}function w(e,t){h(t);const r=new Set(t),n=new Uint32Array(24);let o=0,i="";for(let s=0;s<e.length;s++){const a=e[s],u=32===a,l=s===e.length-1;if(l&&(i+=String.fromCharCode(a)),u||l){d(r.has(i),c);let e=0;for(const r of t){if(i===r)break;e++}n[o++]=e,i=""}else i+=String.fromCharCode(a)}p(o);const s=n.slice(0,o);return n.fill(0),s}function T(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield E(e,r),o=new Uint8Array(n.reduce(((e,r)=>e+t[r].length+1),-1));let i=0;for(const e of n){i>0&&(o[i++]=32);const r=t[e];for(const e of r)o[i++]=e.charCodeAt(0)}return n.fill(0),o}))}const A=Uint8Array.of(109,110,101,109,111,110,105,99);function b(e,t,r,o,i){return n(this,void 0,void 0,(function*(){const n=yield T(e,r,o),s=new Uint8Array(A.length+t.length);s.set(A,0),s.set(t,A.length);const a=yield i(n,s,2048,64,"sha512");return s.fill(0),n.fill(0),a}))}})),i.register("28ipF",(function(t,r){e(t.exports,"Bip39Factory",(function(){return p}),(function(e){return p=e}));var n=i("1GBLm"),o=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},s=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},a=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function c(e){return o(this,void 0,void 0,(function*(){if("english"===e)return(yield i("ejMdI")).default}))}function u(e){return t=>new e(t)}function l(e,t){return r=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null,a=null,c=null;try{i=(0,n.indexesToEntropy)(r),s=yield(0,n.deriveBits)(i,t),a=(0,n.mapBitsToIndexes)(s);const o=r[r.length-1];if(o!==a[a.length-1])throw n.ERR_INVALID_CHECKSUM;c=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=n.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),null==s||s.fill(0),null==a||a.fill(0),o)throw o;return c}}))}function d(e,t){return r=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null;try{i=(0,n.mnemonicToIndexes)(r,t),s=yield e.fromIndexes(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=n.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}))}function f(e,t){return r=>{let o=null,i=null,s=null;try{i=(0,n.generateEntropy)(r,t),s=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=n.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}}class p{static webCrypto(e){return o(this,void 0,void 0,(function*(){var t,r;const i="string"==typeof e?yield c(e):e;(0,n.assertWordlistIsValid)(i);const p=e=>o(this,void 0,void 0,(function*(){return new Uint8Array(yield crypto.subtle.digest("SHA-256",e))})),h=(e,t,r,n,i)=>o(this,void 0,void 0,(function*(){const o="SHA-"+i.substring(3),s=yield crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]),a=yield crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:o},s,8*n);return new Uint8Array(a)}));return r=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,n.entropyToSeed)(a(this,t,"f"),e,i,p,h),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,n.entropyToIndexes)(a(this,t,"f"),p),this.getMnemonic=()=>(0,n.entropyToMnemonic)(a(this,t,"f"),i,p),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,n.assertEntropyLengthIsValid)(8*e.length),s(this,t,e.slice(),"f")}},t=new WeakMap,r.fromEntropy=u(r),r.fromIndexes=l(r,p),r.fromMnemonic=d(r,i),r.fromSentenceLength=f(r,(e=>crypto.getRandomValues(new Uint8Array(e)))),r.wordlist=i,r}))}static nodeCrypto(e){return o(this,void 0,void 0,(function*(){var t,r;const o="string"==typeof e?yield c(e):e;(0,n.assertWordlistIsValid)(o);const{randomBytes:p,createHash:h,pbkdf2:g}=yield i("hfkEO"),v=e=>new Uint8Array(h("sha256").update(e).digest().buffer),y=(...e)=>new Promise(((t,r)=>{g(...e,((e,n)=>{if(e)return r(e);t(new Uint8Array(n.buffer))}))}));return r=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,n.entropyToSeed)(a(this,t,"f"),e,o,v,y),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,n.entropyToIndexes)(a(this,t,"f"),v),this.getMnemonic=()=>(0,n.entropyToMnemonic)(a(this,t,"f"),o,v),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,n.assertEntropyLengthIsValid)(8*e.length),s(this,t,e.slice(),"f")}},t=new WeakMap,r.fromEntropy=u(r),r.fromIndexes=l(r,v),r.fromMnemonic=d(r,o),r.fromSentenceLength=f(r,(e=>new Uint8Array(p(e).buffer))),r.wordlist=o,r}))}static customCrypto(e,t){return o(this,void 0,void 0,(function*(){var r,o;const i="string"==typeof e?yield c(e):e;(0,n.assertWordlistIsValid)(i);const{random:p,sha256:h,pbkdf2:g}=t;return o=class{constructor(e){r.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,n.entropyToSeed)(a(this,r,"f"),e,i,h,g),this.getEntropy=()=>a(this,r,"f").slice(),this.getIndexes=()=>(0,n.entropyToIndexes)(a(this,r,"f"),h),this.getMnemonic=()=>(0,n.entropyToMnemonic)(a(this,r,"f"),i,h),this.getSentenceLength=()=>{const e=8*a(this,r,"f").length;return(e+e/32)/11},(0,n.assertEntropyLengthIsValid)(8*e.length),s(this,r,e.slice(),"f")}},r=new WeakMap,o.fromEntropy=u(o),o.fromIndexes=l(o,h),o.fromMnemonic=d(o,i),o.fromSentenceLength=f(o,p),o.wordlist=i,o}))}}})),i.register("ejMdI",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("8ZV50")).then((()=>i("jI6Lx")))})),i.register("hfkEO",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("2QFLZ")+i("eOkdY").resolve("bSKtD")).then((()=>i("ieXYQ")))})),i.register("dbmto",(function(r,n){e(r.exports,"getLedgerWebHIDDependencies",(function(){return l}),(function(e){return l=e}));var o=i("bnr7p"),s=i("2jR04"),a=i("c8OXT"),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const u=()=>c(void 0,void 0,void 0,(function*(){return o.default})),l=()=>({defaultTransportTimeout:2e3,isSupported:()=>c(void 0,void 0,void 0,(function*(){if(a.BROWSER_ENV.browser.name===t(s).BROWSER_MAP.firefox||a.BROWSER_ENV.browser.name===t(s).BROWSER_MAP.safari)return!1;return(yield u()).isSupported()})),getNumDevices:()=>c(void 0,void 0,void 0,(function*(){const e=yield u();return(yield e.list()).length})),getFirstOpenedTransport:()=>c(void 0,void 0,void 0,(function*(){const e=yield u(),t=(yield e.list()).find((e=>e.opened));return t?new e(t):void 0})),create:()=>c(void 0,void 0,void 0,(function*(){return(yield u()).create()})),openConnected:()=>c(void 0,void 0,void 0,(function*(){const e=yield u();return yield e.openConnected()})),request:()=>c(void 0,void 0,void 0,(function*(){const e=yield u();return yield e.request()})),on:(e,t)=>{"hid"in window.navigator&&window.navigator.hid.addEventListener(e,(()=>{t()}))}})})),i.register("bnr7p",(function(t,r){e(t.exports,"default",(function(){return w}),(function(e){return w=e}));var n,o=i("2M6Ym"),s=i("30UET"),a=i("bBvUw"),c=i("fkrsS"),u=i("dhsdG"),l=i("8tcqI").Buffer,d=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},p=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},h=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},g=[{vendorId:a.ledgerUSBVendorId}],v=function(){return Promise.resolve(!(!window.navigator||!window.navigator.hid))},y=function(){var e=navigator.hid;if(!e)throw new(0,u.TransportError)("navigator.hid is not supported","HIDNotSupported");return e};function m(){return f(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,y().requestDevice({filters:g})];case 1:return e=t.sent(),Array.isArray(e)?[2,e]:[2,[e]]}}))}))}function E(){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,y().getDevices()];case 1:return[2,e.sent().filter((function(e){return e.vendorId===a.ledgerUSBVendorId}))]}}))}))}var w=function(e){function t(t){var r=e.call(this)||this;return r.channel=Math.floor(65535*Math.random()),r.packetSize=64,r.inputs=[],r.read=function(){return r.inputs.length?Promise.resolve(r.inputs.shift()):new Promise((function(e){r.inputCallback=e}))},r.onInputReport=function(e){var t=l.from(e.data.buffer);r.inputCallback?(r.inputCallback(t),r.inputCallback=null):r.inputs.push(t)},r._disconnectEmitted=!1,r._emitDisconnect=function(e){r._disconnectEmitted||(r._disconnectEmitted=!0,r.emit("disconnect",e))},r.exchange=function(e){return f(r,void 0,void 0,(function(){var t=this;return p(this,(function(r){switch(r.label){case 0:return[4,this.exchangeAtomicImpl((function(){return f(t,void 0,void 0,(function(){var t,r,n,o,i,a,u,l,d;return p(this,(function(f){switch(f.label){case 0:r=(t=this).channel,n=t.packetSize,(0,c.log)("apdu","=> "+e.toString("hex")),o=(0,s.default)(r,n),i=o.makeBlocks(e),a=0,f.label=1;case 1:return a<i.length?[4,this.device.sendReport(0,i[a])]:[3,4];case 2:f.sent(),f.label=3;case 3:return a++,[3,1];case 4:return(u=o.getReducedResult(l))?[3,6]:[4,this.read()];case 5:return d=f.sent(),l=o.reduceResponse(l,d),[3,4];case 6:return(0,c.log)("apdu","<= "+u.toString("hex")),[2,u]}}))}))})).catch((function(e){if(e&&e.message&&e.message.includes("write"))throw t._emitDisconnect(e),new(0,u.DisconnectedDeviceDuringOperation)(e.message);throw e}))];case 1:return[2,r.sent()]}}))}))},r.device=t,r.deviceModel="number"==typeof t.productId?(0,a.identifyUSBProductId)(t.productId):void 0,t.addEventListener("inputreport",r.onInputReport),r}return d(t,e),t.request=function(){return f(this,void 0,void 0,(function(){var e,r;return p(this,(function(n){switch(n.label){case 0:return[4,m()];case 1:return e=h.apply(void 0,[n.sent(),1]),r=e[0],[2,t.open(r)]}}))}))},t.openConnected=function(){return f(this,void 0,void 0,(function(){var e;return p(this,(function(r){switch(r.label){case 0:return[4,E()];case 1:return 0===(e=r.sent()).length?[2,null]:[2,t.open(e[0])]}}))}))},t.open=function(e){return f(this,void 0,void 0,(function(){var r,n;return p(this,(function(o){switch(o.label){case 0:return[4,e.open()];case 1:return o.sent(),r=new t(e),n=function(t){e===t.device&&(y().removeEventListener("disconnect",n),r._emitDisconnect(new(0,u.DisconnectedDevice)))},y().addEventListener("disconnect",n),[2,r]}}))}))},t.prototype.close=function(){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,this.exchangeBusyPromise];case 1:return e.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return e.sent(),[2]}}))}))},t.prototype.setScrambleKey=function(){},t.isSupported=v,t.list=E,t.listen=function(e){var t=!1;return function(){return f(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,E()];case 1:return(e=t.sent()).length>0?[2,e[0]]:[4,m()];case 2:return[2,t.sent()[0]]}}))}))}().then((function(r){if(r){if(!t){var n="number"==typeof r.productId?(0,a.identifyUSBProductId)(r.productId):void 0;e.next({type:"add",descriptor:r,deviceModel:n}),e.complete()}}else e.error(new(0,u.TransportOpenUserCancelled)("Access denied to use Ledger device"))}),(function(t){e.error(new(0,u.TransportOpenUserCancelled)(t.message))})),{unsubscribe:function(){t=!0}}},t}(o.default)})),i.register("2M6Ym",(function(r,n){e(r.exports,"default",(function(){return h}),(function(e){return h=e})),e(r.exports,"TransportError",(function(){return i("dhsdG").TransportError}),(function(e){return i("dhsdG").TransportError=e})),e(r.exports,"TransportStatusError",(function(){return i("dhsdG").TransportStatusError}),(function(e){return i("dhsdG").TransportStatusError=e})),e(r.exports,"StatusCodes",(function(){return i("dhsdG").StatusCodes}),(function(e){return i("dhsdG").StatusCodes=e})),e(r.exports,"getAltStatusMessage",(function(){return $2055791338c5c724$re_export$getAltStatusMessage}),(function(e){return $2055791338c5c724$re_export$getAltStatusMessage=e}));var o=i("c6JNE"),s=i("dhsdG"),a=i("8tcqI").Buffer,c=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},u=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},d=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(){function e(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(t(o)),this.send=function(t,r,n,o,i,l){return void 0===i&&(i=a.alloc(0)),void 0===l&&(l=[s.StatusCodes.OK]),c(e,void 0,void 0,(function(){var e,c;return u(this,(function(u){switch(u.label){case 0:if(i.length>=256)throw new(0,s.TransportError)("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");return[4,this.exchange(a.concat([a.from([t,r,n,o]),a.from([i.length]),i]))];case 1:if(e=u.sent(),c=e.readUInt16BE(e.length-2),!l.some((function(e){return e===c})))throw new(0,s.TransportStatusError)(c);return[2,e]}}))}))},this.exchangeAtomicImpl=function(t){return c(e,void 0,void 0,(function(){var e,r,n,o,i,a=this;return u(this,(function(c){switch(c.label){case 0:if(this.exchangeBusyPromise)throw new(0,s.TransportRaceCondition)("An action was already pending on the Ledger device. Please deny or reconnect.");r=new Promise((function(t){e=t})),this.exchangeBusyPromise=r,n=!1,o=setTimeout((function(){n=!0,a.emit("unresponsive")}),this.unresponsiveTimeout),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,t()];case 2:return i=c.sent(),n&&this.emit("responsive"),[2,i];case 3:return clearTimeout(o),e&&e(),this.exchangeBusyPromise=null,[7];case 4:return[2]}}))}))},this._appAPIlock=null}return e.prototype.exchange=function(e){throw new Error("exchange not implemented")},e.prototype.setScrambleKey=function(e){},e.prototype.close=function(){return Promise.resolve()},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.removeListener(e,t)},e.prototype.emit=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this._events).emit.apply(t,d([e],l(r),!1))},e.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},e.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},e.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},e.create=function(e,t){var r=this;return void 0===e&&(e=3e3),new Promise((function(n,o){var i=!1,a=r.listen({next:function(t){i=!0,a&&a.unsubscribe(),c&&clearTimeout(c),r.open(t.descriptor,e).then(n,o)},error:function(e){c&&clearTimeout(c),o(e)},complete:function(){c&&clearTimeout(c),i||o(new(0,s.TransportError)(r.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),c=t?setTimeout((function(){a.unsubscribe(),o(new(0,s.TransportError)(r.ErrorMessage_ListenTimeout,"ListenTimeout"))}),t):null}))},e.prototype.decorateAppAPIMethods=function(e,t,r){var n,o;try{for(var i=f(t),s=i.next();!s.done;s=i.next()){var a=s.value;e[a]=this.decorateAppAPIMethod(a,e[a],e,r)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.decorateAppAPIMethod=function(e,t,r,n){var o=this;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return c(o,void 0,void 0,(function(){var o;return u(this,(function(a){switch(a.label){case 0:if(o=this._appAPIlock)return[2,Promise.reject(new(0,s.TransportError)("Ledger Device is busy (lock "+o+")","TransportLocked"))];a.label=1;case 1:return a.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(n),[4,t.apply(r,i)];case 2:return[2,a.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}}))}))}},e.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",e.ErrorMessage_NoDeviceFound="No Ledger device found",e}(),h=p})),i.register("dhsdG",(function(t,r){e(t.exports,"DisconnectedDevice",(function(){return a}),(function(e){return a=e})),e(t.exports,"DisconnectedDeviceDuringOperation",(function(){return c}),(function(e){return c=e})),e(t.exports,"TransportOpenUserCancelled",(function(){return u}),(function(e){return u=e})),e(t.exports,"TransportRaceCondition",(function(){return l}),(function(e){return l=e})),e(t.exports,"TransportError",(function(){return d}),(function(e){return d=e})),e(t.exports,"StatusCodes",(function(){return f}),(function(e){return f=e})),e(t.exports,"TransportStatusError",(function(){return p}),(function(e){return p=e})),e(t.exports,"createCustomErrorClass",(function(){return i("boBPe").createCustomErrorClass}),(function(e){return i("boBPe").createCustomErrorClass=e}));var n,o=i("boBPe"),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=((0,o.createCustomErrorClass)("AccountNameRequired"),(0,o.createCustomErrorClass)("AccountNotSupported"),(0,o.createCustomErrorClass)("AmountRequired"),(0,o.createCustomErrorClass)("BluetoothRequired"),(0,o.createCustomErrorClass)("BtcUnmatchedApp"),(0,o.createCustomErrorClass)("CantOpenDevice"),(0,o.createCustomErrorClass)("CashAddrNotSupported"),(0,o.createCustomErrorClass)("CurrencyNotSupported"),(0,o.createCustomErrorClass)("DeviceAppVerifyNotSupported"),(0,o.createCustomErrorClass)("DeviceGenuineSocketEarlyClose"),(0,o.createCustomErrorClass)("DeviceNotGenuine"),(0,o.createCustomErrorClass)("DeviceOnDashboardExpected"),(0,o.createCustomErrorClass)("DeviceOnDashboardUnexpected"),(0,o.createCustomErrorClass)("DeviceInOSUExpected"),(0,o.createCustomErrorClass)("DeviceHalted"),(0,o.createCustomErrorClass)("DeviceNameInvalid"),(0,o.createCustomErrorClass)("DeviceSocketFail"),(0,o.createCustomErrorClass)("DeviceSocketNoBulkStatus"),(0,o.createCustomErrorClass)("DisconnectedDevice")),c=(0,o.createCustomErrorClass)("DisconnectedDeviceDuringOperation"),u=((0,o.createCustomErrorClass)("DeviceExtractOnboardingStateError"),(0,o.createCustomErrorClass)("DeviceOnboardingStatePollingError"),(0,o.createCustomErrorClass)("EnpointConfig"),(0,o.createCustomErrorClass)("EthAppPleaseEnableContractData"),(0,o.createCustomErrorClass)("FeeEstimationFailed"),(0,o.createCustomErrorClass)("FirmwareNotRecognized"),(0,o.createCustomErrorClass)("HardResetFail"),(0,o.createCustomErrorClass)("InvalidXRPTag"),(0,o.createCustomErrorClass)("InvalidAddress"),(0,o.createCustomErrorClass)("InvalidAddressBecauseDestinationIsAlsoSource"),(0,o.createCustomErrorClass)("LatestMCUInstalledError"),(0,o.createCustomErrorClass)("UnknownMCU"),(0,o.createCustomErrorClass)("LedgerAPIError"),(0,o.createCustomErrorClass)("LedgerAPIErrorWithMessage"),(0,o.createCustomErrorClass)("LedgerAPINotAvailable"),(0,o.createCustomErrorClass)("ManagerAppAlreadyInstalled"),(0,o.createCustomErrorClass)("ManagerAppRelyOnBTC"),(0,o.createCustomErrorClass)("ManagerAppDepInstallRequired"),(0,o.createCustomErrorClass)("ManagerAppDepUninstallRequired"),(0,o.createCustomErrorClass)("ManagerDeviceLocked"),(0,o.createCustomErrorClass)("ManagerFirmwareNotEnoughSpace"),(0,o.createCustomErrorClass)("ManagerNotEnoughSpace"),(0,o.createCustomErrorClass)("ManagerUninstallBTCDep"),(0,o.createCustomErrorClass)("NetworkDown"),(0,o.createCustomErrorClass)("NoAddressesFound"),(0,o.createCustomErrorClass)("NotEnoughBalance"),(0,o.createCustomErrorClass)("NotEnoughBalanceToDelegate"),(0,o.createCustomErrorClass)("NotEnoughBalanceInParentAccount"),(0,o.createCustomErrorClass)("NotEnoughSpendableBalance"),(0,o.createCustomErrorClass)("NotEnoughBalanceBecauseDestinationNotCreated"),(0,o.createCustomErrorClass)("NoAccessToCamera"),(0,o.createCustomErrorClass)("NotEnoughGas"),(0,o.createCustomErrorClass)("NotSupportedLegacyAddress"),(0,o.createCustomErrorClass)("GasLessThanEstimate"),(0,o.createCustomErrorClass)("PriorityFeeTooLow"),(0,o.createCustomErrorClass)("PriorityFeeTooHigh"),(0,o.createCustomErrorClass)("PriorityFeeHigherThanMaxFee"),(0,o.createCustomErrorClass)("MaxFeeTooLow"),(0,o.createCustomErrorClass)("PasswordsDontMatch"),(0,o.createCustomErrorClass)("PasswordIncorrect"),(0,o.createCustomErrorClass)("RecommendSubAccountsToEmpty"),(0,o.createCustomErrorClass)("RecommendUndelegation"),(0,o.createCustomErrorClass)("TimeoutTagged"),(0,o.createCustomErrorClass)("UnexpectedBootloader"),(0,o.createCustomErrorClass)("MCUNotGenuineToDashboard"),(0,o.createCustomErrorClass)("RecipientRequired"),(0,o.createCustomErrorClass)("UnavailableTezosOriginatedAccountReceive"),(0,o.createCustomErrorClass)("UnavailableTezosOriginatedAccountSend"),(0,o.createCustomErrorClass)("UpdateFetchFileFail"),(0,o.createCustomErrorClass)("UpdateIncorrectHash"),(0,o.createCustomErrorClass)("UpdateIncorrectSig"),(0,o.createCustomErrorClass)("UpdateYourApp"),(0,o.createCustomErrorClass)("UserRefusedDeviceNameChange"),(0,o.createCustomErrorClass)("UserRefusedAddress"),(0,o.createCustomErrorClass)("UserRefusedFirmwareUpdate"),(0,o.createCustomErrorClass)("UserRefusedAllowManager"),(0,o.createCustomErrorClass)("UserRefusedOnDevice"),(0,o.createCustomErrorClass)("TransportOpenUserCancelled")),l=((0,o.createCustomErrorClass)("TransportInterfaceNotAvailable"),(0,o.createCustomErrorClass)("TransportRaceCondition")),d=((0,o.createCustomErrorClass)("TransportWebUSBGestureRequired"),(0,o.createCustomErrorClass)("DeviceShouldStayInApp"),(0,o.createCustomErrorClass)("WebsocketConnectionError"),(0,o.createCustomErrorClass)("WebsocketConnectionFailed"),(0,o.createCustomErrorClass)("WrongDeviceForAccount"),(0,o.createCustomErrorClass)("WrongAppForCurrency"),(0,o.createCustomErrorClass)("ETHAddressNonEIP"),(0,o.createCustomErrorClass)("CantScanQRCode"),(0,o.createCustomErrorClass)("FeeNotLoaded"),(0,o.createCustomErrorClass)("FeeRequired"),(0,o.createCustomErrorClass)("FeeTooHigh"),(0,o.createCustomErrorClass)("DustLimit"),(0,o.createCustomErrorClass)("PendingOperation"),(0,o.createCustomErrorClass)("SyncError"),(0,o.createCustomErrorClass)("PairingFailed"),(0,o.createCustomErrorClass)("GenuineCheckFailed"),(0,o.createCustomErrorClass)("LedgerAPI4xx"),(0,o.createCustomErrorClass)("LedgerAPI5xx"),(0,o.createCustomErrorClass)("FirmwareOrAppUpdateRequired"),(0,o.createCustomErrorClass)("LanguageNotFound"),(0,o.createCustomErrorClass)("NoDBPathGiven"),(0,o.createCustomErrorClass)("DBWrongPassword"),(0,o.createCustomErrorClass)("DBNotReset"),function(e){function t(t,r){var n=this,o="TransportError";return(n=e.call(this,t||o)||this).name=o,n.message=t,n.stack=(new Error).stack,n.id=r,n}return s(t,e),t}(Error));(0,o.addCustomErrorDeserializer)("TransportError",(function(e){return new d(e.message,e.id)}));var f={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586,LOCKED_DEVICE:21781};function p(e){this.name="TransportStatusError";var t=Object.keys(f).find((function(t){return f[t]===e}))||"UNKNOWN_ERROR",r=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,n=e.toString(16);this.message="Ledger device: ".concat(r," (0x").concat(n,")"),this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}p.prototype=new Error,(0,o.addCustomErrorDeserializer)("TransportStatusError",(function(e){return new p(e.statusCode)}))})),i.register("boBPe",(function(t,r){e(t.exports,"addCustomErrorDeserializer",(function(){return a}),(function(e){return a=e})),e(t.exports,"createCustomErrorClass",(function(){return c}),(function(e){return c=e}));var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i={},s={},a=function(e,t){s[e]=t},c=function(e){var t=function(t){function r(n,o,i){var s=t.call(this,n||e,i)||this;if(Object.setPrototypeOf(s,r.prototype),s.name=e,o)for(var a in o)s[a]=o[a];if(i&&"object"==typeof i&&"cause"in i&&!("cause"in s)){var c=i.cause;s.cause=c,"stack"in c&&(s.stack=s.stack+"\nCAUSE: "+c.stack)}return s}return o(r,t),r}(Error);return i[e]=t,t}})),i.register("30UET",(function(t,r){var n;e(t.exports,"default",(function(){return n}),(function(e){return n=e}));var o=i("8tcqI").Buffer;var s=i("dhsdG");var a={data:o.alloc(0),dataLength:0,sequence:0};n=function(e,t){return{makeBlocks:function(r){var n,i,s=o.concat([(n=r.length,i=o.alloc(2),i.writeUInt16BE(n,0),i),r]),a=t-5,c=Math.ceil(s.length/a);s=o.concat([s,o.alloc(c*a-s.length+1).fill(0)]);for(var u=[],l=0;l<c;l++){var d=o.alloc(5);d.writeUInt16BE(e,0),d.writeUInt8(5,2),d.writeUInt16BE(l,3);var f=s.slice(l*a,(l+1)*a);u.push(o.concat([d,f]))}return u},reduceResponse:function(t,r){var n=t||a,i=n.data,c=n.dataLength,u=n.sequence;if(r.readUInt16BE(0)!==e)throw new s.TransportError("Invalid channel","InvalidChannel");if(5!==r.readUInt8(2))throw new s.TransportError("Invalid tag","InvalidTag");if(r.readUInt16BE(3)!==u)throw new s.TransportError("Invalid sequence","InvalidSequence");t||(c=r.readUInt16BE(5)),u++;var l=r.slice(t?5:7);return(i=o.concat([i,l])).length>c&&(i=i.slice(0,c)),{data:i,dataLength:c,sequence:u}},getReducedResult:function(e){if(e&&e.dataLength===e.data.length)return e.data}}}})),i.register("bBvUw",(function(r,n){e(r.exports,"ledgerUSBVendorId",(function(){return f}),(function(e){return f=e})),e(r.exports,"identifyUSBProductId",(function(){return p}),(function(e){return p=e}));var o,s,a,c=i("4TDRm"),u=function(){return u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};(a=s||(s={})).blue="blue",a.nanoS="nanoS",a.nanoSP="nanoSP",a.nanoX="nanoX";var l=((o={})[s.blue]={id:s.blue,productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,masks:[822083584,822149120],getBlockSize:function(e){return 4096}},o[s.nanoS]={id:s.nanoS,productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,masks:[823132160],getBlockSize:function(e){var r;return t(c).lt(null!==(r=t(c).coerce(e))&&void 0!==r?r:"","2.0.0")?4096:2048}},o[s.nanoSP]={id:s.nanoSP,productName:"Ledger Nano SP",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1569792,masks:[856686592],getBlockSize:function(e){return 32}},o[s.nanoX]={id:s.nanoX,productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,masks:[855638016],getBlockSize:function(e){return 4096},bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66",writeCmdUuid:"d973f2e3-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},o),d=(s.blue,s.nanoS,s.nanoX,Object.values(l)),f=11415,p=function(e){var t=d.find((function(t){return t.legacyUsbProductId===e}));if(t)return t;var r=e>>8;return d.find((function(e){return e.productIdMM===r}))},h=[],g={};for(var v in l){var y=l[v],m=y.bluetoothSpec;if(m)for(var E=0;E<m.length;E++){var w=m[E];h.push(w.serviceUuid),g[w.serviceUuid]=g[w.serviceUuid.replace(/-/g,"")]=u({deviceModel:y},w)}}})),i.register("fkrsS",(function(t,r){e(t.exports,"log",(function(){return i}));var n=0,o=[],i=function(e,t,r){var i={type:e,id:String(++n),date:new Date};t&&(i.message=t),r&&(i.data=r),function(e){for(var t=0;t<o.length;t++)try{o[t](e)}catch(e){console.error(e)}}(i)};"undefined"!=typeof window&&(window.__ledgerLogsListen=function(e){return o.push(e),function(){var t=o.indexOf(e);-1!==t&&(o[t]=o[o.length-1],o.pop())}})})),i.register("cI6uH",(function(t,r){e(t.exports,"useEffectOnce",(function(){return o}));var n=i("29o0l");const o=(e,t)=>{const r=(0,n.useRef)(!1);(0,n.useEffect)((()=>{if(!r.current&&t)return r.current=!0,e()}))}})),i.register("634r8",(function(t,r){e(t.exports,"Row",(function(){return n}));const n=i("gkfw3").default.div`
  display: flex;
  flex-direction: row;
  width: ${e=>e.width};
  margin: ${e=>e.margin};
  padding: ${e=>e.padding};
  align-items: ${e=>e.align};
  justify-content: ${e=>e.justify};
`;n.defaultProps={width:"100%",align:"center",justify:"flex-start"}})),i.register("cb8KS",(function(r,n){e(r.exports,"ConfirmationIconType",(function(){return h})),e(r.exports,"ConfirmationIcon",(function(){return v}));var o=i("1fwzV"),s=i("lz5BI"),a=i("29o0l"),c=i("gkfw3"),u=i("6UMd8"),l=i("j81qC");const d=c.default.div`
  position: relative;
`,f=(0,c.default)(s.motion.div)`
  width: ${e=>e.width}px;
  height: ${e=>e.width}px;
`,p=(0,c.default)(s.motion.div)`
  top: 0;
  width: 100%;
  height: 100%;
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
`;var h,g;(g=h||(h={})).Default="default",g.Warning="warning",g.Failure="failure",g.Success="success";const v=({type:e,iconWidth:r,defaultIcon:n,backgroundWidth:i=94})=>t(a).createElement(d,null,t(a).createElement(o.AnimatePresence,{mode:"wait",initial:!1},t(a).createElement(f,{width:i,key:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},(()=>{switch(e){case h.Default:return t(a).createElement(u.Circle,{diameter:i,color:"#181818",includeDarkBoxShadow:!0});case h.Warning:return t(a).createElement(u.Circle,{diameter:i,color:"#FFDC62",opacity:.1});case h.Failure:return t(a).createElement(u.Circle,{diameter:i,color:"#EB3742",opacity:.1});case h.Success:return t(a).createElement(u.Circle,{diameter:i,color:"#21E56F",opacity:.1})}})())),t(a).createElement(o.AnimatePresence,{mode:"wait",initial:!0},t(a).createElement(p,{key:e,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.4,bounce:.4,type:"spring"}},(()=>{switch(e){case h.Default:return null!=n?n:t(a).createElement(l.IconQuestionMark,{width:null!=r?r:30});case h.Warning:return t(a).createElement(l.IconExclamationMarkCircle,{width:40,height:40,circleFill:"#FFDC62",exclamationFill:"#00000000"});case h.Failure:return t(a).createElement(l.IconFailure,{width:null!=r?r:30});case h.Success:return t(a).createElement(l.IconCheckmark,{height:"100%",width:null!=r?r:40,fill:"#21E56F"})}})())))})),i.register("6UMd8",(function(t,r){e(t.exports,"Circle",(function(){return o}));var n=i("RVqnc");const o=i("gkfw3").default.div`
  height: ${e=>e.diameter}px;
  width: ${e=>e.diameter}px;
  margin: ${e=>e.margin};
  background-color: ${e=>e.alpha&&e.color?(0,n.hexToRGB)(e.color,e.alpha):e.color};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  opacity: ${e=>e.opacity};
  overflow: hidden;
  ${e=>e.includeDarkBoxShadow?"box-shadow: inset 0px 0px 4px rgba(0, 0, 0, 0.25);":""}
`;o.defaultProps={color:"#333333",diameter:24,opacity:1}})),i.register("2eJU6",(function(t,r){e(t.exports,"useIsomorphicLayoutEffect",(function(){return o}));var n=i("29o0l"),o=(0,i("7hYQv").canUseDOM)()?n.useLayoutEffect:n.useEffect})),i.register("7hYQv",(function(t,r){function n(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}e(t.exports,"canUseDOM",(function(){return n}))})),i.register("18uvf",(function(t,r){function n(e){}function o(e,t,r){}e(t.exports,"useCheckStyles",(function(){return n})),e(t.exports,"useControlledSwitchWarning",(function(){return o})),i("29o0l")})),i.register("cXfhD",(function(t,r){e(t.exports,"useComposedRefs",(function(){return u}));var n=i("29o0l"),o=i("aYhYb");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function c(e,t){if(null!=e)if((0,o.isFunction)(e))e(t);else try{e.current=t}catch(r){throw new Error('Cannot assign value "'+t+'" to ref "'+e+'"')}}function u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.useCallback)((function(e){for(var r,n=a(t);!(r=n()).done;){c(r.value,e)}}),t)}})),i.register("aYhYb",(function(t,r){function n(e){return"boolean"==typeof e}function o(e){return!(!e||"[object Function]"!={}.toString.call(e))}function i(e){return"string"==typeof e}e(t.exports,"isBoolean",(function(){return n})),e(t.exports,"isFunction",(function(){return o})),e(t.exports,"isString",(function(){return i}))})),i.register("5mEzL",(function(t,r){function n(e,t){return function(r){if(e&&e(r),!r.defaultPrevented)return t(r)}}e(t.exports,"composeEventHandlers",(function(){return n}))})),i.register("1I4L6",(function(t,r){function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[G]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===W}(e)||Array.isArray(e)||!!e[K]||!!e.constructor[K]||f(e)||p(e))}function s(e,t,r){void 0===r&&(r=!1),0===a(e)?(r?Object.keys:H)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function a(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:p(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===a(e)?e.get(t):e[t]}function l(e,t,r){var n=a(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return _&&e instanceof Map}function p(e){return $&&e instanceof Set}function h(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=V(e);delete t[G];for(var r=H(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),m(e)||o(e)||!i(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return v(t,!0)}),!0)),e}function y(){n(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function E(e){var t=z[e];return t||n(18,e),t}function w(){return F}function T(e,t){t&&(E("Patches"),e.u=[],e.s=[],e.v=t)}function A(e){b(e),e.p.forEach(C),e.p=null}function b(e){e===F&&(F=e.l)}function S(e){return F={p:[],l:F,h:e,m:!0,_:0}}function C(e){var t=e[G];0===t.i||1===t.i?t.j():t.O=!0}function x(e,t){t._=t.p.length;var r=t.p[0],o=void 0!==e&&e!==r;return t.h.g||E("ES5").S(t,e,o),o?(r[G].P&&(A(t),n(4)),i(e)&&(e=O(t,e),t.l||D(t,e)),t.u&&E("Patches").M(r[G].t,e,t.u,t.s)):e=O(t,r,[]),A(t),t.u&&t.v(t.u,t.s),e!==q?e:void 0}function O(e,t,r){if(m(t))return t;var n=t[G];if(!n)return s(t,(function(o,i){return I(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return D(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=g(n.k):n.o;s(3===n.i?new Set(o):o,(function(t,i){return I(e,n,o,t,i,r)})),D(e,o,!1),r&&e.u&&E("Patches").R(n,r,e.u,e.s)}return n.o}function I(e,t,r,n,s,a){if(o(s)){var u=O(e,s,a&&t&&3!==t.i&&!c(t.D,n)?a.concat(n):void 0);if(l(r,n,u),!o(u))return;e.m=!1}if(i(s)&&!m(s)){if(!e.h.F&&e._<1)return;O(e,s),t&&t.A.l||D(e,s)}}function D(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&v(t,r)}function L(e,t){var r=e[G];return(r?h(r):e)[t]}function R(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function P(e){e.P||(e.P=!0,e.l&&P(e.l))}function N(e){e.o||(e.o=g(e.t))}function k(e,t,r){var n=f(t)?E("MapSet").N(t,r):p(t)?E("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=Q;r&&(o=[n],i=X);var s=Proxy.revocable(o,i),a=s.revoke,c=s.proxy;return n.k=c,n.j=a,c}(t,r):E("ES5").J(t,r);return(r?r.A:w()).p.push(n),n}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}e(t.exports,"default",(function(){return ee}));var j,F,B="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),_="undefined"!=typeof Map,$="undefined"!=typeof Set,U="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,q=B?Symbol.for("immer-nothing"):((j={})["immer-nothing"]=!0,j),K=B?Symbol.for("immer-draftable"):"__$immer_draftable",G=B?Symbol.for("immer-state"):"__$immer_state",W=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),H="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,V=Object.getOwnPropertyDescriptors||function(e){var t={};return H(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},z={},Q={get:function(e,t){if(t===G)return e;var r=h(e);if(!c(r,t))return function(e,t,r){var n,o=R(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!i(n)?n:n===L(e.t,t)?(N(e),e.o[t]=k(e.A.h,n,e)):n},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,r){var n=R(h(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=L(h(e),t),i=null==o?void 0:o[G];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(d(r,o)&&(void 0!==r||c(e.t,t)))return!0;N(e),P(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==L(e.t,t)||t in e.t?(e.D[t]=!1,N(e),P(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},X={};s(Q,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return X.set.call(this,e,t,void 0)},X.set=function(e,t,r){return Q.set.call(this,e[0],t,r,e[0])};var Y=function(){function e(e){var t=this;this.g=U,this.F=!0,this.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var s=r;r=e;var a=t;return function(e){var t=this;void 0===e&&(e=s);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return a.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var c;if("function"!=typeof r&&n(6),void 0!==o&&"function"!=typeof o&&n(7),i(e)){var u=S(t),l=k(t,e,void 0),d=!0;try{c=r(l),d=!1}finally{d?A(u):b(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return T(u,o),x(e,u)}),(function(e){throw A(u),e})):(T(u,o),x(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=r(e))&&(c=e),c===q&&(c=void 0),t.F&&v(c,!0),o){var f=[],p=[];E("Patches").M(e,c,f,p),o(f,p)}return c}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))};var n,o,i=t.produce(e,r,(function(e,t){n=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,n,o]})):[i,n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||n(8),o(e)&&(e=function(e){return o(e)||n(22,e),function e(t){if(!i(t))return t;var r,n=t[G],o=a(t);if(n){if(!n.P&&(n.i<4||!E("ES5").K(n)))return n.t;n.I=!0,r=M(t,o),n.I=!1}else r=M(t,o);return s(r,(function(t,o){n&&u(n.t,t)===o||l(r,t,e(o))})),3===o?new Set(r):r}(e)}(e));var t=S(this),r=k(this,e,void 0);return r[G].C=!0,b(t),r},t.finishDraft=function(e,t){var r=(e&&e[G]).A;return T(r,t),x(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!U&&n(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var i=E("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),J=new Y,Z=J.produce,ee=(J.produceWithPatches.bind(J),J.setAutoFreeze.bind(J),J.setUseProxies.bind(J),J.applyPatches.bind(J),J.createDraft.bind(J),J.finishDraft.bind(J),Z)})),i.register("84vNm",(function(t,r){e(t.exports,"default",(function(){return a}));var n=i("29o0l"),o=i("kn0JG"),s=function(e,t){return e===t};function a(e,t){void 0===t&&(t=s);var r=(0,n.useRef)(),i=(0,n.useRef)(e);return(0,o.useFirstMountState)()||t(i.current,e)||(r.current=i.current,i.current=e),r.current}})),i.register("kn0JG",(function(t,r){e(t.exports,"useFirstMountState",(function(){return o}));var n=i("29o0l");function o(){var e=(0,n.useRef)(!0);return e.current?(e.current=!1,!0):e.current}})),i.register("7CBpB",(function(t,r){e(t.exports,"createNamedContext",(function(){return o}));var n=i("29o0l");function o(e,t){return(0,n.createContext)(t)}})),i.register("3mrWC",(function(r,n){e(r.exports,"IconHeaderStyle",(function(){return v})),e(r.exports,"IconHeader",(function(){return T}));var o=i("29o0l"),s=i("gkfw3"),a=i("91Dw6"),c=i("j81qC"),u=i("27SDj");const l=s.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,d=s.keyframes`
  0% {
    top: 15px;
    opacity: 0;
  };
  100% {
    top: 0px;
    opacity: 1;
  };
`,f=s.default.div`
  animation-name: ${e=>e.animateText?d:"none"};
  animation-duration: ${e=>e.animateText?".5s":"0s"};
  position: relative;
`,p=(0,s.default)(u.Text)`
  margin: ${e=>e.margin};
`;p.defaultProps={margin:"20px auto 0 auto"};const h=(0,s.default)(u.Text)`
  margin: ${e=>e.margin};
`;h.defaultProps={margin:"15px 0px 0px 0px"};const g=s.default.div`
  position: relative;
  left: 38px;
  bottom: 22px;
`;var v,y;(y=v||(v={})).Medium="medium",y.Large="large",y.Small="small";const m={[v.Large]:30,[v.Medium]:28,[v.Small]:24},E={[v.Large]:34,[v.Medium]:34,[v.Small]:29},w={[v.Large]:18,[v.Medium]:16,[v.Small]:14},T=({className:e,icon:r,primaryText:n,secondaryText:i,headerStyle:s,showWarning:u=!1,showError:d=!1,animateText:y=!1})=>{s=null!=s?s:v.Medium;const T=m[s],A=E[s],b=w[s],S={[v.Large]:22,[v.Medium]:19,[v.Small]:17}[s],C="small"===s?"16px 0 0 0":void 0,x=d?a.ERROR_COLOR:"#777777";return t(o).createElement(l,{className:e},null!=r?r:t(o).createElement(c.IconUnknownOrigin,null),u?t(o).createElement(g,null,t(o).createElement(c.IconExclamationMarkCircle,null)):t(o).createElement(t(o).Fragment,null),t(o).createElement(f,{animateText:y},n&&t(o).createElement(p,{margin:C,weight:500,size:T,lineHeight:A,maxWidth:"320px"},n),i&&t(o).createElement(h,{margin:C,wordBreak:"break-word",size:b,lineHeight:S,color:x},i)))};T.defaultProps={headerStyle:v.Medium}})),i.register("91Dw6",(function(t,r){e(t.exports,"WARNING_COLOR",(function(){return n})),e(t.exports,"DANGER_COLOR",(function(){return o})),e(t.exports,"ERROR_COLOR",(function(){return i}));const n="#FFDC62",o="#EB3742",i="#eb3742"})),i.register("7bRVh",(function(r,n){e(r.exports,"TokenNameBadge",(function(){return u})),e(r.exports,"AddressTypeBadge",(function(){return l}));var o=i("5slFC"),s=i("29o0l"),a=i("gX5Te"),c=i("jBmjc");const u=({children:e,networkID:r,walletAddress:n})=>t(s).createElement(c.TitleBadgeWrapper,null,e,n?t(s).createElement(l,{networkID:r,address:n}):null),l=({networkID:e,address:r})=>{const n=a.hooks.useEnabledAddressTypes();if(!(0,o.showAddressTypeBadge)(n,e))return null;const i=(0,o.getAddressBadge)(e,r);return i?t(s).createElement(c.TitleBadge,{text:i}):null}})),i.register("jBmjc",(function(r,n){e(r.exports,"TitleBadge",(function(){return u})),e(r.exports,"TitleBadgeContainer",(function(){return d})),e(r.exports,"TitleBadgeWrapper",(function(){return l}));var o=i("RVqnc"),s=i("29o0l"),a=i("gkfw3"),c=i("27SDj");const u=({text:e})=>t(s).createElement(d,null,t(s).createElement(f,null,e)),l=a.default.div`
  display: flex;
  align-items: center;
`,d=a.default.div`
  background: ${(0,o.hexToRGB)("#FFFFFF",.1)};
  border-radius: 3px;
  padding: 0px 4px;
  color: white;
  display: inline-block;
  margin-left: 5px;
`,f=(0,a.default)(c.StyledText).attrs({size:12,lineHeight:17,weight:600,noWrap:!0})``})),i.register("cGJ3C",(function(r,n){e(r.exports,"ChainLogo",(function(){return u}));var o=i("iOvk1"),s=i("RVqnc"),a=i("29o0l"),c=i("j81qC");const u=t(a).memo((({networkID:e,height:r,width:n,stroke:i,strokeWidth:u,spacing:l="medium"})=>{if(!e)return null;const d={height:r,width:n,stroke:i,strokeWidth:u};return o.Chains.isBitcoinNetworkID(e)?"medium"===l?t(a).createElement(c.IconChainBitcoin,Object.assign({},d)):t(a).createElement(c.IconChainBitcoinLarge,Object.assign({},d)):o.Chains.isSolanaNetworkID(e)?"medium"===l?t(a).createElement(c.IconChainSolana,Object.assign({},d)):t(a).createElement(c.IconChainSolanaLarge,Object.assign({},d)):o.Chains.isEthereumNetworkID(e)?"medium"===l?t(a).createElement(c.IconChainEthereum,Object.assign({},d)):t(a).createElement(c.IconChainEthereumLarge,Object.assign({},d)):o.Chains.isPolygonNetworkID(e)?"medium"===l?t(a).createElement(c.IconChainPolygon,Object.assign({},d)):t(a).createElement(c.IconChainPolygonLarge,Object.assign({},d)):(0,s.assertNever)(e)}))})),i.register("bOxRX",(function(e,t){e.exports=i("hTL7p")()})),i.register("hTL7p",(function(e,t){"use strict";var r=i("9eJ3d");function n(){}function o(){}o.resetWarningCache=n,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:n};return i.PropTypes=i,i}})),i.register("9eJ3d",(function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),i.register("brdH9",(function(t,r){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n,o;e(t.exports,"assign",(function(){return a})),e(t.exports,"createMachine",(function(){return f})),e(t.exports,"interpret",(function(){return h})),(o=n||(n={}))[o.NotStarted=0]="NotStarted",o[o.Running=1]="Running",o[o.Stopped=2]="Stopped";var i={type:"xstate.init"};function s(e){return void 0===e?[]:[].concat(e)}function a(e){return{type:"xstate.assign",assignment:e}}function c(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function u(e){return function(t){return e===t}}function l(e){return"string"==typeof e?{type:e}:e}function d(e,t){return{value:e,context:t,actions:[],changed:!1,matches:u(e)}}function f(e,t){void 0===t&&(t={});var r={config:e,_options:t,initialState:{value:e.initial,actions:s(e.states[e.initial].entry).map((function(e){return c(e,t.actions)})),context:e.context,matches:u(e.initial)},transition:function(t,n){var o,i,a="string"==typeof t?{value:t,context:e.context}:t,f=a.value,p=a.context,h=l(n),g=e.states[f];if(g.on){var v=s(g.on[h.type]),y=function(t){if(void 0===t)return{value:d(f,p)};var n="string"==typeof t?{target:t}:t,o=n.target,i=void 0===o?f:o,s=n.actions,a=void 0===s?[]:s,l=n.cond,v=p;if((void 0===l?function(){return!0}:l)(p,h)){var y=e.states[i],m=!1,E=[].concat(g.exit,a,y.entry).filter((function(e){return e})).map((function(e){return c(e,r._options.actions)})).filter((function(e){if("xstate.assign"===e.type){m=!0;var t=Object.assign({},v);return"function"==typeof e.assignment?t=e.assignment(v,h):Object.keys(e.assignment).forEach((function(r){t[r]="function"==typeof e.assignment[r]?e.assignment[r](v,h):e.assignment[r]})),v=t,!1}return!0}));return{value:{value:i,context:v,actions:E,changed:i!==f||E.length>0||m,matches:u(i)}}}};try{for(var m=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}(v),E=m.next();!E.done;E=m.next()){var w=y(E.value);if("object"==typeof w)return w.value}}catch(e){o={error:e}}finally{try{E&&!E.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}}return d(f,p)}};return r}var p=function(e,t){return e.actions.forEach((function(r){var n=r.exec;return n&&n(e.context,t)}))};function h(e){var t=e.initialState,r=n.NotStarted,o=new Set,s={_machine:e,send:function(i){r===n.Running&&(t=e.transition(t,i),p(t,l(i)),o.forEach((function(e){return e(t)})))},subscribe:function(e){return o.add(e),e(t),{unsubscribe:function(){return o.delete(e)}}},start:function(){return r=n.Running,p(t,i),s},stop:function(){return r=n.Stopped,o.clear(),s},get state(){return t},get status(){return r}};return s}})),i.register("guOPS",(function(t,r){e(t.exports,"useMachine",(function(){return l})),e(t.exports,"useCreateMachine",(function(){return d}));var n=i("29o0l"),o=i("brdH9"),s=(o=i("brdH9"),i("aYhYb")),a=i("tlhWQ");function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var u=function(e){var t;return e.subscribe((function(e){t=e})).unsubscribe(),t};function l(e,t,r){var i=(0,n.useRef)(e),l=(0,a.useConstant)((function(){return(0,o.interpret)(i.current).start()})),d=(0,n.useRef)(null),f=(0,n.useState)((function(){return u(l)})),p=f[0],h=f[1],g=(0,n.useCallback)((function(e){var r=(0,s.isString)(e)?{type:e}:e,n=function(e){return Object.entries(e).reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n.current,e}),{})}(t);l.send(c({},r,{lastEventType:d.current,refs:n})),d.current=r.type}),[r]);return(0,n.useEffect)((function(){return l.subscribe((function(e){e.changed&&h(e)})),function(){l.stop()}}),[l]),(0,n.useEffect)((function(){}),[r,p]),[(0,n.useMemo)((function(){return c({},p,{matches:function(e){return e===p.value}})}),[p.changed,p.context,p.value]),g,l]}function d(e,t){return(0,a.useConstant)((function(){return(0,o.createMachine)(e,t)}))}})),i.register("tlhWQ",(function(t,r){e(t.exports,"useConstant",(function(){return o}));var n=i("29o0l");function o(e){var t=(0,n.useRef)();return t.current||(t.current={v:e()}),t.current.v}})),i.register("lLNMU",(function(r,n){e(r.exports,"CheckboxGroup",(function(){return f}),(function(e){return f=e})),e(r.exports,"Checkbox",(function(){return p}),(function(e){return p=e}));var o=i("iI3jK"),s=i("29o0l"),a=i("gkfw3"),c=i("j81qC"),u=i("634r8"),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const d=22;const f=(0,a.default)(u.Row)`
  margin: ${e=>{var t;return null!==(t=e.margin)&&void 0!==t?t:0}};
  > * {
    margin-right: 10px;
  }

  label {
    color: #ab9ff2;
    cursor: pointer;

    &:hover {
      color: #e2dffe;
    }
  }
`,p=e=>{const{checked:r,onChange:n,color:i,checkColor:a}=e,u=l(e,["checked","onChange","color","checkColor"]),f=function(e,t="#AB9FF2"){return(0,s.useMemo)((()=>({background:"#282828",border:`1px solid ${e?t:"#4d4d4d"}`,borderRadius:"6px",height:`${d}px`,minHeight:`${d}px`,width:`${d}px`,minWidth:`${d}px`,cursor:"pointer",userSelect:"none",position:"relative",outlineColor:"transparent",outlineStyle:"none",boxShadow:"none"})),[e,t])}(r,i),p=function(e,t="#AB9FF2"){return(0,s.useMemo)((()=>({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%",height:"100%",userSelect:"none",pointerEvents:"none",borderRadius:"4px",opacity:""+(e?1:0),zIndex:1,background:e?t:"transparent"})),[e,t])}(r,i);return t(s).createElement(o.CustomCheckboxContainer,{checked:r,onChange:n,style:f},t(s).createElement(o.CustomCheckboxInput,Object.assign({},u)),t(s).createElement("span",{"aria-hidden":!0,style:p},t(s).createElement(c.IconCheckmark,{width:"0.9em",fill:a||"#222"})))}})),i.register("iI3jK",(function(t,r){e(t.exports,"CustomCheckboxContainer",(function(){return N})),e(t.exports,"CustomCheckboxInput",(function(){return k}));var n=i("29o0l"),o=i("7CBpB"),s=i("aYhYb"),a=i("18uvf"),c=i("cXfhD"),u=i("5mEzL"),l=i("2eJU6"),d=i("brdH9"),f=i("guOPS");function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var g,v,y,m,E,w=!1;function T(e){return!(!e||e.isControlled||e.disabled)}function A(e){return function(t,r){return t&&t.isControlled&&r.state===e}}(y=v||(v={})).Checked="checked",y.Mixed="mixed",y.Unchecked="unchecked",(E=m||(m={})).GetDerivedData="GET_DERIVED_DATA",E.Mount="MOUNT",E.Set="SET",E.Toggle="TOGGLE",E.Unmount="UNMOUNT";var b=(0,d.assign)((function(e,t){return p({},e,{refs:t.refs})})),S=((g={})[m.Mount]={actions:b},g[m.GetDerivedData]={actions:[b,(0,d.assign)((function(e,t){return p({},e,t.data)}))]},g[m.Set]=[{target:v.Checked,cond:A(v.Checked)},{target:v.Unchecked,cond:A(v.Unchecked)},{target:v.Mixed,cond:A(v.Mixed)}],g),C=function(e,t){var r,n,o,i;return{id:"mixed-checkbox",initial:e,context:{disabled:t.disabled,isControlled:t.isControlled,refs:{input:null}},states:(i={},i[v.Unchecked]={entry:b,on:p((r={},r[m.Toggle]={target:v.Checked,cond:T},r),S)},i[v.Checked]={entry:b,on:p((n={},n[m.Toggle]={target:v.Unchecked,cond:T},n),S)},i[v.Mixed]={entry:b,on:p((o={},o[m.Toggle]={target:v.Checked,cond:T},o),S)},i)}};function x(e,t,r){void 0===r&&(r="useMixedCheckbox");var o,i=t||{},s=i.checked,a=i.defaultChecked,c=i.disabled,d=i.onChange,p=i.onClick,h=null!=s,g=(0,f.useCreateMachine)(C(O(h?s:a),{disabled:!!c,isControlled:h})),y=(0,f.useMachine)(g,{input:e},w),E=y[0],T=y[1],A={"aria-checked":I(E.value),checked:(o=E.value,o===v.Checked),disabled:!!c,onChange:(0,u.composeEventHandlers)(d,(function(){h||T(m.Toggle)})),onClick:(0,u.composeEventHandlers)(p,(function(){S()})),type:"checkbox"},b={checked:I(E.value)};function S(){e.current&&(e.current.indeterminate=E.value===v.Mixed)}return(0,n.useEffect)((function(){h&&T({type:m.Set,state:O(s)})}),[h,s,T]),(0,l.useIsomorphicLayoutEffect)(S),(0,n.useEffect)((function(){T({type:m.GetDerivedData,data:{disabled:c,isControlled:h}})}),[c,h,T]),[A,b]}function O(e){return!0===e?v.Checked:"mixed"===e?v.Mixed:v.Unchecked}function I(e){return e===v.Checked||e===v.Mixed&&"mixed"}function D(e,t,r){var o=null!=e,i=(0,n.useRef)(o).current;(0,n.useEffect)((function(){}),[r,t,o,i])}var L=["as","checked","children","defaultChecked","disabled","onClick","onChange","__componentName"],R=["as","onBlur","onFocus"],P=(0,o.createNamedContext)("CustomCheckboxContext",{});var N=(0,n.forwardRef)((function(e,t){var r=e.as,o=void 0===r?"span":r,i=e.checked,c=e.children,l=e.defaultChecked,d=e.disabled,f=e.onClick,g=e.onChange,v=e.__componentName,y=void 0===v?"CustomCheckboxContainer":v,m=h(e,L),E=(0,n.useRef)(null),w=x(E,{defaultChecked:l,checked:i,disabled:d,onChange:g},y),T=w[0],A=w[1],b=(0,n.useState)(!1),S=b[0],C=b[1];var I={defaultChecked:l,disabled:d,focused:S,inputProps:T,inputRef:E,setFocused:C};return D(i,"checked",y),(0,a.useCheckStyles)("checkbox"),(0,n.createElement)(P.Provider,{value:I},(0,n.createElement)(o,p({},m,{ref:t,"data-reach-custom-checkbox-container":"","data-focused":S?"":void 0,"data-state":O(A.checked),onClick:(0,u.composeEventHandlers)(f,(function(){window.requestAnimationFrame((function(){E.current&&E.current.focus()}))}))}),(0,s.isFunction)(c)?c({checked:T["aria-checked"],inputRef:E,focused:S}):c))})),k=(0,n.forwardRef)((function(e,t){var r=e.as,o=void 0===r?"input":r,i=e.onBlur,s=e.onFocus,a=h(e,R),l=(0,n.useContext)(P),d=l.focused,f=l.inputProps,g=l.inputRef,v=l.setFocused,y=(0,c.useComposedRefs)(t,g),m=(0,n.useRef)(!0);return(0,n.useEffect)((function(){return function(){m.current=!1}}),[]),(0,n.createElement)(o,p({},a,f,{ref:y,type:"checkbox","data-reach-custom-checkbox-input":"","data-focused":d?"":void 0,onBlur:(0,u.composeEventHandlers)(i,(function(){window.requestAnimationFrame((function(){m.current&&v(!1)}))})),onFocus:(0,u.composeEventHandlers)(s,(function(){window.requestAnimationFrame((function(){m.current&&v(!0)}))}))}))}))})),i("4a41I")}();
//# sourceMappingURL=SettingsConnectHardware.02a3b3c4.js.map
define=__define;})(window.define);