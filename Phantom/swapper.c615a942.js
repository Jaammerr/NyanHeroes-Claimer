(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=t.parcelRequire1d24;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},t.parcelRequire1d24=a),a.register("a0t1u",(function(n,t){e(n.exports,"useSwapperStore",(function(){return a("jG6nq").useSwapperStore})),e(n.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return a("54Hrp").HIGH_PRICE_IMPACT_THRESHOLD})),e(n.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return a("54Hrp").HIGH_SLIPPAGE_THRESHOLD})),e(n.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return a("54Hrp").PHANTOM_SUPPORT_SWAP_FAILED_URL})),e(n.exports,"analyticsPayload",(function(){return a("dPav6").analyticsPayload})),e(n.exports,"formatSecondsAsSwapTime",(function(){return a("cKybL").formatSecondsAsSwapTime})),e(n.exports,"isBridgeProviderRow",(function(){return a("kBfcJ").isBridgeProviderRow})),e(n.exports,"extractPrice",(function(){return a("d1wgz").extractPrice})),e(n.exports,"formatTokenAmountGreaterThan1",(function(){return a("kvBHY").formatTokenAmountGreaterThan1})),e(n.exports,"createSwapperHooks",(function(){return a("gXZhK").createSwapperHooks})),e(n.exports,"useMultichainSwapSetBuyAsset",(function(){return a("4GAXG").useSwapSetBuyAsset})),e(n.exports,"useMultichainSwapSetSellAsset",(function(){return a("606g5").useSwapSetSellAsset})),e(n.exports,"useMultichainFeeBreakdown",(function(){return a("1RdIz").useFeeBreakdown})),e(n.exports,"useMultichainQuote",(function(){return a("lmbzb").useQuote})),e(n.exports,"SwapAssetSelectType",(function(){return a("uleZn").SwapAssetSelectType})),e(n.exports,"swapperShouldDehydrateQueryPredicate",(function(){return a("aLg9d").swapperShouldDehydrateQueryPredicate})),e(n.exports,"createSwapAnalytics",(function(){return a("jMU3p").createSwapAnalytics})),e(n.exports,"getCanSwapWithNetworkID",(function(){return a("lw9RP").getCanSwapWithNetworkID}));a("jG6nq"),a("54Hrp"),a("dPav6"),a("cKybL"),a("7u9Mq"),a("kBfcJ"),a("d1wgz"),a("kvBHY"),a("gXZhK"),a("4GAXG"),a("606g5"),a("1RdIz"),a("lmbzb"),a("uleZn"),a("aLg9d"),a("jMU3p"),a("lw9RP")})),a.register("jG6nq",(function(t,o){e(t.exports,"useSwapperStore",(function(){return i}));var r=a("9xrNA");const s={buyFungible:void 0,buyUsdValue:void 0,sellFungible:void 0,sellUsdValue:void 0,sellAmount:"",uiSellAmount:"",multichainQuoteResponse:void 0,selectedProviderIndex:0,gasEstimation:void 0,isFetchingGasEstimation:!1,maxGasEstimation:void 0,quoteFetchIntervalToggle:!0,refuelEnabled:!1,hasNoRoutes:!1,isFetchingQuote:!1,error:null},i=n(r)((e=>Object.assign(Object.assign({},s),{resetQuote:()=>e({multichainQuoteResponse:s.multichainQuoteResponse,isFetchingQuote:s.isFetchingQuote,hasNoRoutes:s.hasNoRoutes,selectedProviderIndex:s.selectedProviderIndex,error:s.error}),resetSwapper:()=>e({multichainQuoteResponse:s.multichainQuoteResponse,gasEstimation:s.gasEstimation,isFetchingGasEstimation:s.isFetchingGasEstimation,maxGasEstimation:s.maxGasEstimation,quoteFetchIntervalToggle:s.quoteFetchIntervalToggle,error:s.error,sellAmount:"",uiSellAmount:"",sellFungible:s.sellFungible,buyFungible:s.buyFungible}),setBuyFungible:n=>e({buyFungible:n}),setBuyUsdValue:n=>e({buyUsdValue:n}),setHasNoRoutes:n=>e({hasNoRoutes:n}),setIsFetchingQuote:n=>e({isFetchingQuote:n}),setMultichainQuoteResponse:n=>e({multichainQuoteResponse:n,hasNoRoutes:!1}),setSelectedProviderIndex:n=>e({selectedProviderIndex:n}),setGasEstimation:n=>e({gasEstimation:n}),setIsFetchingGasEstimation:n=>e({isFetchingGasEstimation:n}),setMaxGasEstimation:n=>e({maxGasEstimation:n}),setQuoteFetchIntervalToggle:n=>e({quoteFetchIntervalToggle:n}),setRefuelEnabled:n=>e({refuelEnabled:n}),setSellAmount:n=>e({sellAmount:n}),setSellUsdValue:n=>e({sellUsdValue:n}),setSellFungible:n=>e({sellFungible:n}),setUiSellAmount:n=>e({uiSellAmount:n}),setError:n=>e({error:n})})))})),a.register("54Hrp",(function(t,o){e(t.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return u})),e(t.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return l})),e(t.exports,"INITIAL_BUY_FUNGIBLE",(function(){return w})),e(t.exports,"INITIAL_SELL_FUNGIBLE",(function(){return y})),e(t.exports,"CHAIN_TO_NATIVE_FUNGIBLE",(function(){return v})),e(t.exports,"CHAIN_TO_USDC_FUNGIBLE",(function(){return b})),e(t.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return h})),e(t.exports,"BALANCE_HIDDEN_TEXT",(function(){return k})),e(t.exports,"MOBILE_SWAP_INPUT_MAX_LENGTH",(function(){return T})),e(t.exports,"WRAPPED_SOLANA_ADDRESS",(function(){return A}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8");const u=5,l=5,c={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},d={type:s.FungibleTokenType.SolanaNative,data:{amount:"0",balance:new(n(i))(0),chain:c,coingeckoId:"solana",decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"",spamStatus:s.SpamStatus.NotVerified}},p={type:s.FungibleTokenType.SPL,data:{amount:"0",balance:new(n(i))(0),chain:c,coingeckoId:"usd-coin",decimals:6,key:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",logoUri:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",splTokenAccountPubkey:"EAF7dH8Jy43Xgp68PhyybKhfKxk46NFRkWN4PMCLqMfS",symbol:"USDC",tokenAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",walletAddress:"",programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",spamStatus:s.SpamStatus.NotVerified}},g={type:s.FungibleTokenType.PolygonNative,data:{chain:{id:r.Chains.polygon.mainnetID,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol,imageUrl:r.Chains.polygon.iconUrl},walletAddress:"",decimals:18,amount:"72172806352057410682",logoUri:"https://wallet-asset.matic.network/img/tokens/matic.svg",name:"Polygon",symbol:"MATIC",coingeckoId:"matic-network",balance:new(n(i))(0),key:"PolygonNative",usd:79.02922295550286,price:1.095,usd_24h_change:-.19903579005681138,tokenAddress:void 0,spamStatus:s.SpamStatus.NotVerified}},m={type:s.FungibleTokenType.ERC20,data:{amount:"0",balance:new(n(i))(0),coingeckoId:null,decimals:6,key:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",logoUri:"https://wallet-asset.matic.network/img/tokens/usdc.svg",name:"USD Coin",symbol:"USDC",tokenAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",walletAddress:"",chain:{id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},contractAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",spamStatus:s.SpamStatus.NotVerified}},S={type:s.FungibleTokenType.EthereumNative,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",decimals:18,amount:"45824381294194610",logoUri:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png",name:"Ethereum",symbol:"ETH",coingeckoId:"ethereum",balance:new(n(i))(0),key:"EthereumNative",usd:85.14215868842653,price:1858.01,usd_24h_change:.0009391170983548136,tokenAddress:void 0,spamStatus:s.SpamStatus.NotVerified}},f={type:s.FungibleTokenType.ERC20,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",contractAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",decimals:6,amount:"1881092",logoUri:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389",name:"USD Coin",symbol:"USDC",coingeckoId:null,balance:new(n(i))(0),key:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",tokenAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",usd:1.8807026139560001,price:.999793,usd_24h_change:-.0005475429199477411,spamStatus:s.SpamStatus.NotVerified}},w=p,y=d,v=new Map([[r.NetworkIDs.Solana.Mainnet,d],[r.NetworkIDs.Ethereum.Mainnet,S],[r.NetworkIDs.Polygon.Mainnet,g]]),b=new Map([[r.NetworkIDs.Solana.Mainnet,p],[r.NetworkIDs.Ethereum.Mainnet,f],[r.NetworkIDs.Polygon.Mainnet,m]]),h="https://help.phantom.app/hc/en-us/articles/5985106844435",k="••••••",T=16,A="So11111111111111111111111111111111111111112"})),a.register("dPav6",(function(n,t){e(n.exports,"legacyAnalyticsPayload",(function(){return l})),e(n.exports,"analyticsPayload",(function(){return c}));var o=a("belzv"),r=a("4y59b"),s=a("4Fsq6");const i=(e,n,t)=>{if(t){return(0,r.amountToUiAmount)(e,n).times((0,r.BigNumber)(t)).toNumber()}},u=(e,n)=>n&&e?n>e?n:e:null!=n?n:e;function l({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:a,buyAmount:s,sellAmount:l,phantomFeeUiAmount:c,priceImpact:d,provider:p}){var g,m;if(n&&a){const S=i(s,n.data.decimals,e),f=i(l,a.data.decimals,t),w=u(S,f);return{networkId:a.data.chain.id,chainId:o.Chains.getChainID(a.data.chain.id),toNetworkId:n.data.chain.id,toChainId:o.Chains.getChainID(n.data.chain.id),isBridge:a.data.chain.id!==n.data.chain.id,marketName:`${a.data.symbol}/${n.data.symbol}`,tradeDirection:"sell",swapSource:p,priceImpact:d,fromAssetSymbol:null!==(g=a.data.symbol)&&void 0!==g?g:"",fromAssetAddress:a.data.tokenAddress,fromAssetAmount:(0,r.amountToUiAmount)(l,a.data.decimals),fromAssetUsdPrice:t,fromAssetUsdVolume:f,toAssetSymbol:null!==(m=n.data.symbol)&&void 0!==m?m:"",toAssetAddress:n.data.tokenAddress,toAssetAmount:(0,r.amountToUiAmount)(s,n.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:S,totalUsdVolume:w,feeUsd:c}}return null}function c({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:o,quote:a}){var l,c,d,p,g,m,S;if(n&&o){const{buyAmount:f,sellAmount:w}=a,y="priceImpact"in a?a.priceImpact:0,v="sources"in a?(0,s.parseSwapSources)(a.sources):"",b=null!==(c="fees"in a?null===(l=a.fees.find((e=>"phantom"===e.type)))||void 0===l?void 0:l.amount.toString():"")&&void 0!==c?c:"",h=i(f,n.data.decimals,e),k=i(w,o.data.decimals,t),T=u(h,k);return{chainId:null!==(d=o.data.chain.id)&&void 0!==d?d:n.data.chain.id,swap:{marketName:`${o.data.symbol}/${n.data.symbol}`,tradeDirection:"sell",swapSource:v,priceImpact:y,fromAssetSymbol:null!==(p=o.data.symbol)&&void 0!==p?p:"",fromAssetAddress:null!==(g=o.data.tokenAddress)&&void 0!==g?g:"",fromAssetAmount:(0,r.amountToUiAmount)(w,o.data.decimals),fromAssetUsdPrice:null!=t?t:0,fromAssetUsdVolume:null!=k?k:0,toAssetSymbol:null!==(m=n.data.symbol)&&void 0!==m?m:"",toAssetAddress:null!==(S=n.data.tokenAddress)&&void 0!==S?S:"",toAssetAmount:(0,r.amountToUiAmount)(f,n.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:h,totalUsdVolume:null!=T?T:0,feeUsd:Number(b)}}}return null}})),a.register("4Fsq6",(function(n,t){function o(e){const n=e.reduce(((e,n)=>e.add(n.name)),new Set);return Array.from(n).join(" + ")}e(n.exports,"parseSwapSources",(function(){return o}))})),a.register("cKybL",(function(n,t){e(n.exports,"formatSecondsAsSwapTime",(function(){return o}));const o=(e,n)=>{const t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),r=e%60;if(t>0)return n("swapProviderEstimatedTimeHM",{hours:t,minutes:o});if(o>0){return n("swapProviderEstimatedTimeM",{minutes:r>0?o+1:o})}return n("swapProviderEstimatedTimeS",{seconds:r})}})),a.register("7u9Mq",(function(t,o){e(t.exports,"formatTokenAmountForReviewScreen",(function(){return s}));var r=a("2MVjM");const s=(e,t)=>{const o=n(r)(e),a=o.value();if(Math.abs(a)>0&&Math.abs(a)<1e-5){return`< ${a<0?"-":""}0.00001`}return t>=12?o.format("0,0.[0]"):t>=9?o.format("0,0.[000]"):o.format("0,0.[00000]")}})),a.register("kBfcJ",(function(n,t){e(n.exports,"isBridgeProviderRow",(function(){return r}));var o=a("uleZn");const r=e=>o.BridgeProviderRow.safeParse(e).success})),a.register("uleZn",(function(n,t){e(n.exports,"ErrorResponse",(function(){return i})),e(n.exports,"SwapToken",(function(){return p})),e(n.exports,"SolanaSwapQuote",(function(){return y})),e(n.exports,"EvmSwapQuote",(function(){return v})),e(n.exports,"BridgeQuote",(function(){return A})),e(n.exports,"QuoteType",(function(){return F})),e(n.exports,"SwapperQuoteResponse",(function(){return I})),e(n.exports,"SwapProviderRow",(function(){return R})),e(n.exports,"BridgeProviderRow",(function(){return M})),e(n.exports,"SwapAssetSelectType",(function(){return H}));var o=a("belzv"),r=a("4chX7"),s=a("7pPsM");const i=s.z.object({name:s.z.string(),message:s.z.string()}),u=s.z.object({coingeckoId:s.z.optional(s.z.string())}),l=s.z.object({chainId:o.NetworkID,name:s.z.string(),symbol:s.z.string(),decimals:s.z.number(),logoURI:s.z.optional(s.z.string()),extensions:s.z.optional(u),includesBridge:s.z.optional(s.z.boolean())}),c=l.extend({address:s.z.string(),resourceType:s.z.literal(o.Caip19ResourceType.address)}),d=l.extend({slip44:s.z.string(),resourceType:s.z.literal(o.Caip19ResourceType.nativeToken)}),p=s.z.union([c,d]),g=s.z.enum(["network","phantom"]),m=s.z.object({name:s.z.string(),percentage:s.z.number(),amount:s.z.number(),type:g}),S=s.z.object({name:s.z.string(),proportion:s.z.string()}),f=s.z.object({sellAmount:s.z.string(),buyAmount:s.z.string()}),w=f.extend({priceImpact:s.z.number(),sources:s.z.array(S),fees:s.z.array(m)}),y=w.extend({transactionData:s.z.array(s.z.string())}),v=w.extend({allowanceTarget:s.z.string(),exchangeAddress:s.z.string(),gas:s.z.number(),value:s.z.string(),transactionData:s.z.string()}),b=s.z.object({name:s.z.string(),amount:s.z.string(),token:o.FungibleCaip19,percentage:s.z.string(),included:s.z.boolean()}),h=s.z.object({name:s.z.string(),key:s.z.string(),logoURI:s.z.string()}),k=s.z.object({name:s.z.string(),symbol:s.z.string()}),T=s.z.object({transactionData:s.z.string(),buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,nonIncludedNonGasFees:s.z.string(),feeCosts:s.z.array(b),chainId:o.NetworkID,tool:h,value:s.z.optional(s.z.string()),allowanceTarget:s.z.optional(s.z.string()),approvalMetadata:s.z.optional(k),exchangeAddress:s.z.optional(s.z.string()),gasCosts:s.z.optional(s.z.array(s.z.number()))}),A=f.extend({executionDuration:s.z.number(),tags:s.z.array(s.z.string()),steps:s.z.array(T),refuelAmount:s.z.optional(s.z.string())}),E=s.z.union([y,v,A]),F=s.z.enum(["solana","eip155","xchain"]),I=s.z.object({type:F,taker:o.FungibleCaip19,buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,slippageTolerance:s.z.number(),simulationTolerance:s.z.optional(s.z.number()),gasBuffer:s.z.optional(s.z.number()),quotes:s.z.array(E)}),C=s.z.enum(["swap-approval","swap","bridge-approval","bridge"]),N=s.z.enum(["swap","bridge"]),x=s.z.object({sellToken:o.FungibleCaip19,buyToken:o.FungibleCaip19,approvalMetadata:s.z.optional(k)}),D=s.z.object({type:s.z.literal("solana"),transactions:s.z.array(s.z.string()),transactionTypes:s.z.array(N),transactionPairs:s.z.optional(s.z.array(x))}),P=s.z.object({type:s.z.literal("evm"),transactions:s.z.array(r.EthUnsignedTransactionObject),transactionTypes:s.z.array(C),transactionPairs:s.z.optional(s.z.array(x))}),R=(s.z.union([D,P]),s.z.object({name:s.z.string(),fee:s.z.string()}).strict()),M=s.z.object({name:s.z.string(),fee:s.z.string(),amount:s.z.string(),tags:s.z.array(s.z.object({key:s.z.string(),text:s.z.string()})),time:s.z.object({text:s.z.string(),isFast:s.z.boolean()}),logoURI:s.z.string()});s.z.union([R,M]);var H,z;(z=H||(H={})).Buy="buy",z.Sell="sell"})),a.register("d1wgz",(function(n,t){e(n.exports,"extractPrice",(function(){return s}));var o=a("belzv"),r=a("gYh0e");const s=(e,n)=>{if(void 0===n)return;const t=(0,r.getFungibleCaip19FromFungible)(e);return n[(0,o.encodeCaip19)(t)]}})),a.register("kvBHY",(function(t,o){e(t.exports,"formatTokenAmountGreaterThan1",(function(){return u})),e(t.exports,"amountToFormattedAmountGreaterThan1",(function(){return l}));var r=a("4y59b"),s=a("3yHS8");const i=e=>e.isGreaterThanOrEqualTo(1)?"0,0.[00]":"0,0.[00000]",u=e=>{const t=n(s)(e);return(0,r.formatTokenAmount)(e,i(t))},l=(e,t)=>{const o=new(n(s))(e).div(new(n(s))(10).pow(t));return(0,r.formatTokenAmount)(o,i(o))}})),a.register("gXZhK",(function(n,t){e(n.exports,"createSwapperHooks",(function(){return C}));var o=a("4raQz"),r=a("eVFQN"),s=a("jP15q"),i=a("iZKEv"),u=a("iMLb9"),l=a("fJPlc"),c=a("9eH52"),d=a("lw9RP"),p=a("lGEUK"),g=a("lU35F"),m=a("95lE3"),S=a("eTLWL"),f=a("eeS7y"),w=a("34pzM"),y=a("aqhqo"),v=a("9sKR9"),b=a("jhEDs"),h=a("4UoVr"),k=a("l2d9C"),T=a("jlxJl"),A=a("ezrMm"),E=a("5I5ht"),F=a("bJqn7"),I=a("capuI");function C(e,n,t,a,C,N,x,D,P,R,M,H){const z=new(0,o.PriorityFeeService);return{useSwapTransactions:e=>(0,l.useSwapTransactions)(Object.assign(Object.assign({},e),{transactionHooks:M,priorityFeeService:z})),useSwapClearQuotes:()=>(0,i.useSwapClearQuotes)(),useSwapRefuelProps:()=>(0,k.useSwapRefuelProps)({fungibleHooks:D,analytics:C}),useSwapCardProps:()=>(0,v.useSwapCardProps)({transactionHooks:M,priceHooks:x,accountHooks:P}),useCanSwapWithNetworkID:e=>(0,d.useCanSwapWithNetworkID)(Object.assign(Object.assign({},e),{accountHooks:P})),useSwapSellAssetProps:e=>(0,I.useSwapSellAssetProps)(Object.assign(Object.assign({},e),{transactionHooks:M,priceHooks:x,fungibleHooks:D,accountHooks:P,getApiEnvironment:t,queryClient:a})),useSwapProvidersProps:e=>(0,h.useSwapProvidersProps)(Object.assign(Object.assign({},e),{accountHooks:P,fungibleHooks:D,transactionHooks:M,priceHooks:x,getApiEnvironment:t,analytics:C})),useSwapReviewProps:()=>(0,A.useSwapReviewProps)({accountHooks:P,priceHooks:x}),useSwapReviewButtonProps:()=>(0,T.useSwapReviewButtonProps)({accountHooks:P,fungibleHooks:D,transactionHooks:M,priceHooks:x}),useSwapConfirmationProps:t=>(0,b.useSwapConfirmationProps)(Object.assign(Object.assign({},t),{accountSigner:e,storage:n,fungibleHooks:D,priceHooks:x,settingsHooks:R,analytics:C,asyncSwapAnalytics:N,accountHooks:P,simulationHooks:H,transactionHooks:M,priorityFeeService:z})),useSwapSellAssetList:()=>(0,F.useSwapSellAssetList)({fungibleHooks:D}),useSwapBuyAssetProps:e=>(0,y.useSwapBuyAssetProps)(Object.assign(Object.assign({},e),{priceHooks:x,analytics:C})),useSwapBuyAssetList:e=>(0,w.useSwapBuyAssetList)(Object.assign(Object.assign({},e),{fungibleHooks:D,accountHooks:P,getApiEnvironment:t})),useLiveSwapBuyAssetList:e=>(0,g.useLiveSwapBuyAssetList)(Object.assign(Object.assign({},e),{fungibleHooks:D,accountHooks:P,getApiEnvironment:t})),useInitialAssets:e=>(0,p.useInitialAssets)(Object.assign(Object.assign({},e),{accountHooks:P,fungibleHooks:D,getApiEnvironment:t})),useSubscribeSwapQuoteToQueries:e=>(0,f.useSubscribeSwapQuoteToQueries)(Object.assign(Object.assign({},e),{accountHooks:P,fungibleHooks:D,priceHooks:x,getApiEnvironment:t,analytics:C,storage:n})),useSubscribeGasEstimation:()=>(0,S.useSubscribeGasEstimation)({accountHooks:P,transactionHooks:M,simulationHooks:H,priorityFeeService:z}),useSwapScanTransaction:e=>(0,E.useSwapScanTransaction)(Object.assign(Object.assign({},e),{accountHooks:P,simulationHooks:H})),useBridgeRefuelProps:()=>(0,c.useBridgeRefuelProps)({fungibleHooks:D,priceHooks:x,analytics:C}),useSlippageSettingsViewState:e=>(0,m.useSlippageSettingsViewState)(Object.assign(Object.assign({},e),{analytics:C,storage:n})),useSlippageTolerance:()=>(0,u.useSwapStorageValue)({storage:n,key:u.StorageKeySwapper.SlippageTolerance,queryKey:r.swapperQueryKeys.slippageTolerance()}),useMultichainSwapFungibles:e=>(0,s.useMultichainSwapFungibles)(Object.assign(Object.assign({},e),{storage:n}))}}})),a.register("eVFQN",(function(n,t){e(n.exports,"SWAPPER_QUERY_KEYS_PREFIX",(function(){return r})),e(n.exports,"swapperQueryKeys",(function(){return i}));const o="swapper";var r,a;(a=r||(r={})).pairs="pairs",a.quotes="quotes",a.transactions="transactions";const s=[o,r.quotes],i={pairs:(e,n,t)=>[o,r.pairs,{sellToken:e,supportedNetworkIds:n,enableNativeBridgePairs:t}],quotesScope:()=>s,quotes:(e,n,t,o,r,a,i)=>[...s,{sellToken:e,buyToken:n,taker:t,takerDestination:i,sellAmount:o,slippageTolerance:r,refuelEnabled:a}],transactions:e=>[o,r.transactions,e],slippageTolerance:()=>[o,"slippageTolerance"]}})),a.register("jP15q",(function(n,t){e(n.exports,"useMultichainSwapFungibles",(function(){return l}),(function(e){return l=e}));var o=a("gd9Oy"),r=a("fG04A"),s=a("5xIjB"),i=a("be45y"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=({accountIdentifier:e,networkID:n,accountSigner:t,storage:a})=>(0,r.useMutation)({mutationFn:r=>u(void 0,void 0,void 0,(function*(){const{swapTransactions:u,type:l}=r;if("evm"===u.type&&l===o.AddressType.EVM){const{gasEstimation:o,pendingApprovalActivityRows:i,pendingSwapActivityRows:c}=r,{signature:d,error:p}=yield(0,s.swapTransactionEvm)({transactions:u.transactions,transactionTypes:u.transactionTypes,networkID:n,gasEstimation:o,pendingSwapActivityRows:c,pendingApprovalActivityRows:i,accountIdentifier:e,accountSigner:t,storage:a});return{networkID:n,chainType:l,id:d,error:p}}if("solana"===u.type&&l===o.AddressType.Solana){const{callerAddress:o,connection:s,pendingSwapActivityRows:c}=r;if(!s)throw new Error("missing connection");const{signature:d,error:p}=yield(0,i.swapTransactionSolana)({callerAddress:o,connection:s,networkID:n,transactions:u.transactions,pendingSwapActivityRows:c,accountIdentifier:e,accountSigner:t,storage:a});return{networkID:n,chainType:l,id:d,error:p}}throw new Error("unsupported")}))})})),a.register("5xIjB",(function(n,t){e(n.exports,"swapTransactionEvm",(function(){return u}),(function(e){return u=e}));var o=a("4chX7"),r=a("4raQz"),s=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const i=({networkID:e,unsignedTransaction:n,pendingActivityRows:t,accountIdentifier:o,accountSigner:a,storage:s,includeCallPayload:i})=>Object.assign(Object.assign({accountSigner:a,accountIdentifier:o,networkID:e,unsignedTransaction:n},i&&{callPayload:{from:n.from,to:n.to,data:n.data,value:n.value}}),{pendingTransactionInput:{ownerAddress:n.from,networkID:e,data:{nonce:"",unsignedTransaction:n,hash:""},type:r.PendingTransactionType.Swap,display:{summary:t}},storage:s}),u=e=>s(void 0,[e],void 0,(function*({transactions:e,transactionTypes:n,networkID:t,gasEstimation:a,pendingApprovalActivityRows:s,pendingSwapActivityRows:u,accountIdentifier:l,accountSigner:c,storage:d}){let p=!0,g="";for(const[m,S]of e.entries()){const e=a[m],f={gas:`0x${e.gasLimit.toString(16)}`,maxFeePerGas:`0x${e.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${e.maxPriorityFeePerGas.toString(16)}`},w=o.EthUnsignedTransactionObject.parse(Object.assign(Object.assign({},S),f)),y=n[m].includes("approval")?s:u,v=i({networkID:t,accountIdentifier:l,pendingActivityRows:y.shift(),accountSigner:c,storage:d,unsignedTransaction:w,includeCallPayload:p});try{g=yield(0,r.signAndSendEthereumTransactionAsync)(v)}catch(e){return{signature:g,error:e instanceof Error?e:new Error("Failed to process EVM swap transaction")}}p&&(p=!1)}return{signature:g}}))})),a.register("be45y",(function(n,t){e(n.exports,"swapTransactionSolana",(function(){return u}),(function(e){return u=e}));var o=a("3fvLJ"),r=a("4raQz"),s=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const i=({networkID:e,transaction:n,feePayer:t,connection:o,pendingActivityRows:a,accountIdentifier:s,accountSigner:i,storage:u})=>({accountSigner:i,accountIdentifier:s,transaction:n,feePayer:t,connection:o,opts:{skipPreflight:!0},pendingTransactionInput:{ownerAddress:t.toBase58(),networkID:e,data:{signature:""},type:r.PendingTransactionType.Swap,display:{summary:a}},storage:u}),u=e=>s(void 0,[e],void 0,(function*({callerAddress:e,connection:n,networkID:t,transactions:a,pendingSwapActivityRows:s,accountIdentifier:u,accountSigner:l,storage:c}){const d=new(0,o.PublicKey)(e);let p;for(const[e,g]of a.entries()){const m=(0,o.transactionStringToTransaction)(g,"bs58"),S=(yield n.getLatestBlockhash("confirmed")).blockhash;(0,o.setRecentBlockhash)(m,S);const f=i({networkID:t,transaction:m,feePayer:d,connection:n,pendingActivityRows:s[e],accountIdentifier:u,accountSigner:l,storage:c});try{p=yield(0,r.signAndSendSolanaTransactionAsync)(f),e!==a.length-1&&(yield(0,r.waitForTransactionConfirmation)({connection:n,signature:p}))}catch(e){return{signature:null!=p?p:"",error:e instanceof Error?e:new Error("Failed to process solana swap transaction")}}}return{signature:null!=p?p:""}}))})),a.register("iZKEv",(function(n,t){e(n.exports,"useSwapClearQuotes",(function(){return u}),(function(e){return u=e}));var o=a("fvKRK"),r=a("jG6nq"),s=a("eVFQN"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const u=()=>{const e=(0,o.useQueryClient)(),n=(0,r.useSwapperStore)();return{clearQuotes:()=>i(void 0,void 0,void 0,(function*(){n.resetQuote(),yield e.invalidateQueries(s.swapperQueryKeys.quotesScope())}))}}})),a.register("iMLb9",(function(n,t){e(n.exports,"StorageKeySwapper",(function(){return o}),(function(e){return o=e})),e(n.exports,"useSwapStorageValue",(function(){return d}),(function(e){return d=e})),e(n.exports,"useSetSwapStorageValue",(function(){return p}),(function(e){return p=e}));var o,r=a("4yY1D"),s=a("fG04A"),i=a("lNRH9"),u=a("fvKRK"),l=a("1TYDM"),c=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function d({storage:e,key:n,queryKey:t,defaultValue:o=null}){return(0,i.useQuery)({enabled:!0,queryKey:t,cacheTime:l.CacheTime.Long,staleTime:l.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){try{return yield e.get(n)}catch(e){return e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper),o}}))}})}function p({storage:e,key:n,queryKey:t}){const o=(0,u.useQueryClient)();return(0,s.useMutation)({mutationFn(t){return c(this,void 0,void 0,(function*(){try{return yield e.set(n,t)}catch(e){return void(e instanceof Error&&r.telemetry.captureError(e,r.FeatureTag.Swapper))}}))},onMutate(e){return c(this,void 0,void 0,(function*(){yield o.cancelQueries(t);const n=o.getQueryData(t);return o.setQueryData(t,e),{previousValue:n}}))},onError(e,n,r){o.setQueryData(t,null==r?void 0:r.previousValue)}})}(o||(o={})).SlippageTolerance="slippageTolerance"})),a.register("1TYDM",(function(n,t){e(n.exports,"CacheTime",(function(){return o})),e(n.exports,"StaleTime",(function(){return s})),e(n.exports,"RefetchInterval",(function(){return u}));var o,r,s,i,u,l,c=a("4y59b");(r=o||(o={}))[r.Always=1/0]="Always",r[r.Short=(0,c.toMilliseconds)({days:1})]="Short",r[r.Medium=(0,c.toMilliseconds)({days:3})]="Medium",r[r.Long=(0,c.toMilliseconds)({days:7})]="Long",(i=s||(s={}))[i.Immediate=0]="Immediate",i[i.Short=(0,c.toMilliseconds)({minutes:1})]="Short",i[i.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",i[i.Long=(0,c.toMilliseconds)({minutes:60})]="Long",i[i.Never=1/0]="Never",(l=u||(u={}))[l.Short=(0,c.toMilliseconds)({seconds:20})]="Short",l[l.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",l[l.Long=(0,c.toMilliseconds)({minutes:5})]="Long"})),a.register("fJPlc",(function(t,o){e(t.exports,"useSwapTransactions",(function(){return y}),(function(e){return y=e}));var r=a("belzv"),s=a("4chX7"),i=a("3fvLJ"),u=a("4yY1D"),l=a("4raQz"),c=a("lNRH9"),d=a("3yHS8"),p=a("bz65k"),g=a("eVFQN"),m=a("1TYDM"),S=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const f=e=>S(void 0,[e],void 0,(function*({callerAddress:e,contractAddress:t,networkId:o,sellAmount:a,allowanceTarget:i,exchangeAddress:u,value:c,transactionData:p,type:g}){const m=[],S=[];if(t){if((yield(0,l.getERC20Allowance)({callerAddress:e,spender:i,networkId:o,contractAddress:t})).lt(a.toString())){const n=yield(0,l.getERC20Approval)({callerAddress:e,spender:i,networkId:o,contractAddress:t});m.push(n),S.push(`${g}-approval`)}}const f=s.EthUnsignedTransactionObject.parse(Object.assign({type:s.TransactionTypes.eip1559,from:e,data:p,chainId:r.Chains.getEVMNetworkIDValue(o),to:u},"0"===c?{}:{value:`0x${new(n(d))(c).toString(16)}`}));return m.push(f),S.push(g),{transactions:m,transactionTypes:S}})),w=e=>S(void 0,[e],void 0,(function*({quote:e,priorityFeeService:n,connection:t}){const o=e.transactionData.map((e=>((e,n,t)=>S(void 0,void 0,void 0,(function*(){const o=(0,i.transactionStringToTransaction)(e,"bs58");return yield n.addPriorityFee(o,{connection:t,transactionType:l.TransactionTypeValue.Swap})})))(e,n,t))),r=(yield Promise.all(o)).map((e=>l.TransactionSerializationUtils.serialize(e).transaction));return{type:"solana",transactionTypes:r.map((()=>"swap")),transactions:r}})),y=({transactionHooks:e,priorityFeeService:n,callerAddress:t,sellFungible:o,quote:a})=>{const{connection:s}=e.useSelectedSolanaConnection(),i=g.swapperQueryKeys.transactions(a);return(0,c.useQuery)({queryKey:i,enabled:!!a,cacheTime:0,staleTime:0,refetchInterval:m.RefetchInterval.Short,onError(e){e instanceof Error&&u.telemetry.captureError(e,u.FeatureTag.Swapper)},queryFn(){return S(this,void 0,void 0,(function*(){if(!a)throw new Error("Missing quote");const e=null==o?void 0:o.data.chain.id;if((0,p.isSingleNetworkSwapQuote)(a)){if(r.Chains.isEVMNetworkID(e)&&(0,p.isEvmSwapQuote)(a))return S(void 0,[{networkId:e,callerAddress:t,quote:a,sellFungible:o}],void 0,(function*({networkId:e,callerAddress:n,quote:t,sellFungible:o}){var r;const a=null!==(r=null==o?void 0:o.data.tokenAddress)&&void 0!==r?r:"",{allowanceTarget:s,exchangeAddress:i,sellAmount:u,value:l}=t,c=yield f({callerAddress:n,contractAddress:a,networkId:e,sellAmount:u,allowanceTarget:s,exchangeAddress:i,value:l,transactionData:t.transactionData,type:"swap"});return Object.assign({type:"evm"},c)}));if(r.Chains.isSolanaNetworkID(e)&&(0,p.isSolanaSwapQuote)(a))return w({quote:a,priorityFeeService:n,connection:s});throw new Error(`Single network swap quote not supported for network ID ${e}`)}if((0,p.isBridgeQuote)(a)){if(r.Chains.isEVMNetworkID(e))return S(void 0,[{networkId:e,callerAddress:t,quote:a}],void 0,(function*({networkId:e,callerAddress:n,quote:t}){const{sellAmount:o,steps:a}=t,s=[],i=[],u=[];for(const t of a){const{allowanceTarget:a,exchangeAddress:l,value:c,transactionData:d,sellToken:p,buyToken:g,approvalMetadata:m}=t,S=p.resourceType===r.Caip19ResourceType.address?p.address:null,w=0===r.Chains.compareNetworkID(p.chainId,g.chainId)?"swap":"bridge";if(!(a&&l&&d&&c))throw new Error("Missing bridge step data for EVM bridge quote.");const y=yield f({callerAddress:n,contractAddress:S,networkId:e,sellAmount:o,allowanceTarget:a,exchangeAddress:l,value:c,transactionData:d,type:w});s.push(...y.transactions),i.push(...y.transactionTypes),u.push({sellToken:p,buyToken:g,approvalMetadata:m}),2==y.transactionTypes.length&&y.transactionTypes.find((e=>e.includes("approval")))&&u.push({sellToken:p,buyToken:g,approvalMetadata:m})}return{type:"evm",transactions:s,transactionTypes:i,transactionPairs:u}}));if(r.Chains.isSolanaNetworkID(e))return(e=>S(void 0,void 0,void 0,(function*(){const n=e.steps.reduce(((e,n)=>{const{transactionData:t,sellToken:o,buyToken:a}=n,s=0===r.Chains.compareNetworkID(o.chainId,a.chainId)?"swap":"bridge",i=[...e.transactions],u=[...e.transactionTypes],l=[...e.transactionPairs];return i.push(t),u.push(s),l.push({sellToken:o,buyToken:a}),{transactions:i,transactionTypes:u,transactionPairs:l}}),{transactions:[],transactionTypes:[],transactionPairs:[]});return Object.assign({type:"solana"},n)})))(a);throw new Error(`Bridge quote not supported for network ID ${e}`)}throw new Error("Swap quote type not supported")}))}})}})),a.register("bz65k",(function(n,t){e(n.exports,"isBridgeQuote",(function(){return r})),e(n.exports,"isSolanaSwapQuote",(function(){return s})),e(n.exports,"isEvmSwapQuote",(function(){return i})),e(n.exports,"isSingleNetworkSwapQuote",(function(){return u}));var o=a("uleZn");function r(e){return o.BridgeQuote.safeParse(e).success}function s(e){return o.SolanaSwapQuote.safeParse(e).success}function i(e){return o.EvmSwapQuote.safeParse(e).success}function u(e){return s(e)||i(e)}})),a.register("9eH52",(function(t,o){e(t.exports,"useBridgeRefuelProps",(function(){return d}));var r=a("belzv"),s=a("4QHep"),i=a("4y59b"),u=a("3yHS8"),l=a("lmbzb"),c=a("l2d9C");const d=({fungibleHooks:e,priceHooks:t,analytics:o})=>{const{isFetchingQuote:a}=(0,l.useQuote)(),{refuelEnabled:d,setRefuelEnabled:p,refuelAmount:g,uiRefuelAmount:m,buyNativeToken:{symbol:S,balance:f,decimals:w,chain:y}}=(0,c.useSwapRefuelProps)({fungibleHooks:e,analytics:o}),v=y?(0,r.getNativeFungibleCaip19ForChain)(y):void 0,{data:b}=t.usePrice({query:v?{data:v}:void 0});let h="";if((null==b?void 0:b.usd)&&g&&w){const e=(0,s.assetToDollars)((0,i.amountToUiAmount)(new(n(u))(g),w).toNumber(),b.usd);h=(0,i.formatDollarAmount)(e)}return{symbol:S,balance:f,refuelAmount:g,uiRefuelAmount:m,estimatedCost:h,refuelEnabled:d,setRefuelEnabled:p,isFetchingQuote:a}}})),a.register("lmbzb",(function(n,t){e(n.exports,"useQuote",(function(){return s}));var o=a("lDSNw"),r=a("jG6nq");function s(){var e,n;const t=(0,r.useSwapperStore)((e=>e.multichainQuoteResponse)),a=(0,r.useSwapperStore)((e=>e.hasNoRoutes)),s=(0,r.useSwapperStore)((e=>e.selectedProviderIndex)),i=(0,r.useSwapperStore)((e=>e.isFetchingQuote)),u=(0,o.useMemo)((()=>t?t.quotes:[]),[t]),l=u.length>0?u[s]:void 0;return{bestBuyAmount:null!==(n=null===(e=u[0])||void 0===e?void 0:e.buyAmount)&&void 0!==n?n:"",currentQuote:l,hasNoRoutes:a,multichainQuoteResponse:t,quotes:u,selectedProviderIndex:s,isFetchingQuote:i}}})),a.register("l2d9C",(function(n,t){e(n.exports,"useSwapRefuelProps",(function(){return m}));var o=a("belzv"),r=a("gYh0e"),s=a("lMzyG"),i=a("4y59b"),u=a("lDSNw"),l=a("jG6nq"),c=a("4crE8"),d=a("bz65k"),p=a("9W4OB"),g=a("lmbzb");const m=({fungibleHooks:e,analytics:n})=>{var t,a;const{currentQuote:m}=(0,g.useQuote)(),S=(0,p.useIsRefuelSupported)({fungibleHooks:e}),f=(0,l.useSwapperStore)((e=>e.buyFungible)),w=null==f?void 0:f.data.chain.id,{fungible:y}=e.useGetFungibleBalance({key:w?(0,r.networkIdToNativeTokenFungibleKey)(w):void 0}),v=w?o.Chains.getTokenSymbol(w):"",b=null!==(t=null==y?void 0:y.data.decimals)&&void 0!==t?t:0,h=w?o.Chains.getChainID(w):void 0,k=(0,l.useSwapperStore)((e=>e.refuelEnabled)),T=(0,l.useSwapperStore)((e=>e.setRefuelEnabled)),A=(0,u.useCallback)((e=>{n.capture("swapperRefuelToggle",{data:{value:e}}),T(e)}),[T,n]),E=(0,d.isBridgeQuote)(m)?m.refuelAmount:void 0,F=E?`${(0,i.amountToFormattedAmount)(null!=E?E:0,b)} ${v}`:void 0,I=(0,i.amountToFormattedAmount)(null!==(a=null==y?void 0:y.data.amount)&&void 0!==a?a:0,b),C=(0,c.shouldShowRefuelOption)(S,k,E);return{label:s.i18next.t("bridgeRefuelTitle"),refuelSupported:S,refuelEnabled:k,setRefuelEnabled:A,refuelAmount:E,uiRefuelAmount:F,showRefuelOption:C,buyNativeToken:{chain:h,symbol:v,balance:I,decimals:b}}}})),a.register("4crE8",(function(n,t){e(n.exports,"shouldShowRefuelOption",(function(){return o}));const o=(e,n,t)=>!(!e||n&&!t)})),a.register("9W4OB",(function(t,o){e(t.exports,"useIsRefuelSupported",(function(){return p}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8"),u=a("lDSNw"),l=a("jG6nq"),c=a("oo4df"),d=a("eCE6v");const p=({fungibleHooks:e})=>{const[t,o]=(0,u.useState)(!1),a=(0,l.useSwapperStore)((e=>e.sellFungible)),p=(0,l.useSwapperStore)((e=>e.buyFungible)),g=null==p?void 0:p.data.chain.id,m=(0,d.isBridgeSwap)(null==a?void 0:a.data.chain.id,null==p?void 0:p.data.chain.id),{fungible:S}=e.useGetFungibleBalance({key:g?(0,s.networkIdToNativeTokenFungibleKey)(g):void 0});return(0,u.useEffect)((()=>{var e;if(!S)return void o(!1);const t=c.DEFAULT_FEES[m?"bridge":"swap"][r.Chains.getChainID(S.data.chain.id)],a=new(n(i))(null!==(e=S.data.amount)&&void 0!==e?e:0).gte(t);o(m&&!a)}),[S,m,o]),t}})),a.register("oo4df",(function(t,o){e(t.exports,"DEFAULT_FEES",(function(){return c})),e(t.exports,"getMaxSellAmount",(function(){return p}));var r=a("belzv"),s=a("gYh0e"),i=a("4raQz"),u=a("4y59b"),l=a("3yHS8");const c={swap:{[r.Chain.Bitcoin]:new(n(l))(0),[r.Chain.Solana]:new(n(l))(3e6),[r.Chain.Ethereum]:new(n(l))(2.5*10**16),[r.Chain.Polygon]:new(n(l))(6*10**16)},bridge:{[r.Chain.Bitcoin]:new(n(l))(0),[r.Chain.Solana]:new(n(l))(3e6),[r.Chain.Ethereum]:new(n(l))(3.75*10**16),[r.Chain.Polygon]:new(n(l))(6*10**16)}},d=new(n(l))(356190);function p({sellFungible:e,totalFees:t,transactionSpeedsToUnitCost:o,isBridge:a=!1}){const{decimals:p,amount:g,chain:m}=e.data,S=new(n(l))(g);let f=c[a?"bridge":"swap"][r.Chains.getChainID(m.id)];const w=null==o?void 0:o[i.TransactionSpeed.standard];(0,i.isEvmTransactionUnitCost)(w)&&(f=d.multipliedBy(w.maxFeePerGas.plus(w.maxPriorityFeePerGas)));const y=(0,s.isNative)(e.type)?f:t,v=e&&(0,s.isNative)(e.type)&&S.gt(y)?S.minus(y).toString():S.toString();return(0,u.amountToUiAmountString)(v,p)}})),a.register("eCE6v",(function(n,t){e(n.exports,"isBridgeSwap",(function(){return r}));var o=a("belzv");const r=(e,n)=>!!e&&!!n&&0!==o.Chains.compareNetworkID(e,n)})),a.register("lw9RP",(function(n,t){e(n.exports,"useCanSwapWithNetworkID",(function(){return r})),e(n.exports,"getCanSwapWithNetworkID",(function(){return s}));var o=a("a2OUs");const r=({networkID:e,accountHooks:n})=>{const t=(0,o.useSupportedNetworkIDs)({accountHooks:n});return!!e&&t.includes(e)},s=({account:e,networkID:n})=>{const t=(0,o.getSupportedNetworkIDs)(e);return!!n&&t.includes(n)}})),a.register("a2OUs",(function(n,t){e(n.exports,"useSupportedNetworkIDs",(function(){return s})),e(n.exports,"getSupportedNetworkIDs",(function(){return i}));var o=a("belzv"),r=a("lDSNw");const s=({accountHooks:e})=>{const{data:n}=e.useSelectedMultiChainAccount();return(0,r.useMemo)((()=>i(n)),[n])},i=e=>{var n;return[...new Set((null!==(n=null==e?void 0:e.addresses)&&void 0!==n?n:[]).map((e=>e.networkID)).filter((e=>o.SolanaNetworkID.Mainnet===e||o.EthereumNetworkID.Mainnet===e||o.PolygonNetworkID.Mainnet===e)))]}})),a.register("lGEUK",(function(n,t){e(n.exports,"useInitialAssets",(function(){return S}));var o=a("belzv"),r=a("gYh0e"),s=a("4y59b"),i=a("lDSNw"),u=a("54Hrp"),l=a("jG6nq"),c=a("c9ZwG"),d=a("34pzM"),p=a("bJqn7");const g=e=>{if(e)try{return(0,o.decodeCaip19)(e)}catch(e){return}},m=(e,n)=>{const t=(0,r.getFungibleTokenTypeFromFungibleCaip19)(n);return e.find((e=>{if((0,r.isNative)(t)&&t===e.type)return!0;if(n.resourceType===o.Caip19ResourceType.address){const t=(0,r.parseFungibleKey)(e);return(0,o.isEvmCaip19Address)(n)?(0,s.equalsIgnoringCase)(n.address,t):n.address===t}}))};function S({paramsSellFungible:e,paramsSellAmount:n,paramsBuyFungible:t,enableNativeBridgePairs:o,accountHooks:a,fungibleHooks:s,getApiEnvironment:S}){const f=(0,i.useMemo)((()=>g(e)),[e]),w=(0,i.useMemo)((()=>g(t)),[t]),y=n,[v,b]=(0,i.useState)(!1),[h,k]=(0,i.useState)(!1),{data:T}=a.useSelectedMultiChainAccount(),{assets:A,isLoading:E}=(0,p.useSwapSellAssetList)({fungibleHooks:s}),{assets:F,isLoading:I}=(0,d.useSwapBuyAssetList)({fungibleHooks:s,accountHooks:a,getApiEnvironment:S,enableNativeBridgePairs:o,enableQuery:!!w}),C=(0,c.useInitialSellFungible)({accountHooks:a}),N=(0,l.useSwapperStore)((e=>e.setBuyFungible)),x=(0,l.useSwapperStore)((e=>e.setSellFungible)),D=(0,l.useSwapperStore)((e=>e.setUiSellAmount)),P=(0,l.useSwapperStore)((e=>e.setSellAmount));(0,i.useEffect)((()=>{x(void 0),b(!1),N(void 0),k(!1)}),[f,w,x,N,null==T?void 0:T.identifier]),(0,i.useEffect)((()=>{if(v)return;let e;if(f){if(E)return;e=m(A,f),e||((0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(f))?e=u.CHAIN_TO_NATIVE_FUNGIBLE.get(f.chainId):w&&w.chainId===f.chainId&&(e=(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(w))?u.CHAIN_TO_USDC_FUNGIBLE.get(w.chainId):u.CHAIN_TO_NATIVE_FUNGIBLE.get(w.chainId)))}else e=!f&&w?(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(w))?u.CHAIN_TO_USDC_FUNGIBLE.get(w.chainId):u.CHAIN_TO_NATIVE_FUNGIBLE.get(w.chainId):C;b(!0),x(e)}),[f,w,C,A,x,E,v]),(0,i.useEffect)((()=>{if(h)return;let e;if(w){if(I)return;e=m(F,w),!e&&(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(w))&&(e=u.CHAIN_TO_NATIVE_FUNGIBLE.get(w.chainId))}k(!0),N(e)}),[w,F,I,N,h]),(0,i.useEffect)((()=>{y&&(P(y),D(y))}),[y,D,P]);return{isLoading:!(!f&&!w||h&&v)}}})),a.register("c9ZwG",(function(n,t){e(n.exports,"useInitialSellFungible",(function(){return s}));var o=a("lDSNw"),r=a("bE1j2");const s=({accountHooks:e})=>{const n=e.useSelectedNetworks();return(0,o.useMemo)((()=>(0,r.getInitialSellFungible)(n)),[n])}})),a.register("bE1j2",(function(n,t){e(n.exports,"getInitialSellFungible",(function(){return r}));var o=a("54Hrp");const r=e=>{var n;return 0===e.length?o.INITIAL_SELL_FUNGIBLE:null!==(n=o.CHAIN_TO_NATIVE_FUNGIBLE.get(e[0]))&&void 0!==n?n:o.INITIAL_SELL_FUNGIBLE}})),a.register("34pzM",(function(n,t){e(n.exports,"useSwapBuyAssetList",(function(){return g}));var o=a("belzv"),r=a("gYh0e"),s=a("lDSNw"),i=a("54Hrp"),u=a("LF6im"),l=a("jG6nq"),c=a("eJHvJ"),d=a("a2OUs"),p=a("5WyUW");function g({fungibleHooks:e,accountHooks:n,getApiEnvironment:t,enableNativeBridgePairs:a,enableQuery:g=!0}){var m,S,f;const w=(0,l.useSwapperStore)((e=>e.sellFungible)),{fungibles:y,isLoadingTokens:v,isRefetchingTokens:b,tokensError:h}=e.useGetFungibleBalances(),k=(0,p.useSwapAssetCaip19)(w),{data:T}=n.useSelectedChainAddress({address:null===(m=null==w?void 0:w.data)||void 0===m?void 0:m.walletAddress,networkID:null===(S=null==w?void 0:w.data)||void 0===S?void 0:S.chain.id}),A=null!==(f=null==T?void 0:T.address)&&void 0!==f?f:"",E=(0,d.useSupportedNetworkIDs)({accountHooks:n}),{data:F=[],isLoading:I,error:C}=(0,u.useSwapPairs)({sellToken:k,supportedNetworkIDs:E,enableNativeBridgePairs:a,getApiEnvironment:t,enableQuery:g}),N=(0,s.useMemo)((()=>new Map(y.map((e=>[(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(e)),e])))),[y]),x=(0,s.useMemo)((()=>{if(0===F.length)return[];return F.reduce(((e,n)=>{let t="";const a=(0,c.swapTokenToFungible)(n,A);let s;n.resourceType===o.Caip19ResourceType.address&&n.address===i.WRAPPED_SOLANA_ADDRESS?t=(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(o.Chains.solana.mainnetID))):n.resourceType===o.Caip19ResourceType.nativeToken?t=(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(n.chainId))):a&&(t=(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(a)));const u=N.get(t);return s=u&&u.data.balance?u:a,s&&e.push(s),e}),[])}),[N,F,A]);return(0,s.useMemo)((()=>({assets:x,initialFilterKey:null==w?void 0:w.data.chain.id,isLoading:v||I,isFetching:v||I||b,error:null!=h?h:C})),[x,v,I,b,h,C,w])}})),a.register("LF6im",(function(n,t){e(n.exports,"useSwapPairs",(function(){return c}),(function(e){return c=e})),e(n.exports,"prefetchSwapPairs",(function(){return d}),(function(e){return d=e}));var o=a("lNRH9"),r=a("iYZCj"),s=a("eVFQN"),i=a("1TYDM"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=e=>u(void 0,[e],void 0,(function*({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:o}){if(!e)throw new Error("missing sell token");const a=o();return(0,r.getSwapPairs)({apiEnv:a,sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t})})),c=({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,enableQuery:r=!0,getApiEnvironment:a})=>(0,o.useQuery)({queryKey:s.swapperQueryKeys.pairs(e,n,t),cacheTime:i.CacheTime.Short,staleTime:i.StaleTime.Short,enabled:!!e&&r,queryFn:()=>l({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:a})}),d=({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:o,queryClient:r})=>{r.prefetchQuery(s.swapperQueryKeys.pairs(e,n,t),(()=>l({sellToken:e,supportedNetworkIDs:n,enableNativeBridgePairs:t,getApiEnvironment:o})))}})),a.register("iYZCj",(function(n,t){e(n.exports,"getSwapPairs",(function(){return p}),(function(e){return p=e}));var o=a("belzv"),r=a("lMzyG"),s=a("8kIyR"),i=a("99TPq"),u=a("kfeLD"),l=a("2g1O7"),c=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const d="swap-pairs";function p(e){return c(this,arguments,void 0,(function*({apiEnv:e,sellToken:n,supportedNetworkIDs:t,enableNativeBridgePairs:a}){let c;try{(0,o.isEvmCaip19Address)(n)&&(n.address=n.address.toLowerCase());const r=`${e}/swap/v2/pairs`,i={tokens:[n],enableNativeBridgePairs:a,supportedNetworkIDs:t},p=yield s.rb.headers({"Content-Type":"application/json"}).post(r,i);return c=p.status,yield(0,u.handleBadResponse)(p,d),(0,l.parseSwapPairsResponse)(p.data)}catch(t){const o=t instanceof r.LocalizedError?t:new(0,r.LocalizedError);throw(0,i.captureClientError)(o,c,d,{apiEnv:e,sellToken:n}),o}}))}})),a.register("99TPq",(function(n,t){e(n.exports,"captureClientError",(function(){return i}));var o=a("lMzyG"),r=a("4yY1D");const s=["SwapperNoQuotes","UnsupportedCountry","UnknownError"],i=(e,n,t,a)=>{e instanceof o.LocalizedError&&s.includes(e.code)||(!n||n>=400&&n<500)&&(r.telemetry.addBreadcrumb(t,JSON.stringify(a),r.Severity.Info),r.telemetry.captureError(e,r.FeatureTag.Swapper))}})),a.register("kfeLD",(function(n,t){e(n.exports,"handleBadResponse",(function(){return l}),(function(e){return l=e}));var o=a("lMzyG"),r=a("8kIyR"),s=a("4yY1D"),i=a("uleZn"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=(e,n,...t)=>u(void 0,[e,n,...t],void 0,(function*(e,n,t){if((0,r.responseIsOkay)(e))return Promise.resolve();let a;try{a=e.data}catch(e){throw new(0,o.LocalizedError)({key:t})}const u=i.ErrorResponse.safeParse(a);if(u.success)throw s.telemetry.addBreadcrumb(n,JSON.stringify(u.data),s.Severity.Info),new(0,o.LocalizedError)({key:u.data.name});throw new(0,o.LocalizedError)({key:t})}))})),a.register("2g1O7",(function(n,t){e(n.exports,"parseSwapPairsResponse",(function(){return s}));var o=a("belzv"),r=a("uleZn");const s=e=>{var n;if(!e.tokens)return[];const t=[],a=Object.keys(e.tokens)[0];if(o.BRI.safeParse(a).success){(null!==(n=e.tokens[a])&&void 0!==n?n:[]).forEach((e=>{const n=r.SwapToken.safeParse(e);n.success&&t.push(n.data)}))}return t}})),a.register("eJHvJ",(function(t,o){e(t.exports,"swapTokenToFungible",(function(){return p}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8");const u={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},l={id:r.Chains.ethereum.mainnetID,imageUrl:r.Chains.ethereum.iconUrl,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol},c={id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},d=e=>e.resourceType===r.Caip19ResourceType.address?e.address:e.slip44,p=(e,t)=>{var o,a;const p={amount:"0",balance:new(n(i))(0),coingeckoId:null!==(a=null===(o=e.extensions)||void 0===o?void 0:o.coingeckoId)&&void 0!==a?a:null,decimals:e.decimals,key:d(e),logoUri:e.logoURI,mintAddress:d(e),name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:d(e),walletAddress:t,spamStatus:s.SpamStatus.NotVerified};if(e.chainId===r.NetworkIDs.Ethereum.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.EthereumNative,data:Object.assign(Object.assign({},p),{chain:l})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},p),{chain:l,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Polygon.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.PolygonNative,data:Object.assign(Object.assign({},p),{chain:c})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},p),{chain:c,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Solana.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.SolanaNative,data:Object.assign(Object.assign({},p),{chain:u})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.SPL,data:Object.assign(Object.assign({},p),{chain:u,mintAddress:e.address})}}return null}})),a.register("5WyUW",(function(n,t){e(n.exports,"useSwapAssetCaip19",(function(){return s}));var o=a("gYh0e"),r=a("lDSNw");function s(e){return(0,r.useMemo)((()=>void 0===e?void 0:(0,o.getFungibleCaip19FromFungible)(e)),[e])}})),a.register("bJqn7",(function(n,t){e(n.exports,"useSwapSellAssetList",(function(){return u}));var o=a("belzv"),r=a("lDSNw"),s=a("jG6nq"),i=a("ccoQE");function u({fungibleHooks:e}){const{fungibles:n,isLoadingTokens:t,tokensError:a}=e.useGetFungibleBalances(),u=n.filter((e=>o.Chains.isSolanaNetworkID(e.data.chain.id)||o.Chains.isEVMNetworkID(e.data.chain.id))),l=(0,s.useSwapperStore)((e=>e.sellFungible)),c=(0,r.useMemo)((()=>{if(l){const e=u.findIndex((e=>(0,i.areFungiblesEqual)(e,l))),n=u[e];n&&n.data.amount!==l.data.amount&&(u[e]=l)}return u.filter((e=>"0"!==e.data.amount))}),[u,l]);return(0,r.useMemo)((()=>({assets:c,isLoading:t,error:a})),[c,t,a])}})),a.register("ccoQE",(function(n,t){function o(e,n){return e.data.key===n.data.key}e(n.exports,"areFungiblesEqual",(function(){return o}))})),a.register("lU35F",(function(n,t){e(n.exports,"useLiveSwapBuyAssetList",(function(){return c}));var o=a("belzv"),r=a("gYh0e");a("4v8b1");var s=a("7qByQ"),i=a("lDSNw"),u=a("54Hrp"),l=a("jG6nq");function c({fungibleHooks:e,getApiEnvironment:n,enableQuery:t=!0}){var a;const[c,d]=(0,i.useState)(""),p=(0,l.useSwapperStore)((e=>e.sellFungible)),{fungibles:g,isLoadingTokens:m,isRefetchingTokens:S,tokensError:f}=e.useGetFungibleBalances(),{data:w=[],isFetching:y,error:v}=(0,s.useFungibleSearch)({query:c,networkId:null!==(a=null==p?void 0:p.data.chain.id)&&void 0!==a?a:o.Chains.solana.mainnetID,getApiEnvironment:n,enableQuery:t,includeBridgeableTokens:!0}),b=(0,i.useMemo)((()=>new Map(g.map((e=>[(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(e)),e])))),[g]),h=(0,i.useMemo)((()=>{if(0===w.length)return[];return w.reduce(((e,n)=>{let t,a="";a=n.type===r.FungibleTokenType.SPL&&n.data.mintAddress===u.WRAPPED_SOLANA_ADDRESS?(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(o.Chains.solana.mainnetID))):(0,r.isNative)(n.type)?(0,o.encodeCaip19)((0,o.getNativeFungibleCaip19ForChain)(o.Chains.getChainID(n.data.chain.id))):(0,o.encodeCaip19)((0,r.getFungibleCaip19FromFungible)(n));const s=b.get(a);return t=s&&s.data.balance?s:n,t&&e.push(t),e}),[])}),[b,w]);return(0,i.useMemo)((()=>({assets:h,initialFilterKey:null==p?void 0:p.data.chain.id,isLoading:m||y,isFetching:m||y||S,error:null!=f?f:v,setSearchQuery:d})),[h,m,y,S,f,v,p])}})),a.register("4v8b1",(function(n,t){e(n.exports,"useFungibleSearch",(function(){return a("7qByQ").useFungibleSearch}));a("7qByQ"),a("kIUWQ")})),a.register("7qByQ",(function(n,t){e(n.exports,"useFungibleSearch",(function(){return c}),(function(e){return c=e}));var o=a("lNRH9"),r=a("9RBAX"),s=a("kIUWQ"),i=a("9oRjh"),u=a("8o5u2"),l=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const c=({query:e,networkId:n,includeBridgeableTokens:t,enableQuery:a=!0,getApiEnvironment:c})=>{const d=c(),p=i.searchQueryKeys.searchResults(e,n,d);return(0,o.useQuery)({queryKey:p,cacheTime:u.CacheTime.Medium,staleTime:u.StaleTime.Short,enabled:a,queryFn:()=>l(void 0,[{query:e,networkId:n,includeBridgeableTokens:t,apiEnv:d}],void 0,(function*({query:e,networkId:n,includeBridgeableTokens:t,apiEnv:o}){return(yield(0,r.getFungibleSearch)({apiEnv:o,query:e,networkId:n,includeBridgeableTokens:t})).results.map((e=>(0,s.searchResultToFungible)(e)))}))})}})),a.register("9RBAX",(function(n,t){e(n.exports,"getFungibleSearch",(function(){return u}),(function(e){return u=e}));var o=a("lMzyG"),r=a("8kIyR"),s=a("1lvUC"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function u(e){return i(this,void 0,void 0,(function*(){const{query:n,networkId:t,includeBridgeableTokens:a}=e,i=yield r.rb.headers({"Content-Type":"application/json"}).get("https://1l4zs1nyya.execute-api.us-east-1.amazonaws.com/test/search/v1",{params:{query:n,searchTypes:s.SearchAssetType.Fungible,chainIds:t,platform:"ios",pageSize:"50",includeBridgeableTokens:a?"true":"false"}});if(!(0,r.responseIsOkay)(i))throw new(0,o.LocalizedError)({key:"UnknownError"});const u=s.SearchResults.safeParse(i.data);if(u.success)return u.data;throw new(0,o.LocalizedError)({key:"UnknownError"})}))}})),a.register("1lvUC",(function(n,t){e(n.exports,"SearchAssetType",(function(){return o})),e(n.exports,"SearchResults",(function(){return u}));var o,r=a("gYh0e"),s=a("7pPsM");(o||(o={})).Fungible="fungible";const i=s.z.object({type:s.z.literal(o.Fungible),data:r.TokenMetadata}),u=s.z.object({results:s.z.array(i),total:s.z.optional(s.z.number()),prevCursor:s.z.string().nullable(),nextCursor:s.z.string().nullable(),hasMore:s.z.boolean()})})),a.register("kIUWQ",(function(n,t){e(n.exports,"searchResultToFungible",(function(){return r}));var o=a("gYh0e");const r=e=>{var n,t;const r=e.data,a=null!==(n=(0,o.getTokenAddressFromFungible)(r))&&void 0!==n?n:void 0;return{type:r.type,data:Object.assign(Object.assign({},r.data),{tokenAddress:null!==(t=(0,o.getTokenAddressFromFungible)(r))&&void 0!==t?t:void 0,key:a})}}})),a.register("9oRjh",(function(n,t){e(n.exports,"searchQueryKeys",(function(){return o}));const o={searchResults:(e,n,t)=>["search",{query:e,networkId:n,apiEnv:t}]}})),a.register("8o5u2",(function(n,t){e(n.exports,"CacheTime",(function(){return o})),e(n.exports,"StaleTime",(function(){return s}));var o,r,s,i,u,l,c=a("4y59b");(r=o||(o={}))[r.Always=1/0]="Always",r[r.Short=(0,c.toMilliseconds)({days:1})]="Short",r[r.Medium=(0,c.toMilliseconds)({days:3})]="Medium",r[r.Long=(0,c.toMilliseconds)({days:7})]="Long",(i=s||(s={}))[i.Immediate=0]="Immediate",i[i.Short=(0,c.toMilliseconds)({minutes:1})]="Short",i[i.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",i[i.Long=(0,c.toMilliseconds)({minutes:60})]="Long",i[i.Never=1/0]="Never",(l=u||(u={}))[l.Short=(0,c.toMilliseconds)({seconds:20})]="Short",l[l.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",l[l.Long=(0,c.toMilliseconds)({minutes:5})]="Long"})),a.register("95lE3",(function(n,t){e(n.exports,"useSlippageSettingsViewState",(function(){return g}));var o=a("lMzyG"),r=a("4y59b"),s=a("lDSNw"),i=a("eVFQN"),u=a("iMLb9");const l=[.3,.5,1],c=[...l.map((e=>`${e}%`)),"custom"],d=c.length-1,p=(e,n)=>{if(!e)return;const t=parseFloat(e);return isNaN(t)?{message:n("swapSlippageSettingsCustomInvalidValue"),severity:"critical"}:t>30?{message:n("swapSlippageSettingsCustomMaxError",{maxSlippage:30}),severity:"critical"}:t>1?{message:n("swapSlippageSettingsHighSlippageWarning"),severity:"warning"}:t<.1?{message:n("swapSlippageSettingsCustomMinError",{minSlippage:.1}),severity:"critical"}:void 0},g=({analytics:e,storage:n,onDismiss:t})=>{const{t:a}=(0,o.useTranslation)(),{data:g,isFetched:m}=(0,u.useSwapStorageValue)({storage:n,key:u.StorageKeySwapper.SlippageTolerance,queryKey:i.swapperQueryKeys.slippageTolerance()}),{mutateAsync:S}=(0,u.useSetSwapStorageValue)({storage:n,key:u.StorageKeySwapper.SlippageTolerance,queryKey:i.swapperQueryKeys.slippageTolerance()}),[f,w]=(0,s.useState)(!1),[y,v]=(0,s.useState)(0),[b,h]=(0,s.useState)(),[k,T]=(0,s.useState)(""),[A,E]=(0,s.useState)(),F=y===d,I="critical"===(null==A?void 0:A.severity)||F&&!k,C=(0,s.useCallback)((e=>{y!==e&&(E(void 0),v(e),l[e]?(h(l[e]),T("")):h(void 0))}),[y]),N=(0,s.useCallback)((e=>{const n=(0,r.formatTokenAmountInputs)(e.substring(0,5)),t=(0,r.formatTokenAmountToMaxDecimals)(n,2),o=parseFloat(t);if(isNaN(o))return E(void 0),void T("");T(t),E(p(t,a))}),[a]),x=(0,s.useCallback)((()=>{if(F){const n=parseFloat(null!=k?k:"");S(n),e.capture("slippageChanged",{data:{slippageValue:n,slippageType:"custom"}}),h(void 0)}else b&&(S(b),e.capture("slippageChanged",{data:{slippageValue:b,slippageType:"preset"}}),T(""));t()}),[e,F,k,t,b,S]),D=(0,s.useCallback)((()=>{const e=(e=>e&&-1!==l.indexOf(e)?l.indexOf(e):e?d:0)(g),n=(e=>e&&-1===l.indexOf(e)?`${e}`:"")(g);v(e),h(l[e]),T(n),E(p(n,a))}),[g,a]),P=(0,s.useMemo)((()=>({title:a("swapSlippageSettingsTitle"),subtitle:a("swapSlippageSettingsSubtitle",{minSlippage:.1,maxSlippage:30}),custom:a("swapSlippageSettingsCustom"),button:a("commandConfirm")})),[a]);return(0,s.useEffect)((()=>{!f&&m&&(D(),w(!0))}),[m,f,D]),{options:c,selectedIndex:y,customSlippageValue:k,i18nStrings:P,error:A,submitDisabled:I,onConfirm:x,onDismiss:t,onSelectOption:C,onChangeCustomSlippage:N,onResetToDefault:D}}})),a.register("eTLWL",(function(n,t){e(n.exports,"useSubscribeGasEstimation",(function(){return i}));var o=a("lDSNw"),r=a("jG6nq"),s=a("jMN3L");function i({accountHooks:e,transactionHooks:n,simulationHooks:t,priorityFeeService:a}){const i=(0,r.useSwapperStore)((e=>e.setGasEstimation)),u=(0,r.useSwapperStore)((e=>e.setIsFetchingGasEstimation)),l=(0,r.useSwapperStore)((e=>e.setMaxGasEstimation)),c=(0,r.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),{gasEstimation:d,isFetching:p}=(0,s.useSwapGasEstimation)({accountHooks:e,transactionHooks:n,simulationHooks:t,priorityFeeService:a}),{gasEstimation:g}=(0,s.useSwapGasEstimation)({accountHooks:e,transactionHooks:n,priorityFeeService:a,simulationHooks:t,includeGasBuffer:!0});(0,o.useEffect)((()=>{c?(u(p),i(d),l(g)):u(!1)}),[c,i,l,u,d,g,p])}})),a.register("jMN3L",(function(t,o){e(t.exports,"useSwapGasEstimation",(function(){return w}));var r=a("belzv"),s=a("gd9Oy"),i=a("4raQz"),u=a("3yHS8"),l=a("lDSNw"),c=a("fJPlc"),d=a("jG6nq"),p=a("bz65k"),g=a("eX6hk"),m=a("c9ZwG"),S=a("lmbzb");const f=e=>{switch(e){case r.NetworkIDs.Ethereum.Mainnet:case r.NetworkIDs.Ethereum.Goerli:case r.NetworkIDs.Ethereum.Sepolia:return 8e5;case r.NetworkIDs.Polygon.Mainnet:case r.NetworkIDs.Polygon.Mumbai:return 5e5;default:return 0}},w=({accountHooks:e,transactionHooks:t,simulationHooks:o,priorityFeeService:a,includeGasBuffer:w=!1})=>{var y,v,b;const{currentQuote:h,multichainQuoteResponse:k}=(0,S.useQuote)(),T=(0,m.useInitialSellFungible)({accountHooks:e}),A=null!==(y=(0,d.useSwapperStore)((e=>e.sellFungible)))&&void 0!==y?y:T,E=null!==(v=null==A?void 0:A.data.chain.id)&&void 0!==v?v:r.NetworkIDs.Solana.Mainnet,{data:F}=e.useSelectedChainAddress({address:A.data.walletAddress,networkID:A.data.chain.id}),I=null!==(b=null==F?void 0:F.address)&&void 0!==b?b:"",{data:C}=t.useEthereumGasEstimation({networkID:r.Chains.isEVMNetworkID(E)?E:r.NetworkIDs.Ethereum.Mainnet,transactionSpeed:i.TransactionSpeed.standard,gasLimit:new(n(u))(1),refetchInterval:2e4}),{data:N,isFetching:x}=(0,c.useSwapTransactions)({transactionHooks:t,priorityFeeService:a,callerAddress:I,sellFungible:A,quote:h});let D=null;"evm"===(null==N?void 0:N.type)&&r.Chains.isEVMNetworkID(E)&&(D={networkID:E,url:"https://phantom.app",userAccount:I,transactions:N.transactions});const P=o.useScanTransaction({label:"useSwapGasEstimation",params:D}),R=P.data,{data:M,isFetching:H}=(0,g.useEstimateSolanaNetworkFee)({swapTransactions:N,chainId:r.Chains.isSolanaNetworkID(E)?E:r.NetworkIDs.Solana.Mainnet}),z=(0,l.useMemo)((()=>{if(r.Chains.isEVMNetworkID(E)&&((0,p.isEvmSwapQuote)(h)||(0,p.isBridgeQuote)(h))&&C){const{maxFeePerGas:t,maxPriorityFeePerGas:o}=C;let r=(0,p.isEvmSwapQuote)(h)?[h.gas]:(e=E,h.steps.flatMap((n=>{var t;return null!==(t=n.gasCosts)&&void 0!==t?t:[f(e)]})));if((null==R?void 0:R.chainType)===s.AddressType.EVM){const e=R.evaluation.gas;if(e){const n=e.map((e=>{var n;return null!==(n=parseInt(e,10))&&void 0!==n?n:0}));e.reduce(((e,n)=>e+parseInt(n,10)),0)>0&&(r=n)}}return r.map((e=>{var r;return{maxFeePerGas:t,maxPriorityFeePerGas:o,networkID:E,gasLimit:new(n(u))(e).multipliedBy(w?null!==(r=null==k?void 0:k.gasBuffer)&&void 0!==r?r:1.3:1).integerValue(n(u).ROUND_CEIL)}}))}var e;if(r.Chains.isSolanaNetworkID(E)&&void 0!==M)return M.map((e=>({networkID:E,value:e})))}),[E,h,C,M,R,k,w]),Q=H||x||P.isFetching;return(0,l.useMemo)((()=>({gasEstimation:z,isFetching:Q,isError:void 0===C})),[z,Q,C])}})),a.register("eX6hk",(function(n,t){e(n.exports,"useEstimateSolanaNetworkFee",(function(){return c}),(function(e){return c=e}));var o=a("3fvLJ"),r=a("4raQz"),s=a("lNRH9"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const u="swap-priority-fee",l=(e,n)=>i(void 0,void 0,void 0,(function*(){const t=(0,o.transactionStringToTransaction)(e,"bs58");return{networkFeeEstimation:yield(0,r.estimateFeeFromMessages)(n,[t.message])}}));function c({swapTransactions:e,chainId:n}){const t=[u,e],o=!!e&&e.transactions.length>0&&"solana"===e.type&&!!n;return(0,s.useQuery)({queryKey:t,queryFn:()=>i(this,void 0,void 0,(function*(){if(!e)throw new Error("No swap transactions");if("solana"!==e.type)throw new Error("Trying estimate network fee for non-solana txs");if(!n)throw new Error("Trying to execute swap with no chain id.");try{const t=e.transactions.map((e=>l(e,n))),o=yield Promise.all(t);return o.map((e=>e.networkFeeEstimation.value))}catch(e){return[0]}})),enabled:o})}})),a.register("eeS7y",(function(t,o){e(t.exports,"useSubscribeSwapQuoteToQueries",(function(){return v}));var r=a("lMzyG"),s=a("4y59b"),i=a("3yHS8"),u=a("lDSNw"),l=a("2haBb"),c=a("54Hrp"),d=a("eVFQN"),p=a("8a56b"),g=a("iMLb9"),m=a("jG6nq"),S=a("eCE6v"),f=a("83P7Y"),w=a("9W4OB"),y=a("5WyUW");function v({accountHooks:e,fungibleHooks:t,priceHooks:o,skipInitialBuyFungible:a,getApiEnvironment:v,analytics:b,storage:h}){var k,T;const A=(0,m.useSwapperStore)((e=>e.sellAmount)),E=(0,m.useSwapperStore)((e=>e.buyFungible)),F=null!=E?E:a?void 0:c.INITIAL_BUY_FUNGIBLE,I=(0,y.useSwapAssetCaip19)(F),C=(0,m.useSwapperStore)((e=>e.sellFungible)),N=(0,m.useSwapperStore)((e=>e.refuelEnabled)),x=(0,m.useSwapperStore)((e=>e.setRefuelEnabled)),D=(0,y.useSwapAssetCaip19)(C),P=(0,m.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),R=(0,m.useSwapperStore)((e=>e.resetQuote)),M=(0,m.useSwapperStore)((e=>e.setHasNoRoutes)),H=(0,m.useSwapperStore)((e=>e.setError)),z=(0,m.useSwapperStore)((e=>e.setIsFetchingQuote)),Q=(0,m.useSwapperStore)((e=>e.setMultichainQuoteResponse)),B=(0,m.useSwapperStore)((e=>e.setSelectedProviderIndex)),{data:U}=(0,g.useSwapStorageValue)({storage:h,key:g.StorageKeySwapper.SlippageTolerance,queryKey:d.swapperQueryKeys.slippageTolerance()}),{mutateAsync:G}=(0,g.useSetSwapStorageValue)({storage:h,key:g.StorageKeySwapper.SlippageTolerance,queryKey:d.swapperQueryKeys.slippageTolerance()}),O=(0,w.useIsRefuelSupported)({fungibleHooks:t});(0,u.useEffect)((()=>x(O)),[O,F,x]);const L=(0,f.useHasSwapMinimumSellAmount)(o),q=n(l)(L),j=(0,u.useMemo)((()=>new(n(i))(A).isGreaterThan(0)&&C?(0,s.uiAmountToAmount)(A,C.data.decimals).toString():(R(),"")),[R,A,C]),_=(0,S.isBridgeSwap)(null===(k=null==C?void 0:C.data)||void 0===k?void 0:k.chain.id,null==F?void 0:F.data.chain.id);(0,u.useEffect)((()=>{_&&b.capture("swapperRefuelDefault",{data:{default:O}})}),[O,b,_]);const{data:V}=e.useSelectedChainAddress(null===(T=null==C?void 0:C.data)||void 0===T?void 0:T.chain.id),{data:K}=e.useSelectedChainAddress(null==F?void 0:F.data.chain.id),$=(0,u.useMemo)((()=>V?{chainId:V.networkID,address:V.address,resourceType:"address"}:{}),[V]),Y=(0,u.useMemo)((()=>{if(_)return{chainId:null==K?void 0:K.networkID,address:null==K?void 0:K.address,resourceType:"address"}}),[_,null==K?void 0:K.address,null==K?void 0:K.networkID]),{data:W,error:Z,isFetching:J}=(0,p.useSwapQuotes)({sellToken:D,buyToken:I,taker:$,takerDestination:Y,sellAmount:L?j:"",slippageTolerance:null!=U?U:void 0,refuelEnabled:N,getApiEnvironment:v,analytics:b}),X=(0,u.useCallback)((e=>{H(null),B(0),z(!1),M(!1),Q(e),U||G(e.slippageTolerance)}),[H,M,z,Q,B,G,U]),ee=(0,u.useCallback)((e=>{R(),z(!1),M(!0),H(e)}),[R,H,M,z]);(0,u.useEffect)((()=>{P&&(J?z(!0):W?X(W):Z&&ee(Z))}),[Z,W,J,X,ee,z,P,L]),(0,u.useEffect)((()=>{L?!1===q&&L&&(H(null),M(!1)):(H(new(0,r.LocalizedError)({key:"InsufficientSellAmount"})),M(!0))}),[L,q,H,M])}})),a.register("2haBb",(function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=a("lDSNw");e.exports.default=function(e){var n=t.useRef();return t.useEffect((function(){n.current=e})),n.current}})),a.register("8a56b",(function(n,t){e(n.exports,"useSwapQuotes",(function(){return l}),(function(e){return l=e}));var o=a("lNRH9"),r=a("2EqRO"),s=a("eVFQN"),i=a("1TYDM"),u=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const l=({sellToken:e,buyToken:n,taker:t,takerDestination:a,sellAmount:l,slippageTolerance:c,refuelEnabled:d,getApiEnvironment:p,analytics:g})=>{const m=!!l&&!!n&&!!e,S=s.swapperQueryKeys.quotes(e,n,t,l,c,d,a);return(0,o.useQuery)({queryKey:S,enabled:m,cacheTime:0,staleTime:0,refetchInterval:i.RefetchInterval.Short,queryFn(e){return u(this,arguments,void 0,(function*({queryKey:[,,{sellToken:e,buyToken:n,taker:t,sellAmount:o,slippageTolerance:s}],signal:i}){if(!o||!n||!e)throw new Error("missing necessary args");const u=p(),l=yield(0,r.getSwapQuotes)({apiEnv:u,sellToken:e,buyToken:n,taker:t,takerDestination:a,sellAmount:o,slippageTolerance:s,refuelEnabled:d,signal:i});return g.capture("swapperQuotesResult",{data:{numQuotes:l.quotes.length,sellToken:e,fromNetworkId:e.chainId,toNetworkId:n.chainId}}),l}))}})}})),a.register("2EqRO",(function(n,t){e(n.exports,"getSwapQuotes",(function(){return p}),(function(e){return p=e}));var o=a("belzv"),r=a("lMzyG"),s=a("8kIyR"),i=a("99TPq"),u=a("kfeLD"),l=a("bYjFX"),c=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const d="swap-quotes";function p(e){return c(this,arguments,void 0,(function*({apiEnv:e,sellToken:n,buyToken:t,taker:a,takerDestination:c,sellAmount:p,slippageTolerance:g,refuelEnabled:m,signal:S}){let f;try{(0,o.isEvmCaip19Address)(a)&&(a.address=a.address.toLowerCase()),c&&(0,o.isEvmCaip19Address)(c)&&(c.address=c.address.toLowerCase()),(0,o.isEvmCaip19Address)(t)&&(t.address=t.address.toLowerCase()),(0,o.isEvmCaip19Address)(n)&&(n.address=n.address.toLowerCase());const r=`${e}/swap/v2/quotes`,i=Object.assign({sellToken:n,buyToken:t,taker:a,takerDestination:c,sellAmount:p,slippageTolerance:g},m?{refuel:1,ignoreRefuelFailures:!0}:{}),w=yield s.rb.post(r,i,{signal:S});return f=w.status,yield(0,u.handleBadResponse)(w,d,"SwapperNoQuotes"),(0,l.parseSwapQuotesResponse)(w.data,m)}catch(o){const a=o instanceof r.LocalizedError?o:new(0,r.LocalizedError);throw(0,i.captureClientError)(a,f,d,{apiEnv:e,sellToken:n,buyToken:t,sellAmount:p,slippageTolerance:g}),a}}))}})),a.register("bYjFX",(function(n,t){e(n.exports,"parseSwapQuotesResponse",(function(){return s}));var o=a("lMzyG"),r=a("uleZn");const s=(e,n)=>{const t=new(0,o.LocalizedError)({key:"SwapperNoQuotes"});if(!1===r.QuoteType.safeParse(null==e?void 0:e.type).success)throw new Error("Invalid input");const a=r.SwapperQuoteResponse.safeParse(e);if(!a.success)throw t;if(0===a.data.quotes.length){if(n)throw new(0,o.LocalizedError)({key:"SwapperRefuelNoQuotes"});throw t}return a.data}})),a.register("83P7Y",(function(n,t){e(n.exports,"useHasSwapMinimumSellAmount",(function(){return l}));var o=a("belzv"),r=a("gYh0e"),s=a("4QHep"),i=a("jG6nq");const u={[o.Chain.Bitcoin]:0,[o.Chain.Solana]:0,[o.Chain.Ethereum]:20,[o.Chain.Polygon]:0},l=e=>{const n=(0,i.useSwapperStore)((e=>e.sellFungible)),t=(0,i.useSwapperStore)((e=>e.buyFungible)),a=(0,i.useSwapperStore)((e=>e.sellAmount)),l=n?(0,r.getFungibleCaip19FromFungible)(n):null,{data:c}=e.usePrice({query:l?{data:l}:void 0}),d=null==n?void 0:n.data.chain.id,p=null==t?void 0:t.data.chain.id,g=null==c?void 0:c.usd;if(!(d&&p&&a&&g&&0!==o.Chains.compareNetworkID(d,p)))return!0;const m=(0,s.assetToDollars)(Number(a),g),S=u[o.Chains.getChainID(d)],f=u[o.Chains.getChainID(p)];return S<=m&&f<=m}})),a.register("aqhqo",(function(n,t){e(n.exports,"useSwapBuyAssetProps",(function(){return g}));var o=a("belzv"),r=a("gYh0e"),s=a("lMzyG"),i=a("4QHep"),u=a("4y59b"),l=a("jG6nq"),c=a("3Ywqm"),d=a("lmbzb");const p={chainId:o.NetworkIDs.Solana.Mainnet,slip44:o.Slip44.Solana,resourceType:o.Caip19ResourceType.nativeToken};function g({isSingleChainEnabled:e,priceHooks:n,analytics:t}){var a,g,m,S,f;const{t:w}=(0,s.useTranslation)(),y=(0,l.useSwapperStore)((e=>e.buyFungible)),v=(0,l.useSwapperStore)((e=>e.isFetchingQuote)),b=null!==(a=null==y?void 0:y.data.decimals)&&void 0!==a?a:0,h=null==y?void 0:y.data.chain.id,k=null!==(g=null==y?void 0:y.data.symbol)&&void 0!==g?g:"",T=null==y?void 0:y.type,A=null!==(m=null==y?void 0:y.data.logoUri)&&void 0!==m?m:"",E=null!==(S=null==y?void 0:y.data.tokenAddress)&&void 0!==S?S:"",F=null==y?void 0:y.data.chain,I=null!==(f=null==y?void 0:y.data.name)&&void 0!==f?f:"",C=e||T&&(0,r.isNative)(T)?null!=k?k:"":w("swapAssetCardTokenNetwork",{symbol:k,network:h?o.Chains.getNetworkName(h):""}),{currentQuote:N,multichainQuoteResponse:x}=(0,d.useQuote)(),D=String(N&&x&&y?(0,u.amountToFormattedAmount)(N.buyAmount,b):""),P=(0,c.useOnSwitchTokens)(t),R=y?(0,r.getFungibleCaip19FromFungible)(y):p,{data:M}=n.usePrice({query:{data:R}});let H=(null==N?void 0:N.buyAmount)?"":(0,u.formatDollarAmount)(0);if((null==M?void 0:M.usd)&&(null==N?void 0:N.buyAmount)&&y){const e=(0,i.assetToDollars)((0,u.amountToUiAmount)(N.buyAmount,b).toNumber(),M.usd);H=(0,u.formatDollarAmount)(e)}return{assetButtonTitle:I,assetSubheadline:C,buyAmount:D,currencyValue:H,decimals:b,symbol:k,logoUri:A,tokenAddress:E,tokenType:T,network:F,isFetchingQuote:v,onSwitchTokens:P}}})),a.register("3Ywqm",(function(n,t){e(n.exports,"useOnSwitchTokens",(function(){return d}));var o=a("4y59b"),r=a("lDSNw"),s=a("54Hrp"),i=a("jG6nq"),u=a("lmbzb"),l=a("4GAXG"),c=a("606g5");const d=e=>{var n;const t=(0,i.useSwapperStore)((e=>e.sellFungible)),a=null!==(n=(0,i.useSwapperStore)((e=>e.buyFungible)))&&void 0!==n?n:s.INITIAL_BUY_FUNGIBLE,d=(0,i.useSwapperStore)((e=>e.setSellAmount)),p=(0,i.useSwapperStore)((e=>e.setUiSellAmount)),g=(0,c.useSwapSetSellAsset)(e),m=(0,l.useSwapSetBuyAsset)(e),{currentQuote:S,multichainQuoteResponse:f}=(0,u.useQuote)(),w=String(S&&f&&a?(0,o.amountToFormattedAmount)(S.buyAmount,a.data.decimals):"");return(0,r.useCallback)((()=>{d(w),p(w),a&&g(a),t&&m(t)}),[d,w,p,a,t,g,m])}})),a.register("4GAXG",(function(n,t){e(n.exports,"useSwapSetBuyAsset",(function(){return c}),(function(e){return c=e}));var o=a("lDSNw"),r=a("amJbF"),s=a("jG6nq"),i=a("ccoQE"),u=a("03FUt"),l=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function c(e){const n=(0,s.useSwapperStore)((e=>e.resetQuote)),t=(0,s.useSwapperStore)((e=>e.setBuyFungible)),a=(0,s.useSwapperStore)((e=>e.buyFungible)),{cancelQuotes:c}=(0,r.useSwapCancelQuotes)();return(0,o.useCallback)((o=>l(this,void 0,void 0,(function*(){if(a&&(0,i.areFungiblesEqual)(o,a))return;yield c(),n();const r=(0,u.getAnalyticsAsset)(o);e.capture("swapperUpdateToAsset",{data:r}),t(o)}))),[e,a,c,n,t])}})),a.register("amJbF",(function(n,t){e(n.exports,"useSwapCancelQuotes",(function(){return u}),(function(e){return u=e}));var o=a("4y59b"),r=a("fvKRK"),s=a("eVFQN"),i=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};const u=()=>{const e=(0,r.useQueryClient)();return{cancelQuotes:()=>i(void 0,void 0,void 0,(function*(){yield e.cancelQueries({queryKey:s.swapperQueryKeys.quotesScope()}),yield(0,o.delayAsync)(1)}))}}})),a.register("03FUt",(function(n,t){e(n.exports,"getAnalyticsAsset",(function(){return s}));var o=a("belzv"),r=a("gYh0e");function s(e){var n;return{chain:o.Chain.Solana,type:"fungible",address:e.type===r.FungibleTokenType.SPL?e.data.mintAddress:void 0,symbol:null!==(n=e.data.symbol)&&void 0!==n?n:""}}})),a.register("606g5",(function(n,t){e(n.exports,"useSwapSetSellAsset",(function(){return c}),(function(e){return c=e}));var o=a("lDSNw"),r=a("amJbF"),s=a("jG6nq"),i=a("ccoQE"),u=a("03FUt"),l=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function c(e){const n=(0,s.useSwapperStore)((e=>e.buyFungible)),t=(0,s.useSwapperStore)((e=>e.sellFungible)),a=(0,s.useSwapperStore)((e=>e.setBuyFungible)),c=(0,s.useSwapperStore)((e=>e.setSellFungible)),d=(0,s.useSwapperStore)((e=>e.resetQuote)),p=null==t?void 0:t.data.amount,{cancelQuotes:g}=(0,r.useSwapCancelQuotes)();return(0,o.useCallback)((o=>l(this,void 0,void 0,(function*(){if(t&&(0,i.areFungiblesEqual)(o,t))return void(o&&o.data.amount!==p&&c(o));yield g();const r=(0,u.getAnalyticsAsset)(o);e.capture("swapperUpdateFromAsset",{data:r}),c(o),n&&t&&(0,i.areFungiblesEqual)(o,n)&&a(t),o&&(null==t?void 0:t.data.chain.id)!==o.data.chain.id&&(d(),a(void 0))}))),[e,n,g,p,d,t,a,c])}})),a.register("9sKR9",(function(n,t){e(n.exports,"useSwapCardProps",(function(){return m}));var o=a("belzv"),r=a("lyKBa"),s=a("XXDFr"),i=a("h8RYn"),u=a("i0tUX"),l=a("aAk1s"),c=a("kGQ4c"),d=a("8VnfO"),p=a("lmbzb"),g=a("kPmOk");function m({transactionHooks:e,priceHooks:n,accountHooks:t}){var a,m;const{bestBuyAmount:S,currentQuote:f,hasNoRoutes:w,multichainQuoteResponse:y,quotes:v,isFetchingQuote:b}=(0,p.useQuote)(),h=(0,u.useExchangeRate)(S,y,f),k=(0,c.usePriceImpact)((0,s.getSwapPriceImpact)(f)),T=(0,g.useSlippage)(null==y?void 0:y.slippageTolerance),A=(0,d.useProvider)((0,i.getSwapQuoteSources)(f)),E=(0,r.getSwapExecutionDuration)(f),F=(null===(a=null==y?void 0:y.sellToken)||void 0===a?void 0:a.chainId)?o.Chains.getChainName(y.sellToken.chainId):void 0,I=(null===(m=null==y?void 0:y.buyToken)||void 0===m?void 0:m.chainId)?o.Chains.getChainName(y.buyToken.chainId):void 0;return{exchangeRate:h,hasNoRoutes:w,priceImpact:k,slippage:T,provider:A,fees:(0,l.useFees)({transactionHooks:e,priceHooks:n,accountHooks:t}),nrOfQuotes:v.length,executionDuration:E,isFetchingQuote:b,sellNetwork:F,buyNetwork:I}}})),a.register("lyKBa",(function(n,t){e(n.exports,"getSwapExecutionDuration",(function(){return r}));var o=a("bz65k");const r=e=>e&&(0,o.isBridgeQuote)(e)?e.executionDuration:0})),a.register("XXDFr",(function(n,t){e(n.exports,"getSwapPriceImpact",(function(){return r}));var o=a("bz65k");const r=e=>e?(0,o.isBridgeQuote)(e)?void 0:e.priceImpact:0})),a.register("h8RYn",(function(n,t){e(n.exports,"getSwapQuoteSources",(function(){return s}));var o=a("5O9My"),r=a("bz65k");const s=e=>{var n;return e?(0,r.isBridgeQuote)(e)?(0,o.getBridgeTools)(e):null!==(n=null==e?void 0:e.sources)&&void 0!==n?n:[]:[]}})),a.register("5O9My",(function(n,t){e(n.exports,"getBridgeTools",(function(){return o}));const o=e=>e.steps.map((e=>e.tool))})),a.register("i0tUX",(function(t,o){e(t.exports,"useExchangeRate",(function(){return d}));var r=a("4y59b"),s=a("3yHS8"),i=a("lDSNw"),u=a("jG6nq"),l=a("kvBHY");const c=n(s)(1);function d(e,t,o){const[a,d]=(0,i.useState)(!1),p=(0,i.useCallback)((()=>d(!a)),[a]),g=(0,u.useSwapperStore)((e=>e.sellFungible)),m=(0,u.useSwapperStore)((e=>e.buyFungible));return(0,i.useMemo)((()=>{let i=!1,u="";if(t&&o){const t=null==m?void 0:m.data,d=null==g?void 0:g.data;if(t&&d){const{buyAmount:p,sellAmount:g}=o,m=(0,r.amountToUiAmount)(p,t.decimals),S=(0,r.amountToUiAmount)(g,d.decimals),f=m.dividedBy(S),w=`1 ${d.symbol} ≈ ${(0,l.formatTokenAmountGreaterThan1)(f)} ${t.symbol}`,y=`1 ${t.symbol} ≈ ${(0,l.formatTokenAmountGreaterThan1)(c.dividedBy(f))} ${d.symbol}`;i=new(n(s))(o.buyAmount).isEqualTo(e),u=a?y:w}}return{isBestRate:i,rate:u,flip:p}}),[e,o,a,t,g,m,p])}})),a.register("aAk1s",(function(t,o){e(t.exports,"useFees",(function(){return S}));var r=a("belzv"),s=a("3yHS8"),i=a("lDSNw"),u=a("jG6nq"),l=a("fR691"),c=a("40K6R"),d=a("bz65k"),p=a("l6sVU"),g=a("c9ZwG"),m=a("lmbzb");const S=({transactionHooks:e,priceHooks:t,accountHooks:o})=>{var a,S;const{currentQuote:f}=(0,m.useQuote)(),w=(0,g.useInitialSellFungible)({accountHooks:o}),y=null!==(a=(0,u.useSwapperStore)((e=>e.sellFungible)))&&void 0!==a?a:w,v=(0,u.useSwapperStore)((e=>e.gasEstimation)),b=(0,u.useSwapperStore)((e=>e.isFetchingGasEstimation)),h=(0,u.useSwapperStore)((e=>e.maxGasEstimation)),k=null!==(S=null==y?void 0:y.data.chain.id)&&void 0!==S?S:r.NetworkIDs.Solana.Mainnet,T=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Solana),A=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Ethereum),E=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Polygon),{data:F={}}=t.usePrices({query:{data:[T,A,E]}}),{data:I,isFetching:C}=e.useGasEstimationPrice(k,(0,p.aggregateGasEstimation)(v)),{data:N}=e.useGasEstimationPrice(k,(0,p.aggregateGasEstimation)(h)),x=b||C,D=(0,i.useMemo)((()=>{var e,t,o,r,a;if((0,d.isBridgeQuote)(f)){const o=f.steps.flatMap((e=>e.feeCosts)).find((e=>"phantom"===e.name));return{amount:new(n(s))(null!==(e=null==o?void 0:o.amount)&&void 0!==e?e:0),uiAmount:"",pct:parseFloat(null!==(t=null==o?void 0:o.percentage)&&void 0!==t?t:"0")}}const i=(null!==(o=null==f?void 0:f.fees)&&void 0!==o?o:[]).find((e=>"phantom"===e.type));return{amount:new(n(s))(null!==(r=null==i?void 0:i.amount)&&void 0!==r?r:0),uiAmount:"",pct:null!==(a=null==i?void 0:i.percentage)&&void 0!==a?a:0}}),[f]),P=(0,i.useMemo)((()=>{var e,t,o;if((0,d.isBridgeQuote)(f))return{amount:new(n(s))(0),uiAmount:"",pct:0};const r=(null!==(e=null==f?void 0:f.fees)&&void 0!==e?e:[]).find((e=>"Token account deposits"===e.name));return{amount:new(n(s))(null!==(t=null==r?void 0:r.amount)&&void 0!==t?t:0),uiAmount:(null==r?void 0:r.amount)?(0,l.formatFee)(k,new(n(s))(r.amount),F):"",pct:null!==(o=null==r?void 0:r.percentage)&&void 0!==o?o:0}}),[f,k,F]),R=(0,i.useMemo)((()=>{if(!f||!(0,d.isBridgeQuote)(f))return{amount:new(n(s))(0),uiAmount:"",pct:0};const e=(0,c.getBridgeStepsFees)(f);return{amount:e,uiAmount:(0,l.formatFee)(k,e,F),pct:0}}),[k,f,F]),M=(0,i.useMemo)((()=>{var e,t,o,a;return Object.assign(Object.assign({amount:null!==(e=f&&(null==I?void 0:I.gasEstimationAmount))&&void 0!==e?e:new(n(s))(0),uiAmount:null!==(t=f&&(null==I?void 0:I.gasEstimationPriceUSD))&&void 0!==t?t:""},r.Chains.isEVMNetworkID(k)?{maxAmount:null!==(o=f&&(null==N?void 0:N.gasEstimationAmount))&&void 0!==o?o:new(n(s))(0),maxUiAmount:null!==(a=f&&(null==N?void 0:N.gasEstimationPriceUSD))&&void 0!==a?a:""}:{}),{pct:0})}),[f,null==I?void 0:I.gasEstimationAmount,null==I?void 0:I.gasEstimationPriceUSD,null==N?void 0:N.gasEstimationAmount,null==N?void 0:N.gasEstimationPriceUSD,k]),H=(0,i.useMemo)((()=>{var e;const n=P.amount.plus(M.amount).plus(R.amount),t=r.Chains.isEVMNetworkID(k)?P.amount.plus(null!==(e=M.maxAmount)&&void 0!==e?e:0).plus(R.amount):void 0;return Object.assign({amount:n,uiAmount:(0,l.formatFee)(k,n,F),pct:0},r.Chains.isEVMNetworkID(k)&&t?{maxAmount:t,maxUiAmount:(0,l.formatFee)(k,t,F)}:{})}),[P.amount,M.amount,M.maxAmount,R.amount,k,F]);return(0,i.useMemo)((()=>({phantomFee:D,networkFee:M,tokenAccountFee:P,totalFees:H,nonIncludedFees:R,isFetchingFees:x})),[D,M,P,H,R,x])}})),a.register("fR691",(function(t,o){e(t.exports,"formatFee",(function(){return l}));var r=a("gYh0e"),s=a("4y59b"),i=a("3yHS8"),u=a("kvBHY");function l(e,t,o){if(t.lte(0))return"";const{caip19:a,decimals:l,symbol:c}=r.NATIVE_TOKEN_MAP[e];if(!a||!l||!c)return"";const d=t.div(new(n(i))(10).pow(l)),p=o[a];if(!(null==p?void 0:p.usd))return`${(0,u.formatTokenAmountGreaterThan1)(d.toString())} ${c}`;const g=d.times(p.usd).toNumber(),m=(0,s.formatDollarAmount)(g,{minimumAmount:1e-6,decimalFormatSmallNumbers:"0.[00000]"});return"$NaN"!==m?m:""}})),a.register("40K6R",(function(t,o){e(t.exports,"getBridgeStepsFees",(function(){return s}));var r=a("3yHS8");const s=e=>e.steps.reduce(((e,t)=>e.plus(new(n(r))(t.nonIncludedNonGasFees))),new(n(r))(0))})),a.register("l6sVU",(function(t,o){e(t.exports,"aggregateGasEstimation",(function(){return u}));var r=a("belzv"),s=a("4raQz"),i=a("3yHS8");const u=e=>{if(e&&0!==e.length)return(0,s.isEthereumGasEstimation)(e[0])?e.reduce(((e,n)=>Object.assign(Object.assign({},e),{gasLimit:e.gasLimit.plus(n.gasLimit)})),{networkID:r.Chains.ethereum.mainnetID,gasLimit:new(n(i))(0),maxFeePerGas:e[0].maxFeePerGas,maxPriorityFeePerGas:e[0].maxPriorityFeePerGas}):(0,s.isSolanaGasEstimation)(e[0])?e.reduce(((e,n)=>Object.assign(Object.assign({},e),{value:e.value+n.value})),{networkID:r.Chains.solana.mainnetID,value:0}):void 0}})),a.register("kGQ4c",(function(n,t){e(n.exports,"usePriceImpact",(function(){return i}));var o=a("lDSNw"),r=a("40TJN"),s=a("6zhDS");function i(e){return(0,o.useMemo)((()=>{let n="",t="";if(void 0===e)return;const o=100*e;return n=(0,r.getPriceImpactColor)(o),t=(0,s.getPriceImpactText)(o),{color:n,text:t,percentage:o}}),[e])}})),a.register("40TJN",(function(n,t){function o(e){if(void 0===e)return"#999";const n=parseFloat(e.toFixed(2));switch(!0){case n>=5:return"#EB3742";case n>=1&&e<5:return"#FFDC62";case e>=0&&e<1:return"#21E56F";default:return"#777777"}}e(n.exports,"getPriceImpactColor",(function(){return o}))})),a.register("6zhDS",(function(n,t){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(n.exports,"getPriceImpactText",(function(){return o}))})),a.register("8VnfO",(function(n,t){e(n.exports,"useProvider",(function(){return s}));var o=a("lDSNw"),r=a("4Fsq6");function s(e){return(0,o.useMemo)((()=>(0,r.parseSwapSources)(e)),[e])}})),a.register("kPmOk",(function(n,t){e(n.exports,"useSlippage",(function(){return i}));var o=a("lDSNw"),r=a("99c8B"),s=a("6xZ7a");function i(e){return(0,o.useMemo)((()=>{let n="",t="";if(void 0!==e)return n=(0,r.getSlippageColor)(e),t=(0,s.getSlippageText)(e),{color:n,text:t,percentage:e}}),[e])}})),a.register("99c8B",(function(n,t){function o(e){if(void 0===e)return"#999";const n=parseFloat(e.toFixed(2));switch(!0){case n>2:return"#EB3742";case n>=1&&e<=2:return"#FFDC62";default:return"#777777"}}e(n.exports,"getSlippageColor",(function(){return o}))})),a.register("6xZ7a",(function(n,t){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(n.exports,"getSlippageText",(function(){return o}))})),a.register("jhEDs",(function(n,t){e(n.exports,"useSwapConfirmationProps",(function(){return D}),(function(e){return D=e}));var o=a("9ktGj"),r=a("belzv"),s=a("lMzyG"),i=a("gd9Oy"),u=a("iPvw0"),l=a("4yY1D"),c=a("4y59b"),d=a("lDSNw"),p=a("54Hrp"),g=a("k8D9t"),m=a("iZKEv"),S=a("fJPlc"),f=a("jG6nq"),w=a("cKybL"),y=a("lyKBa"),v=a("XXDFr"),b=a("h8RYn"),h=a("eCE6v"),k=a("iRhPk"),T=a("9icBb"),A=a("faNT9"),E=a("aAk1s"),F=a("c9ZwG"),I=a("8VnfO"),C=a("lmbzb"),N=a("5h9Ll"),x=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function D({accountSigner:e,fungibleHooks:n,priceHooks:t,settingsHooks:a,transactionHooks:D,accountHooks:P,simulationHooks:R,analytics:M,asyncSwapAnalytics:H,isLedger:z,onError:Q,priorityFeeService:B,isSwapSimulationDisabled:U,storage:G,goToSwapTab:O,goToSwapReview:L,goToActivityTab:q}){var j,_,V,K,$;const{t:Y}=(0,s.useTranslation)(),W=(0,F.useInitialSellFungible)({accountHooks:P}),Z=p.CHAIN_TO_USDC_FUNGIBLE.get(W.data.chain.id),{currentQuote:J}=(0,C.useQuote)(),X=null!==(j=(0,f.useSwapperStore)((e=>e.buyFungible)))&&void 0!==j?j:Z,ee=null!==(_=(0,f.useSwapperStore)((e=>e.sellFungible)))&&void 0!==_?_:W,ne=(0,f.useSwapperStore)((e=>e.buyUsdValue)),te=(0,f.useSwapperStore)((e=>e.sellUsdValue)),oe=(0,f.useSwapperStore)((e=>e.setSellFungible)),re=(0,f.useSwapperStore)((e=>e.resetSwapper)),ae=(0,f.useSwapperStore)((e=>e.setQuoteFetchIntervalToggle)),{buyAmount:se,sellAmount:ie}=null!=J?J:{buyAmount:"0",sellAmount:"0"},ue=(0,c.amountToUiAmount)(se,X.data.decimals).toNumber(),le=(0,c.amountToUiAmount)(ie,ee.data.decimals).toNumber(),ce=(0,y.getSwapExecutionDuration)(J),de=(0,w.formatSecondsAsSwapTime)(ce,Y),[pe]=(0,d.useState)(de),[ge]=(0,d.useState)((0,h.isBridgeSwap)(ee.data.chain.id,X.data.chain.id)),me=(0,I.useProvider)((0,b.getSwapQuoteSources)(J)),Se=(0,E.useFees)({transactionHooks:D,priceHooks:t,accountHooks:P}),fe=(0,T.useAnalyticsPayload)({buyToken:X,sellToken:ee,buyAmount:null!==(V=null==J?void 0:J.buyAmount.toString())&&void 0!==V?V:"",sellAmount:null!==(K=null==J?void 0:J.sellAmount.toString())&&void 0!==K?K:"",phantomFeeUiAmount:Se.phantomFee.uiAmount,priceImpact:(0,v.getSwapPriceImpact)(J),provider:me,buyAssetUsdValue:ne,sellAssetUsdValue:te}),we=null!==($=null==ee?void 0:ee.data.chain.id)&&void 0!==$?$:r.NetworkIDs.Solana.Mainnet,{data:ye}=P.useSelectedMultiChainAccount(),ve=(0,d.useMemo)((()=>{var e;return null!==(e=null==ye?void 0:ye.addresses)&&void 0!==e?e:[]}),[ye]),be=(0,d.useMemo)((()=>{var e,n;return null!==(n=null===(e=ve.find((e=>e.networkID===(null==ee?void 0:ee.data.chain.id))))||void 0===e?void 0:e.address)&&void 0!==n?n:""}),[ve,ee]),he=(0,d.useMemo)((()=>r.Chains.getAddressType(we)),[we]),{data:ke}=(0,S.useSwapTransactions)({transactionHooks:D,callerAddress:be,priorityFeeService:B,quote:J,sellFungible:ee}),Te=(null==ke?void 0:ke.transactions.length)||0,[Ae,Ee]=(0,d.useState)(),Fe=(0,d.useMemo)((()=>{var e;return null!==(e=null==Ae?void 0:Ae.id)&&void 0!==e?e:""}),[Ae]),{data:Ie}=a.usePreferredExplorers(),Ce=(0,d.useMemo)((()=>{if(!Fe)return;const e=null==Ie?void 0:Ie.explorers[we];return(0,u.generateExplorerUrl)({networkID:we,endpoint:"transaction",explorerType:e,param:Fe})}),[Fe,we,Ie]),[Ne,xe]=(0,d.useState)("loading"),De="success"===Ne,Pe="error"===Ne,Re=!!Ae,[Me,He]=(0,d.useState)(),{notEnoughSol:ze,txErrorTitle:Qe,txErrorMessage:Be}=(0,N.useSwapErrorDetails)(ge,Me),Ue=(0,d.useCallback)((e=>{M.capture("swapperSwapSuccess",fe);const n=(0,o.chainFromNetworkID)(e.networkID);l.telemetry.addBreadcrumb(l.FeatureTag.Swapper,"transactionStatus",l.Severity.Info,Object.assign(Object.assign({},n),{txReceipt:e.id})),n.chainType!==i.AddressType.EVM&&n.chainType!==i.AddressType.Solana||H.then((t=>t.transactionStatus(e.id,Object.assign(Object.assign({},n),{status:{type:"confirmed"}}))))}),[M,fe,H]),Ge=(0,d.useCallback)((e=>x(this,void 0,void 0,(function*(){Ue(e),re(),(0,k.updateSellFungibleAmount)({sellAmount:ie,sellFungible:ee,setSellFungible:oe}),n.invalidateTokens(ve)}))),[Ue,re,ie,ee,oe,n,ve]),Oe=(0,d.useCallback)((()=>{const e=(null==Ae?void 0:Ae.networkID)?(0,o.chainFromNetworkID)(Ae.networkID):null;(null==e?void 0:e.chainType)!==i.AddressType.EVM&&(null==e?void 0:e.chainType)!==i.AddressType.Solana||!(null==Ae?void 0:Ae.id)||(l.telemetry.addBreadcrumb(l.FeatureTag.Swapper,"transactionStatus",l.Severity.Error,Object.assign(Object.assign({},e),{txReceipt:Ae.id})),H.then((n=>n.transactionStatus(Ae.id,Object.assign(Object.assign({},e),{status:{type:"error"}})))))}),[H,Ae]),{isSuccess:Le,isError:qe,error:je}=D.useWaitForTransactionConfirmation(Ge,Pe?void 0:Ae);(0,d.useEffect)((()=>{Le?xe("success"):qe&&(xe("error"),He(je),Oe())}),[Le,qe,H,je,Ae,Oe]);const _e=(0,d.useCallback)((e=>{xe("error"),He(e),Q&&e.message!==g.SwapperErrorCodes.NotValidScanResultsError&&e.message!==g.SwapperErrorCodes.SlippageExceeded&&Q(e),M.capture("swapperSwapFailure",{data:Object.assign(Object.assign({},fe.data),{error:e.message})})}),[M,fe.data,Q]),{clearQuotes:Ve}=(0,m.useSwapClearQuotes)(),Ke=(0,d.useCallback)((()=>{ae(!0),Ve(),O()}),[O,ae,Ve]),$e=(0,d.useCallback)((()=>{ae(!0),L()}),[L,ae]),Ye=(0,d.useCallback)((()=>{re(),q()}),[q,re]),{executeSwap:We,isReadyToExecute:Ze}=(0,A.useExecuteSwap)({addressType:he,analytics:M,accountHooks:P,simulationHooks:R,accountSigner:e,asyncSwapAnalytics:H,fungibleHooks:n,isSwapSimulationDisabled:U,onTransactionSentError:_e,onTransactionReceiptReceived:e=>{Ee(e)},priorityFeeService:B,resetToInitialState:()=>{xe("loading"),He(void 0),Ee(void 0)},sender:be,storage:G,transactionHooks:D});return{sellAsset:{amount:le,symbol:ee.data.symbol,networkID:ee.data.chain.id},buyAsset:{amount:ue,symbol:X.data.symbol,networkID:X.data.chain.id},estimatedTime:pe,isBridge:ge,isSuccess:De,isFailure:Pe,isLedger:z,isClosable:Re,notEnoughSol:ze,txError:Me,txErrorTitle:Qe,txErrorMessage:Be,txLink:null!=Ce?Ce:"",executeSwap:We,resetSwapper:re,numberOfTransactions:Te,isReadyToExecute:Ze,addressType:he,onClose:Ke,onRetry:$e,onSwapSuccess:Ye}}})),a.register("k8D9t",(function(n,t){e(n.exports,"SwapperErrorCodes",(function(){return o})),e(n.exports,"SwapperError",(function(){return a}));new Error("Missing sender address for swapping fungibles."),new Error("Missing signature from swapping fungibles."),new Error("Missing transactions for swapping fungibles.");var o,r;(r=o||(o={})).NoCurrentQuoteError="Trying to execute swap with no current quote",r.NoMultichainQuoteResponseError="Trying to execute swap with no multichain quote response",r.NoGasEstimation="No gas estimation available",r.NoSwapTransactions="No swap transactions available",r.InsufficientFunds="INSUFFICIENT_FUNDS",r.SlippageExceeded="slippageToleranceExceeded",r.NotValidScanResultsError="Scan results are not valid",r.NotEnoughSol="NotEnoughSol",r.TransactionConfirmationFailed="Transaction confirmation failed",r.UnknownError="UnknownError",r.EmptyRoute="EmptyRoute",r.InvalidCalculation="InvalidCalculation",r.MissingPlatformFeeAccount="MissingPlatformFeeAccount",r.InvalidSlippage="InvalidSlippage",r.NotEnoughPercent="NotEnoughPercent",r.InvalidInputIndex="InvalidInputIndex",r.InvalidOutputIndex="InvalidOutputIndex",r.NotEnoughAccountKeys="NotEnoughAccountKeys",r.NonZeroMinimumOutAmountNotSupported="NonZeroMinimumOutAmountNotSupported",r.InvalidRoutePlan="InvalidRoutePlan",r.InvalidReferralAuthority="InvalidReferralAuthority",r.LedgerTokenAccountDoesNotMatch="LedgerTokenAccountDoesNotMatch",r.InvalidTokenLedger="InvalidTokenLedger",r.IncorrectTokenProgramID="IncorrectTokenProgramID",r.TokenProgramNotProvided="TokenProgramNotProvided",r.SwapNotSupported="SwapNotSupported",r.ExactOutAmountNotMatched="ExactOutAmountNotMatched",r.SourceAndDstinationMintCannotBeTheSame="SourceAndDstinationMintCannotBeTheSame";class a extends Error{constructor(e){super(e)}}})),a.register("iRhPk",(function(n,t){function o({sellAmount:e,sellFungible:n,setSellFungible:t}){if(n&&e){const o=Object.assign({},n);o.data.amount=String(Number(n.data.amount)-Number(e)),t(o)}}e(n.exports,"updateSellFungibleAmount",(function(){return o}))})),a.register("9icBb",(function(n,t){e(n.exports,"useAnalyticsPayload",(function(){return s}));var o=a("lDSNw"),r=a("dPav6");function s({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:a,buyAmount:s,sellAmount:i,phantomFeeUiAmount:u,priceImpact:l,provider:c}){return(0,o.useMemo)((()=>{const o=(0,r.legacyAnalyticsPayload)({buyAssetUsdValue:e,buyToken:n,sellAssetUsdValue:t,sellToken:a,buyAmount:s,sellAmount:i,phantomFeeUiAmount:u,priceImpact:l,provider:c});return o?{data:o}:{}}),[e,t,s,n,u,l,c,i,a])}})),a.register("faNT9",(function(n,t){e(n.exports,"useExecuteSwap",(function(){return v}),(function(e){return v=e}));var o=a("9ktGj"),r=a("belzv"),s=a("gd9Oy"),i=a("4yY1D"),u=a("lDSNw"),l=a("k8D9t"),c=a("jP15q"),d=a("fJPlc"),p=a("jG6nq"),g=a("ghFtg"),m=a("c9ZwG"),S=a("7MEU7"),f=a("lmbzb"),w=a("5I5ht"),y=function(e,n,t,o){return new(t||(t=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}u((o=o.apply(e,n||[])).next())}))};function v({addressType:e,accountHooks:n,simulationHooks:t,accountSigner:a,asyncSwapAnalytics:v,fungibleHooks:b,isSwapSimulationDisabled:h,priorityFeeService:k,onTransactionReceiptReceived:T,onTransactionSentError:A,resetToInitialState:E,sender:F,storage:I,transactionHooks:C}){var N,x,D;const{connection:P}=C.useSelectedSolanaConnection(),{data:R}=n.useSelectedMultiChainAccount(),{currentQuote:M,multichainQuoteResponse:H}=(0,f.useQuote)(),z=(0,m.useInitialSellFungible)({accountHooks:n}),Q=(0,p.useSwapperStore)((e=>e.maxGasEstimation)),B=null!==(N=(0,p.useSwapperStore)((e=>e.sellFungible)))&&void 0!==N?N:z,U=null!==(x=null==B?void 0:B.data.chain.id)&&void 0!==x?x:r.NetworkIDs.Solana.Mainnet,{data:G,isSuccess:O}=(0,d.useSwapTransactions)({transactionHooks:C,callerAddress:F,priorityFeeService:k,quote:M,sellFungible:B}),L=(0,w.useSwapScanTransaction)({accountHooks:n,simulationHooks:t,swapTransactions:G}),{pendingActivityRows:q}=(0,S.usePendingActivity)({accountHooks:n,fungibleHooks:b,priorityFeeService:k,sender:F,transactionHooks:C}),{mutateAsync:j}=(0,c.useMultichainSwapFungibles)({accountSigner:a,storage:I,accountIdentifier:null!==(D=null==R?void 0:R.identifier)&&void 0!==D?D:"",networkID:U}),[_,V]=(0,u.useState)(!1),K=(0,u.useCallback)((e=>{const n=(0,o.chainFromNetworkID)(U);i.telemetry.addBreadcrumb(i.FeatureTag.Swapper,"submittedTransaction",i.Severity.Info,Object.assign(Object.assign({},n),{txReceipt:e.id,method:n.chainType===s.AddressType.Solana?"signAndSendTransaction":n.chainType===s.AddressType.EVM?"eth_sendRawTransaction":"UNKNOWN"})),n.chainType===s.AddressType.Solana?v.then((t=>t.submittedTransaction(e.id,Object.assign(Object.assign({},n),{method:"signAndSendTransaction"})))):n.chainType===s.AddressType.EVM&&v.then((t=>t.submittedTransaction(e.id,Object.assign(Object.assign({},n),{method:"eth_sendRawTransaction"}))))}),[v,U]),$=_||(!L.isLoading||h)&&O;return{executeSwap:(0,u.useCallback)((()=>y(this,void 0,void 0,(function*(){V(!0),E();try{if(!M)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoCurrentQuoteError);if(!H)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoMultichainQuoteResponseError);if(!Q||0===(null==Q?void 0:Q.length))throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoGasEstimation);if(!G)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NoSwapTransactions);if("insufficientFunds"===L.state)throw new(0,l.SwapperError)(l.SwapperErrorCodes.InsufficientFunds);if("slippageToleranceExceeded"===L.state)throw new(0,l.SwapperError)(l.SwapperErrorCodes.SlippageExceeded);if("valid"!==L.state)throw new(0,l.SwapperError)(l.SwapperErrorCodes.NotValidScanResultsError);const n=yield j({type:e,callerAddress:F,swapTransactions:G,pendingSwapActivityRows:q.pendingSwapActivityRows,pendingApprovalActivityRows:q.pendingApprovalActivityRows,gasEstimation:Q,connection:P});if(K(n),T(n),n.error)throw n.error}catch(e){const n=(0,g.parseSwapError)(e);A(n)}}))),[e,P,M,H,Q,K,j,A,T,q.pendingSwapActivityRows,q.pendingApprovalActivityRows,E,L.state,F,G]),isReadyToExecute:$}}})),a.register("ghFtg",(function(n,t){e(n.exports,"parseSwapError",(function(){return m}));var o=a("4raQz"),r=a("k8D9t");const s=["slippageToleranceExceeded"],i="INSUFFICIENT_FUNDS",u=o.ERROR_SOLANA_NO_FUNDS_FEE,l="insufficient lamports",c="lower balance than rent-exempt minimum",d=o.ERROR_SOLANA_NO_SOL_TOKENS,p="Transaction confirmation failed";function g(e){switch(function(e){try{return Number(e.split('"Custom":')[1].split("}")[0])}catch(e){return null}}(e.message)){case 301:case 6001:return r.SwapperErrorCodes.SlippageExceeded;case 6e3:return r.SwapperErrorCodes.EmptyRoute;case 6002:return r.SwapperErrorCodes.InvalidCalculation;case 6003:return r.SwapperErrorCodes.MissingPlatformFeeAccount;case 6004:return r.SwapperErrorCodes.InvalidSlippage;case 6005:return r.SwapperErrorCodes.NotEnoughPercent;case 6006:return r.SwapperErrorCodes.InvalidInputIndex;case 6007:return r.SwapperErrorCodes.InvalidOutputIndex;case 6008:return r.SwapperErrorCodes.NotEnoughAccountKeys;case 6009:return r.SwapperErrorCodes.NonZeroMinimumOutAmountNotSupported;case 6010:return r.SwapperErrorCodes.InvalidRoutePlan;case 6011:return r.SwapperErrorCodes.InvalidReferralAuthority;case 6012:return r.SwapperErrorCodes.LedgerTokenAccountDoesNotMatch;case 6013:return r.SwapperErrorCodes.InvalidTokenLedger;case 6014:return r.SwapperErrorCodes.IncorrectTokenProgramID;case 6015:return r.SwapperErrorCodes.TokenProgramNotProvided;case 6016:return r.SwapperErrorCodes.SwapNotSupported;case 6017:return r.SwapperErrorCodes.ExactOutAmountNotMatched;case 6018:return r.SwapperErrorCodes.SourceAndDstinationMintCannotBeTheSame;default:return null}}function m(e){if(void 0===e)return new(0,r.SwapperError)(r.SwapperErrorCodes.UnknownError);if(e instanceof r.SwapperError)return e;const n=function(e){var n;return"string"==typeof e?new Error(e):"object"==typeof e&&"logs"in e&&(null===(n=e.logs)||void 0===n?void 0:n.length)?new Error(e.logs.join("\n")):e}(e);if(n.message.includes(i))return new(0,r.SwapperError)(r.SwapperErrorCodes.InsufficientFunds);if(function(e){for(const n of s)if(e.includes(n))return!0;return!1}(n.message))return new(0,r.SwapperError)(r.SwapperErrorCodes.SlippageExceeded);if(n.message===r.SwapperErrorCodes.NotValidScanResultsError)return new(0,r.SwapperError)(r.SwapperErrorCodes.NotValidScanResultsError);if([u,l,d,c].some((e=>n.message.includes(e))))return new(0,r.SwapperError)(r.SwapperErrorCodes.NotEnoughSol);const t=g(n);if(null!==t)return new(0,r.SwapperError)(t);return n.message.includes(p)?new(0,r.SwapperError)(r.SwapperErrorCodes.TransactionConfirmationFailed):new(0,r.SwapperError)(r.SwapperErrorCodes.UnknownError)}})),a.register("7MEU7",(function(n,t){e(n.exports,"usePendingActivity",(function(){return S}));var o=a("lMzyG"),r=a("4y59b"),s=a("lDSNw"),i=a("54Hrp"),u=a("fJPlc"),l=a("jG6nq"),c=a("b2GhP"),d=a("h8RYn"),p=a("c9ZwG"),g=a("8VnfO"),m=a("lmbzb");function S({accountHooks:e,fungibleHooks:n,priorityFeeService:t,sender:a,transactionHooks:S}){var f,w,y,v;const{t:b}=(0,o.useTranslation)(),{currentQuote:h}=(0,m.useQuote)(),k=(0,p.useInitialSellFungible)({accountHooks:e}),T=i.CHAIN_TO_USDC_FUNGIBLE.get(k.data.chain.id),A=null!==(f=(0,l.useSwapperStore)((e=>e.buyFungible)))&&void 0!==f?f:T,E=null!==(w=(0,l.useSwapperStore)((e=>e.sellFungible)))&&void 0!==w?w:k,F=(0,g.useProvider)((0,d.getSwapQuoteSources)(h)),{data:I}=(0,u.useSwapTransactions)({transactionHooks:S,callerAddress:a,priorityFeeService:t,quote:h,sellFungible:E}),C=(e,n)=>n.find((n=>n.data.tokenAddress===(0,c.getFungibleKey)(e))),N=({sellFungible:e,buyFungible:n,sellAmount:t,buyAmount:o,provider:a,isBridge:s,t:i})=>{var u,l;const c=e.data.symbol,d=n.data.symbol,p=(0,r.amountToUiAmount)(null!=t?t:0,null!==(u=e.data.decimals)&&void 0!==u?u:0),g=(0,r.amountToUiAmount)(null!=o?o:0,null!==(l=n.data.decimals)&&void 0!==l?l:0);return{topLeft:{label:`${i(s?"transactionsPendingBridging":"transactionsPendingSwapping")} on ${a}`},topRight:{label:`${g} ${d}`,color:"#21E56F"},bottomLeft:{label:`${c} ${String.fromCharCode(8594)} ${d}`},bottomRight:{label:`${p} ${c}`}}},x=null!==(v=null===(y=null==I?void 0:I.transactionPairs)||void 0===y?void 0:y.flatMap((e=>[(0,c.getFungibleKey)(e.sellToken),(0,c.getFungibleKey)(e.buyToken)])))&&void 0!==v?v:[],D=[...new Set(x)],{fungibles:P}=n.useGetFungibleBalances({keys:D}),R=(0,s.useMemo)((()=>{const e={pendingSwapActivityRows:[],pendingApprovalActivityRows:[]};return I?"evm"===I.type?I.transactionTypes.reduce(((e,n,t)=>{var o,r;let a,s=E,i=A;const u=I.transactionPairs;if(u&&u[t]){const e=u[t];s=null!==(o=C(e.sellToken,P))&&void 0!==o?o:E,i=null!==(r=C(e.buyToken,P))&&void 0!==r?r:A,a=e.approvalMetadata}if(n.includes("approval")){const n=s.data.symbol;e.pendingApprovalActivityRows.push({topLeft:a?{label:`${b("transactionsPendingApproving")} ${a.symbol}`}:{label:`${b("transactionsPendingApproving")} ${n}`}})}else e.pendingSwapActivityRows.push(N({sellFungible:s,buyFungible:i,sellAmount:null==h?void 0:h.sellAmount,buyAmount:null==h?void 0:h.buyAmount,provider:F,isBridge:n.includes("bridge"),t:b}));return e}),e):I.transactionTypes.reduce(((e,n,t)=>{var o,r;let a=E,s=A;const i=I.transactionPairs;if(i&&i[t]){const e=i[t];a=null!==(o=C(e.sellToken,P))&&void 0!==o?o:E,s=null!==(r=C(e.buyToken,P))&&void 0!==r?r:A}return e.pendingSwapActivityRows.push(N({sellFungible:a,buyFungible:s,sellAmount:null==h?void 0:h.sellAmount,buyAmount:null==h?void 0:h.buyAmount,provider:F,isBridge:n.includes("bridge"),t:b})),e}),e):e}),[I,E,A,P,b,null==h?void 0:h.sellAmount,null==h?void 0:h.buyAmount,F]);return{pendingActivityRows:R}}})),a.register("b2GhP",(function(n,t){e(n.exports,"getFungibleKey",(function(){return r}));var o=a("belzv");const r=e=>e.resourceType===o.Caip19ResourceType.address?o.Chains.isEVMNetworkID(e.chainId)?e.address.toLowerCase():e.address:e.slip44})),a.register("5I5ht",(function(n,t){e(n.exports,"useSwapScanTransaction",(function(){return c}));var o=a("belzv"),r=a("lDSNw"),s=a("jG6nq"),i=a("31WeU"),u=a("c9ZwG"),l=a("lmbzb");const c=({accountHooks:e,simulationHooks:n,swapTransactions:t})=>{var a,c,d;const p=(0,u.useInitialSellFungible)({accountHooks:e}),g=null!==(a=(0,s.useSwapperStore)((e=>e.sellFungible)))&&void 0!==a?a:p,m=null!==(c=null==g?void 0:g.data.chain.id)&&void 0!==c?c:o.NetworkIDs.Solana.Mainnet,{data:S}=e.useSelectedChainAddress({address:g.data.walletAddress,networkID:g.data.chain.id}),f=null!==(d=null==S?void 0:S.address)&&void 0!==d?d:"",{currentQuote:w,multichainQuoteResponse:y}=(0,l.useQuote)();let v=null;"evm"===(null==t?void 0:t.type)&&o.Chains.isEVMNetworkID(m)&&(v={networkID:m,url:"https://phantom.app",userAccount:f,transactions:t.transactions}),"solana"===(null==t?void 0:t.type)&&o.Chains.isSolanaNetworkID(m)&&(v={networkID:m,url:"https://phantom.app",userAccount:f,transactions:t.transactions});const b=n.useScanTransaction({label:"useSwapScanTransaction",params:v,refetchInterval:!1});return(0,r.useMemo)((()=>{var e,n;if(b.isLoading)return{isLoading:!0,state:"loading"};const t=null===(n=null===(e=b.data)||void 0===e?void 0:e.evaluation)||void 0===n?void 0:n.simulationResults,o=(0,i.validateScanResult)({simulationResults:t,scanResultError:b.isError,quote:w,sellToken:null==y?void 0:y.sellToken,buyToken:null==y?void 0:y.buyToken,simulationTolerance:null==y?void 0:y.simulationTolerance});return{isLoading:b.isLoading,state:o}}),[b,w,y])}})),a.register("31WeU",(function(t,o){e(t.exports,"validateScanResult",(function(){return g}));var r=a("belzv"),s=a("cxfOD"),i=a("4yY1D"),u=a("3yHS8"),l=a("40K6R"),c=a("bz65k");const d="swap-validation",p=e=>n=>n.rawInfo.data.contract.address===(e=>{var n;if(e.resourceType===r.Caip19ResourceType.nativeToken){if(["60","966"].includes(e.slip44))return"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"}else if(e.resourceType===r.Caip19ResourceType.address)return null!==(n=e.address)&&void 0!==n?n:"";return""})(e),g=({simulationResults:e,scanResultError:n,quote:t,sellToken:o,buyToken:r,simulationTolerance:a=.01})=>{var s,u;if(n)return"valid";if(!(t&&e&&o&&r&&a))return i.telemetry.addBreadcrumb(d,`Missing necessary args: ${JSON.stringify({quote:!!t,simulationResults:!!e,sellToken:o,buyToken:r,simulationTolerance:a})}`,i.Severity.Info),"missingArgument";if(["SIMULATION_FAILED"].includes(null!==(u=null===(s=e.error)||void 0===s?void 0:s.kind)&&void 0!==u?u:""))return"valid";if(e.error){const n=m(e),t=S(e);if(t)return"insufficientFunds";const a=n?"slippageToleranceExceeded":t?"insufficientFunds":"unknownError";return i.telemetry.addBreadcrumb(d,`Simulation has error: ${JSON.stringify({sellToken:o,buyToken:r,error:"unknownError"===a?e.error:a})}`,i.Severity.Info),a}if("isRecentBlockhashExpired"in e)return"valid";const{isSimulationToleranceExceeded:l,buyDiff:c,sellDiff:p}=f(e,r,o,t,a);return l&&i.telemetry.addBreadcrumb(d,`Diff is larger than simulationTolerance: ${JSON.stringify({sellToken:o,buyToken:r,buyDiff:c.toString(),sellDiff:p.toString(),simulationTolerance:a})}`,i.Severity.Info),l?"exceedsSimulationTolerance":"valid"},m=e=>{var n,t,o,r;const a="UNKNOWN_ERROR"===(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.kind),s="raw"in e&&null!==(r=null===(o=null===(t=null==e?void 0:e.raw)||void 0===t?void 0:t.logs)||void 0===o?void 0:o.slice(-6).some((e=>e.includes("SlippageToleranceExceeded"))))&&void 0!==r&&r;return a&&s},S=e=>{var n,t,o,r;const a=["INSUFFICIENT_FUNDS"].includes(null!==(t=null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.kind)&&void 0!==t?t:""),s=["ACCOUNT_DOES_NOT_HAVE_ENOUGH_SOL_TO_PERFORM_THE_OPERATION"].includes(null!==(r=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.kind)&&void 0!==r?r:"");return a||s},f=(e,t,o,a,i=.01)=>{const d=e.expectedStateChanges.filter((e=>[s.StateChangeKind.Erc20Transfer,s.StateChangeKind.NativeAssetTransfer].includes(e.rawInfo.kind))),g=d.filter(p(t)).reduce(((e,t)=>{const{before:o,after:r}=t.rawInfo.data.amount,a=new(n(u))(o),s=new(n(u))(r);return e.plus(s.minus(a))}),new(n(u))(0)),m=d.filter(p(o)).reduce(((e,t)=>{const{before:o,after:r}=t.rawInfo.data.amount,a=new(n(u))(o),s=new(n(u))(r);return e.plus(a.minus(s))}),new(n(u))(0)),S=o.resourceType===r.Caip19ResourceType.nativeToken,f=new(n(u))(a.buyAmount),w=new(n(u))(a.sellAmount),y=g.minus(f).dividedBy(f).absoluteValue();let v=m.minus(w);if(S&&(0,c.isBridgeQuote)(a)){const e=(0,l.getBridgeStepsFees)(a);v=v.minus(e)}v=v.dividedBy(w).absoluteValue();return{isSimulationToleranceExceeded:!(((0,c.isBridgeQuote)(a)||y.lt(i))&&v.lt(i)),buyDiff:y,sellDiff:v}}})),a.register("5h9Ll",(function(n,t){e(n.exports,"useSwapErrorDetails",(function(){return i}));var o=a("lMzyG"),r=a("lDSNw"),s=a("k8D9t");function i(e,n){const{t:t}=(0,o.useTranslation)();return(0,r.useMemo)((()=>{if(n){let o,r;return e?(o=t("swapTxBridgeFailed"),r=n.message===s.SwapperErrorCodes.SlippageExceeded?t("swapTxConfirmationSwapFailedSlippageLimit"):t("swapTxBridgeFailedDescription")):(o=t("swapTxConfirmationSwapFailed"),r=n.message===s.SwapperErrorCodes.InsufficientFunds?t("swapTxConfirmationSwapFailedInsufficientBalance"):n.message===s.SwapperErrorCodes.SlippageExceeded?t("swapTxConfirmationSwapFailedSlippageLimit"):n.message===s.SwapperErrorCodes.EmptyRoute?t("swapTxConfirmationSwapFailedEmptyRoute"):t("swapTxConfirmationSwapFailedTryAgain")),{notEnoughSol:n.message===s.SwapperErrorCodes.NotEnoughSol,txErrorTitle:o,txErrorMessage:r}}return{notEnoughSol:!1,txErrorTitle:"",txErrorMessage:""}}),[n,e,t])}})),a.register("4UoVr",(function(t,o){e(t.exports,"useSwapProvidersProps",(function(){return f}));var r=a("belzv"),s=a("gYh0e"),i=a("lMzyG"),u=a("3yHS8"),l=a("lDSNw"),c=a("jG6nq"),d=a("6c63N"),p=a("l6sVU"),g=a("lmbzb"),m=a("34pzM");const S=(e,n)=>{let t="";return e.resourceType===r.Caip19ResourceType.nativeToken?t=(0,s.networkIdToNativeTokenFungibleKey)(e.chainId):e.address&&(t=e.address),n.find((e=>e.data.key.toLowerCase()===t.toLowerCase()))};function f({enableNativeBridgePairs:e,accountHooks:t,fungibleHooks:o,transactionHooks:a,priceHooks:s,getApiEnvironment:f,analytics:w}){const{t:y}=(0,i.useTranslation)(),{bestBuyAmount:v,multichainQuoteResponse:b,isFetchingQuote:h,quotes:k,selectedProviderIndex:T}=(0,g.useQuote)(),A=(0,c.useSwapperStore)((e=>e.setSelectedProviderIndex)),E=(0,c.useSwapperStore)((e=>e.maxGasEstimation)),F=(0,c.useSwapperStore)((e=>e.sellFungible)),{assets:I,isFetching:C}=(0,m.useSwapBuyAssetList)({enableNativeBridgePairs:e,fungibleHooks:o,accountHooks:t,getApiEnvironment:f}),N=null==F?void 0:F.data.chain.id,{data:x}=a.useGasEstimationPrice(N,(0,p.aggregateGasEstimation)(E)),D=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Solana),P=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Ethereum),R=(0,r.getNativeFungibleCaip19ForChain)(r.Chain.Polygon),{data:M={}}=s.usePrices({query:{data:[D,P,R]}}),H="xchain"===(null==b?void 0:b.type),z=(0,l.useMemo)((()=>{var e;if(!b||0===I.length)return[];const{buyToken:t}=b,o=S(t,I);return o?H?(0,d.parseBridgeProviders)({quotes:k,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,networkIDForFees:N,networkFee:null!==(e=null==x?void 0:x.gasEstimationAmount)&&void 0!==e?e:new(n(u))(0),priceMap:M,t:y}):(0,d.parseSwapProviders)({quotes:k,bestBuyAmount:v,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,bestPriceLabel:y("swapFeesBestPrice")}):[]}),[b,I,k,v,y,N,x,M,H]),Q=(0,l.useCallback)((e=>{const n=z[e];w.capture("swapperProviderSelected",{data:{provider:n.name}}),A(e)}),[A,z,w]);return{rows:z,selectedProviderIndex:T,isLoadingProviders:h||C||!1,setSelectedProviderIndex:Q}}})),a.register("6c63N",(function(t,o){e(t.exports,"parseSwapProviders",(function(){return w})),e(t.exports,"parseBridgeProviders",(function(){return y}));var r=a("4y59b"),s=a("3yHS8"),i=a("fR691"),u=a("cKybL"),l=a("40K6R"),c=a("5O9My"),d=a("kvBHY"),p=a("4Fsq6"),g=a("bz65k");const m="FASTEST",S=["RECOMMENDED",m],f=e=>{if((0,g.isBridgeQuote)(e))return(0,p.parseSwapSources)((0,c.getBridgeTools)(e));const{sources:n}=e;return(0,p.parseSwapSources)(n)},w=({quotes:e,bestBuyAmount:t,buyTokenDecimals:o,buyTokenSymbol:r,bestPriceLabel:a})=>e.map((e=>{const{buyAmount:i}=e,u=new(n(s))(i),l=new(n(s))(u).minus(t),c=(0,d.amountToFormattedAmountGreaterThan1)(l,o);return{name:f(e),fee:l.isNaN()?"-":l.isZero()?a:`${c} ${r}`}})),y=({quotes:e,buyTokenDecimals:n,buyTokenSymbol:t,networkIDForFees:o,networkFee:a,priceMap:s,t:c})=>e.filter(g.isBridgeQuote).map((e=>{var p;const{buyAmount:g,executionDuration:w,steps:y,tags:v}=e,b=(0,l.getBridgeStepsFees)(e).plus(a),h=v.filter((e=>S.includes(e))).map((e=>({key:e,text:c(`swapProvidersTag${(0,r.capitalizeFirstLetter)(e)}`)}))),k=v.includes(m),T=y.find((e=>!!e.tool.logoURI));return{name:f(e),fee:o&&s?c("swapProvidersFee",{fee:(0,i.formatFee)(o,b,s)}):"",amount:`${(0,d.amountToFormattedAmountGreaterThan1)(g,n)} ${t}`,time:{text:(0,u.formatSecondsAsSwapTime)(w,c),isFast:k||w<=300},tags:h,logoURI:null!==(p=null==T?void 0:T.tool.logoURI)&&void 0!==p?p:""}}))})),a.register("jlxJl",(function(t,o){e(t.exports,"useSwapReviewButtonProps",(function(){return m}));var r=a("gYh0e"),s=a("4y59b"),i=a("3yHS8"),u=a("lDSNw"),l=a("jG6nq"),c=a("oo4df"),d=a("eCE6v"),p=a("aAk1s"),g=a("lmbzb");function m({accountHooks:e,fungibleHooks:t,transactionHooks:o,priceHooks:a}){var m;const{currentQuote:S,isFetchingQuote:f}=(0,g.useQuote)(),w=(0,l.useSwapperStore)((e=>e.hasNoRoutes)),y=(0,l.useSwapperStore)((e=>e.sellFungible)),v=(0,l.useSwapperStore)((e=>e.sellAmount)),b=null==y?void 0:y.data.chain.id,h=(0,l.useSwapperStore)((e=>e.gasEstimation)),k=(0,l.useSwapperStore)((e=>e.maxGasEstimation)),T=(0,l.useSwapperStore)((e=>e.buyFungible)),A=null==T?void 0:T.data.chain.id,{fungible:E}=t.useGetFungibleBalance({key:b?(0,r.networkIdToNativeTokenFungibleKey)(b):void 0}),{fungible:F}=t.useGetFungibleBalance({key:A?(0,r.networkIdToNativeTokenFungibleKey)(A):void 0}),I=new(n(i))(null!==(m=null==F?void 0:F.data.amount)&&void 0!==m?m:0),C=(0,d.isBridgeSwap)(b,A),N=C&&I.isZero(),{totalFees:x}=(0,p.useFees)({transactionHooks:o,priceHooks:a,accountHooks:e}),{data:D}=o.useTransactionSpeedsToUnitCost({networkID:b}),P=(0,u.useMemo)((()=>y?(0,c.getMaxSellAmount)({sellFungible:y,totalFees:x.amount,transactionSpeedsToUnitCost:D,isBridge:C}):"0"),[y,x,D,C]),R=!!(null==y?void 0:y.type)&&(0,r.isNative)(null==y?void 0:y.type),M=null==y?void 0:y.data.decimals,H=null==y?void 0:y.data.chain.id,{data:z}=e.useSelectedChainAddress({address:null==y?void 0:y.data.walletAddress,networkID:null==y?void 0:y.data.chain.id}),{data:Q=0}=(0,r.useMinimumRequiredBalance)(z),B=(0,u.useMemo)((()=>{var e;const t=null!==(e=x.maxAmount)&&void 0!==e?e:x.amount;if(R){const e=new(n(i))((0,s.uiAmountToAmount)(v,null!=M?M:0));return t.plus(e)}return t.plus(C?0:Q)}),[R,v,M,x.amount,x.maxAmount,C,Q]),U=E?(0,s.amountToFormattedAmount)(E.data.amount,E.data.decimals):"-",G=E?(0,s.amountToFormattedAmount)(B,E.data.decimals):"-",O=(0,u.useMemo)((()=>{var e;return new(n(i))(null!==(e=null==E?void 0:E.data.amount)&&void 0!==e?e:0).lt(B)}),[null==E?void 0:E.data.amount,B]),L=new(n(i))(v).isLessThanOrEqualTo(new(n(i))(P));return{canSwap:!!y&&!!S&&L&&!w&&!!((null!=h?h:[]).length>0&&(null!=k?k:[]).length>0)&&!f,hasEnoughAssets:L,hasNoRoutes:w,hasNoFundsForFees:O,hasLowDestinationNetworkBalance:N,sourceNativeToken:{networkId:H,balance:U,required:G}}}})),a.register("ezrMm",(function(t,o){e(t.exports,"useSwapReviewProps",(function(){return w}));var r=a("belzv"),s=a("gYh0e"),i=a("4y59b"),u=a("3yHS8"),l=a("lDSNw"),c=a("jG6nq"),d=a("d1wgz"),p=a("7u9Mq"),g=a("kvBHY"),m=a("c9ZwG"),S=a("lmbzb");const f={network:{id:r.Chains.solana.mainnetID,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol,imageUrl:r.Chains.solana.iconUrl},tokenType:s.FungibleTokenType.SolanaNative,symbol:"",logoUri:"",tokenAddress:"",amount:"",amountUsd:""};function w({priceHooks:e,accountHooks:t}){var o;const r=(0,c.useSwapperStore)((e=>e.buyFungible)),a=(0,m.useInitialSellFungible)({accountHooks:t}),w=null!==(o=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==o?o:a,y=(0,c.useSwapperStore)((e=>e.sellAmount)),v=(0,c.useSwapperStore)((e=>e.setBuyUsdValue)),b=(0,c.useSwapperStore)((e=>e.setSellUsdValue)),h=(0,l.useMemo)((()=>{const e=[];return r&&w&&(e.push((0,s.getFungibleCaip19FromFungible)(r)),e.push((0,s.getFungibleCaip19FromFungible)(w))),{query:{data:e}}}),[r,w]),{data:k}=e.usePrices(h),{currentQuote:T,multichainQuoteResponse:A}=(0,S.useQuote)();return(0,l.useMemo)((()=>{var e,t;if(!(A&&T&&r&&w))return{buyToken:f,sellToken:f};const o=null==r?void 0:r.data,a=null==w?void 0:w.data;if(!o||!a)return{buyToken:f,sellToken:f};let s="",l="",c="",m="";const{buyAmount:S}=T,h=(0,i.amountToUiAmount)(S,o.decimals),E=n(u)(y),F=String(h).split(".")[0].length,I=y.split(".")[0].length,C=null===(e=o.symbol)||void 0===e?void 0:e.length,N=null===(t=a.symbol)||void 0===t?void 0:t.length,x=F&&C?F+C:0,D=I&&N?I+N:0;c=`${(0,p.formatTokenAmountForReviewScreen)(E,D)} ${a.symbol}`,s=`${(0,p.formatTokenAmountForReviewScreen)(h,x)} ${o.symbol}`;const P=(0,d.extractPrice)(r,k),R=(0,d.extractPrice)(w,k);if(null==P?void 0:P.usd){const e=h.multipliedBy(P.usd);l=`$${(0,g.formatTokenAmountGreaterThan1)(e)}`,v(P.usd)}if(null==R?void 0:R.usd){const e=E.multipliedBy(R.usd);m=`$${(0,g.formatTokenAmountGreaterThan1)(e)}`,b(R.usd)}return{buyToken:{network:o.chain,tokenType:r.type,symbol:o.symbol,logoUri:o.logoUri,tokenAddress:o.tokenAddress,amount:s,amountUsd:l},sellToken:{network:a.chain,tokenType:w.type,symbol:a.symbol,logoUri:a.logoUri,tokenAddress:a.tokenAddress,amount:c,amountUsd:m}}}),[A,r,w,T,y,v,b,k])}})),a.register("capuI",(function(n,t){e(n.exports,"useSwapSellAssetProps",(function(){return b}));var o=a("gYh0e"),r=a("lMzyG"),s=a("4y59b"),i=a("lDSNw"),u=a("54Hrp"),l=a("LF6im"),c=a("jG6nq"),d=a("7u9Mq"),p=a("oo4df"),g=a("eCE6v"),m=a("aAk1s"),S=a("83P7Y"),f=a("c9ZwG"),w=a("a2OUs"),y=a("5WyUW");const v=500;function b({transactionHooks:e,priceHooks:n,accountHooks:t,fungibleHooks:a,getApiEnvironment:b,queryClient:h,isBalanceHidden:k,enableNativeBridgePairs:T}){var A;const{t:E}=(0,r.useTranslation)(),F=(0,f.useInitialSellFungible)({accountHooks:t}),I=null!==(A=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==A?A:F,C=(0,c.useSwapperStore)((e=>e.buyFungible)),N=(0,c.useSwapperStore)((e=>e.sellAmount)),x=(0,c.useSwapperStore)((e=>e.uiSellAmount)),D=(0,c.useSwapperStore)((e=>e.setSellAmount)),P=(0,c.useSwapperStore)((e=>e.setSellFungible)),R=(0,c.useSwapperStore)((e=>e.setUiSellAmount)),M=(0,y.useSwapAssetCaip19)(I),H=null==I?void 0:I.data.key,{fungible:z}=a.useGetFungibleBalance({key:H}),Q=(0,w.useSupportedNetworkIDs)({accountHooks:t}),B=null==I?void 0:I.data.chain.id,U=null==C?void 0:C.data.chain.id,[G,O]=(0,s.useDebouncedChangeHandler)(N,D,v),{totalFees:L}=(0,m.useFees)({transactionHooks:e,priceHooks:n,accountHooks:t}),{data:q}=e.useTransactionSpeedsToUnitCost({networkID:B}),j=(0,g.isBridgeSwap)(B,U),_=null==I?void 0:I.data.amount,V=I?I.data.decimals:0,K=(0,i.useMemo)((()=>(0,p.getMaxSellAmount)({sellFungible:I,totalFees:L.amount,transactionSpeedsToUnitCost:q,isBridge:j})),[I,L,q,j]),$=new(0,s.BigNumber)(null!=N?N:0).isGreaterThan(new(0,s.BigNumber)(K)),Y=I&&I.data.symbol?I.data.symbol:"",W=`${E("swapBalance")} ${(0,o.formatAmount)(I.data.balance)} ${I.data.symbol}`,Z=N.split(".")[0].length,J=Y.length,X=Z&&J?Z+J:0,ee=k?`${u.BALANCE_HIDDEN_TEXT}`:`${(0,d.formatTokenAmountForReviewScreen)((0,s.amountToUiAmount)(_,V),X)}`,ne=(0,i.useCallback)((e=>{const n=(0,s.formatTokenAmountInputs)(e.substring(0,u.MOBILE_SWAP_INPUT_MAX_LENGTH)),t=(0,s.formatTokenAmountToMaxDecimals)(n,V);R(t),O(t)}),[V,O,R]),te=(0,i.useCallback)((()=>{ne(K)}),[K,ne]);(0,i.useEffect)((()=>{z&&z.data.amount!==_&&P(z)}),[z,_,P]),(0,i.useEffect)((()=>{N&&(0,l.prefetchSwapPairs)({sellToken:M,supportedNetworkIDs:Q,enableNativeBridgePairs:T,getApiEnvironment:b,queryClient:h})}),[M,Q,T,b,h,N]);const oe=(0,S.useHasSwapMinimumSellAmount)(n);return{assetButtonTitle:Y,assetSubheadline:W,decimals:V,formattedMaxSellAmount:ee,sellFungible:I,notEnoughAssets:$,uiSellAmount:x,hasMinimumSellAmount:oe,setMaxSellAmount:te,updateSellAmount:ne}}})),a.register("1RdIz",(function(n,t){e(n.exports,"useFeeBreakdown",(function(){return i}));var o=a("lMzyG"),r=a("4y59b"),s=a("lDSNw");function i(e){const{t:n}=(0,o.useTranslation)();return(0,s.useMemo)((()=>{const{networkFee:t,phantomFee:o,tokenAccountFee:a,nonIncludedFees:s}=e;return{networkFee:{label:n("swapQuoteNetwork"),value:t.uiAmount,maxValue:t.maxUiAmount},bridgeFee:{label:n("swapQuoteBridgeFee"),value:s.uiAmount,maxValue:s.maxUiAmount},tokenAccountFee:{label:n("swapQuoteOneTimeTokenAccount"),value:a.uiAmount},phantomFeePercent:{label:o.pct?n("swapQuoteFeeDisclaimer",{feePercentage:(0,r.formatPercentage)(o.pct)}):"",value:o.pct?`${o.pct}`:""}}}),[e,n])}})),a.register("aLg9d",(function(n,t){e(n.exports,"swapperShouldDehydrateQueryPredicate",(function(){return r}));const o=[a("eVFQN").SWAPPER_QUERY_KEYS_PREFIX.pairs],r=e=>{const n=String(e.queryKey[1]);return o.includes(n)}})),a.register("jMU3p",(function(n,t){e(n.exports,"createSwapAnalytics",(function(){return r}));var o=a("9ktGj");const r=e=>new(0,o.SequenceAnalytics)(e,"swap")}));
//# sourceMappingURL=swapper.c615a942.js.map
define=__define;})(window.define);