(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},r=n.parcelRequire1d24;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},n.parcelRequire1d24=r),r.register("cR6w7",(function(t,n){e(t.exports,"useSPLTokenAccountListingStats",(function(){return r("bSsZk").useSPLTokenAccountListingStats})),e(t.exports,"useCollectibleEdition",(function(){return r("bSsZk").useCollectibleEdition})),e(t.exports,"waitForMarketplaceConfirmation",(function(){return r("bSsZk").waitForMarketplaceConfirmation})),e(t.exports,"waitForMarketplaceDelist",(function(){return r("bSsZk").waitForMarketplaceDelist})),e(t.exports,"waitForMintInAllCollectibles",(function(){return r("bSsZk").waitForMintInAllCollectibles})),e(t.exports,"collectiblesShouldDehydrateQueryPredicate",(function(){return r("80sCq").collectiblesShouldDehydrateQueryPredicate})),e(t.exports,"createCollectibleHooks",(function(){return r("161jh").createCollectibleHooks})),e(t.exports,"useEditListCollectible",(function(){return r("23Mwl").useEditListCollectible})),e(t.exports,"useListCollectible",(function(){return r("lVdSz").useListCollectible})),e(t.exports,"useUnlistCollectible",(function(){return r("3wAcW").useUnlistCollectible})),e(t.exports,"useSearchCollectiblesStrict",(function(){return r("lraND").useSearchCollectiblesStrict})),e(t.exports,"useTokenAccountMinBalance",(function(){return r("3jnnc").useTokenAccountMinBalance})),e(t.exports,"useCollectibleMediaURI",(function(){return r("5oTKS").useCollectibleMediaURI})),e(t.exports,"useCollectionMediaUri",(function(){return r("gu4Q0").useCollectionMediaUri})),e(t.exports,"useCollectionCollectible",(function(){return r("8DcaC").useCollectionCollectible})),e(t.exports,"useCollectionItemsCount",(function(){return r("hnVCL").useCollectionItemsCount})),e(t.exports,"useOnlyImageCollectibles",(function(){return r("hwESz").useOnlyImageCollectibles})),e(t.exports,"useOrderedCollections",(function(){return r("l6AqO").useOrderedCollections})),e(t.exports,"useIsCollectionPinned",(function(){return r("1oPoP").useIsCollectionPinned})),e(t.exports,"useCollectibleExplorer",(function(){return r("co0kd").useCollectibleExplorer})),e(t.exports,"useDedupeCollectibles",(function(){return r("dWJJA").useDedupeCollectibles})),e(t.exports,"useCollectibleChainSpecificInfoSection",(function(){return r("5fSu3").useCollectibleChainSpecificInfoSection})),e(t.exports,"useCollectibleCTABar",(function(){return r("cutgY").useCollectibleCTABar})),e(t.exports,"formatEstimatedFees",(function(){return r("fDd2S").formatEstimatedFees})),e(t.exports,"useListCollectibleStore",(function(){return r("cMKSX").useListCollectibleStore})),e(t.exports,"useCollectiblesStore",(function(){return r("2E1go").useCollectiblesStore})),e(t.exports,"CollectibleMediaTypeSchema",(function(){return r("gIkRw").CollectibleMediaTypeSchema})),e(t.exports,"ReportCollectibleEventType",(function(){return r("gIkRw").ReportCollectibleEventType})),e(t.exports,"SendSuccessCondition",(function(){return r("gIkRw").SendSuccessCondition})),e(t.exports,"getInstantSellError",(function(){return r("iWlVm").getInstantSellError})),e(t.exports,"isCollectibleSemiFungible",(function(){return r("5LNwS").isCollectibleSemiFungible})),e(t.exports,"createCollectibleTransferPendingTransactionInput",(function(){return r("hWcS7").createTransferPendingTransactionInput})),e(t.exports,"isSolanaCollectibleChainData",(function(){return r("6mBy8").isSolanaCollectibleChainData})),e(t.exports,"isEthereumCollectibleChainData",(function(){return r("6mBy8").isEthereumCollectibleChainData})),e(t.exports,"isBitcoinCollectibleChainData",(function(){return r("6mBy8").isBitcoinCollectibleChainData})),e(t.exports,"isBitcoinRareSatsCollectibleChainData",(function(){return r("6mBy8").isBitcoinRareSatsCollectibleChainData})),e(t.exports,"selectBestCollectionName",(function(){return r("2MJfL").selectBestCollectionName})),e(t.exports,"convertCollectibleToSPLTokenAccount",(function(){return r("cvjjI").convertCollectibleToSPLTokenAccount})),e(t.exports,"formatCount",(function(){return r("dmL5l").formatCount})),e(t.exports,"getBurnTransactionWithPriorityFee",(function(){return r("7tZBy").getBurnTransactionWithPriorityFee})),e(t.exports,"bpsToPercent",(function(){return r("kRM7p").bpsToPercent})),e(t.exports,"bpsToValue",(function(){return r("kRM7p").bpsToValue})),e(t.exports,"createListingAnalytics",(function(){return r("5Gl9R").createListingAnalytics})),e(t.exports,"CollectiblesSdk",(function(){return r("7i1Dr").CollectiblesSdk})),e(t.exports,"MAGIC_EDEN_TERMS_URL",(function(){return r("8oygF").MAGIC_EDEN_TERMS_URL}));r("bSsZk"),r("cuPjL"),r("80sCq"),r("161jh"),r("i2k8j"),r("1IJht"),r("dNLYO"),r("6i8Cn"),r("IJGHK"),r("23Mwl"),r("lVdSz"),r("3wAcW"),r("1nE4p"),r("lraND"),r("3jnnc"),r("9ZCbN"),r("iUvOb"),r("5oTKS"),r("gu4Q0"),r("8DcaC"),r("hnVCL"),r("hwESz"),r("l6AqO"),r("1oPoP"),r("frJD3"),r("8pgD1"),r("iqGep"),r("h0vN3"),r("co0kd"),r("dWJJA"),r("hGptb"),r("5fSu3"),r("cutgY"),r("fDd2S"),r("cMKSX"),r("2E1go"),r("gIkRw"),r("5YKUv"),r("iWlVm"),r("4S535"),r("5LNwS"),r("7zM7w"),r("hWcS7"),r("6mBy8"),r("2MJfL"),r("cvjjI"),r("dmL5l"),r("7tZBy"),r("5HIWD"),r("kRM7p"),r("jUd0W"),r("5Gl9R");r("57tHH");r("7i1Dr"),r("8oygF")})),r.register("bSsZk",(function(t,n){e(t.exports,"useCollectibleEdition",(function(){return S}),(function(e){return S=e})),e(t.exports,"useSPLTokenAccountListingStats",(function(){return w}),(function(e){return w=e})),e(t.exports,"waitForMarketplaceConfirmation",(function(){return x}),(function(e){return x=e})),e(t.exports,"waitForMarketplaceDelist",(function(){return I}),(function(e){return I=e})),e(t.exports,"waitForMintInAllCollectibles",(function(){return E}),(function(e){return E=e}));var i=r("ePfNR"),o=r("3fvLJ"),s=r("4raQz"),c=r("4y59b"),a=r("lNRH9"),l=r("gIkRw"),u=r("jUd0W"),d=r("7PqqK"),f=r("kXHNg"),p=r("6IAZr"),h=r("6mBy8"),m=r("6rT8n").Buffer,b=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const y=(0,c.toMilliseconds)({seconds:10}),v=(0,c.toMilliseconds)({seconds:5}),g="CollectibleEdition";function S(e,t){return(0,a.useQuery)({queryKey:[g,{mintAddress:e}],queryFn(){return b(this,void 0,void 0,(function*(){if(!t)return{};const n=m.from(new(0,o.PublicKey)(e).toBytes()),r=(0,u.getMasterEditionPDA)(n),{Edition:s}=yield(0,i.getMetaplexFoundationDeps)();try{const e=yield s.fromAccountAddress(t,r),n=l.ZodMetaplexTokenEdition.safeParse(e.key);if(!n.success)throw new Error(`Invalid MetaplexTokenEdition: ${e.key}`);return{key:n.data,isMasterEdition:(0,u.isMasterEdition)(e.key)}}catch(e){return{key:void 0,isMasterEdition:void 0}}}))}})}const C="SPLTokenAccountListingStats";function w(e,t,n,i){return(0,a.useQuery)({enabled:""!==n,refetchInterval:y,cacheTime:v,queryKey:[C,{apiEnvironment:e,cluster:t,mint:n,pubkey:i}],queryFn(t){return b(this,arguments,void 0,(function*({queryKey:t}){const[,{mint:n,cluster:o}]=t,r=(0,u.getTokenListNetworkIDByCluster)(o);return yield(0,f.getSPLCollectibleMarketplaceStats)(e,n,r,i)}))}})}const x=(e,t,n,i,o,...r)=>b(void 0,[e,t,n,i,o,...r],void 0,(function*(e,t,n,i,o,r=20,s=1e3){try{const a=(0,u.getTokenListNetworkIDByCluster)(n);return yield(0,c.withRetry)((()=>b(void 0,void 0,void 0,(function*(){var n;const r=yield(0,f.getSPLCollectibleMarketplaceStats)(e,t,a);if(!r[i])return;const s=(null!==(n=r[i].activities)&&void 0!==n?n:[]).find((e=>e.signature===o));if(!s)throw new Error("no activity with that signature yet!");return s}))),(()=>!0),r,s)}catch(e){}})),I=(e,t,n,i,o,...r)=>b(void 0,[e,t,n,i,o,...r],void 0,(function*(e,t,n,i,o,r=20,s=1e3){try{const a=(0,u.getTokenListNetworkIDByCluster)(i);return yield(0,c.withRetry)((()=>b(void 0,void 0,void 0,(function*(){var i;const r=yield(0,p.getSPLListings)(e,{address:t,chainId:`solana:${a}`});for(const e of r){if((null===(i=e.listings)||void 0===i?void 0:i[o])&&e.asset.mintPubKey===n)throw new Error("still in listings")}return r}))),(()=>!0),r,s)}catch(e){}})),E=(e,t,n,...i)=>b(void 0,[e,t,n,...i],void 0,(function*(e,t,n,i=20,o=1e3){try{return yield(0,c.withRetry)((()=>b(void 0,void 0,void 0,(function*(){const{allCollectibles:i}=yield(0,d.getCollectibles)(e,t.map(s.toAccount));for(const e of i)if((0,h.isSolanaCollectibleChainData)(e.chainData)&&e.chainData.mint===n)return e;throw new Error("cant find mint in tokens")}))),(()=>!0),i,o)}catch(e){}}))})),r.register("gIkRw",(function(n,i){e(n.exports,"CollectiblesError",(function(){return d})),e(n.exports,"MetaplexTokenEdition",(function(){return b})),e(n.exports,"ZodMetaplexTokenEdition",(function(){return v})),e(n.exports,"CollectibleMediaTypeSchema",(function(){return I})),e(n.exports,"Collectible",(function(){return z})),e(n.exports,"ReportCollectibleEventType",(function(){return j})),e(n.exports,"SendSuccessCondition",(function(){return K}));var o=r("belzv"),s=r("gYh0e"),c=r("2hU3F"),a=r("3yHS8"),l=r("7pPsM");const u=e=>{if(null!=e&&(e.constructor!==Object||0!==Object.keys(e).length))return e};class d extends Error{constructor(e){super(e),this.name="CollectiblesError"}}const f=l.z.string().nullish().transform(u),p=l.z.number().nullish().transform(u),h=l.z.union([f,p]).transform((e=>"number"==typeof e?e.toString():e)),m=l.z.object({name:f,symbol:f,decimals:p,address:f});var b,y;(y=b||(b={}))[y.Uninitialized=0]="Uninitialized",y[y.EditionV1=1]="EditionV1",y[y.MasterEditionV1=2]="MasterEditionV1",y[y.ReservationListV1=3]="ReservationListV1",y[y.MetadataV1=4]="MetadataV1",y[y.ReservationListV2=5]="ReservationListV2",y[y.MasterEditionV2=6]="MasterEditionV2",y[y.EditionMarker=7]="EditionMarker",y[y.UseAuthorityRecord=8]="UseAuthorityRecord",y[y.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",y[y.TokenOwnedEscrow=10]="TokenOwnedEscrow",y[y.TokenRecord=11]="TokenRecord",y[y.MetadataDelegate=12]="MetadataDelegate";const v=l.z.nativeEnum(b),g=l.z.object({price:l.z.number(),token:m.nullish().transform(u)}),S=g.nullish().transform(u),C=l.z.object({name:f,url:f,isVerified:l.z.coerce.boolean()}),w=l.z.object({id:l.z.string(),isValidCollectionId:l.z.coerce.boolean(),name:f,description:f,externalUrl:f,imageUrl:f,isSpam:l.z.coerce.boolean(),spamStatus:l.z.nativeEnum(c.SpamStatus).optional().default(c.SpamStatus.NotVerified),floorPrice:g.nullish().transform(u),ownerCount:p,totalCount:p,tokenCount:p,marketplaces:l.z.array(C)}),x=l.z.object({small:f,medium:f,large:f,blurhash:f}).nullish().transform(u),I=l.z.enum(["image","video","audio","model","other"]),E=l.z.object({url:f}).nullish().transform(u),k=l.z.object({type:I,image:E,video:E,audio:E,model:E,other:E,previews:x}).nullish().transform(u),T=l.z.object({trait_type:f,value:f.or(p),display_type:f}),A=l.z.object({id:l.z.string(),contract:l.z.string(),standard:l.z.nativeEnum(s.ERCTokenStandard)}),M=l.z.object({compressed:l.z.boolean(),merkleTree:l.z.string(),leafIndex:l.z.number()}),D=l.z.object({mint:l.z.string(),tokenAccount:l.z.string(),standard:l.z.nativeEnum(s.SPLTokenStandard),compression:M.nullish().transform(u),programId:l.z.string(),mintExtensions:l.z.array(s.SplTokenMintExtensions).optional().catch((()=>{}))}),P=l.z.object({id:l.z.string(),url:l.z.string(),displayName:l.z.string(),description:l.z.string(),count:l.z.number()}),L=l.z.object({hash:l.z.string(),index:l.z.number(),distinctRareSats:l.z.number(),satributes:l.z.array(P),blockNumber:l.z.number(),value:l.z.number(),backgroundImageUrl:l.z.string()}),O=l.z.object({firstCreatedTransactionHash:l.z.string(),firstCreatedInscriptionId:l.z.string(),inscriptionId:f,inscriptionNumber:h,outputValue:h,satNumber:h,satName:f,satRarity:f,protocolName:f,utxoHash:f,utxoIndex:p,createdAt:l.z.string().nullish().transform(u),utxoDetails:L.nullish().transform(u)}),N=(l.z.object({firstCreatedTransactionHash:l.z.string(),firstCreatedInscriptionId:l.z.string(),utxoDetails:L}),l.z.object({listingPrice:l.z.string(),listingPriceUiAmount:l.z.string(),isNative:l.z.boolean(),url:l.z.string()})),R=l.z.union([D,A,O]),z=l.z.object({id:o.BRI,chain:o.NetworkMetadata,name:f,symbol:f,description:f,externalUrl:f,collection:w,media:k,uri:f,attributes:l.z.array(T).nullish().transform((e=>null!=e?e:[])),lastSalePrice:S,balance:f,decimals:f,owner:f,chainData:R.optional(),listings:l.z.record(N).nullish().transform(u)}),F=w.extend({items:l.z.array(z)});l.z.object({items:l.z.array(F),isTrimmed:l.z.boolean()});var j,B;(B=j||(j={})).userHid="userHid",B.userUnhid="userUnhid",B.userBurned="userBurned",B.markAsSpam="markAsSpam",B.markAsNotSpam="markAsNotSpam";const V=l.z.object({networkID:o.ZodSolanaNetworkID}).extend({type:l.z.literal("transferSPLToken"),senderAddress:o.Address,mint:l.z.string(),amount:l.z.union([l.z.instanceof(t(a)),l.z.string()]),memo:l.z.string().optional()}),U=(V.extend({destination:l.z.string(),senderAccount:l.z.string(),decimals:l.z.number(),references:l.z.array(l.z.string()).optional(),programId:l.z.string()}),V.extend({destination:l.z.string(),compression:M.nullish().transform(u).refine((e=>null==e?void 0:e.compressed))}),l.z.object({compression:M.nullish().transform(u).refine((e=>null==e?void 0:e.compressed)),mint:l.z.string()}),V.extend({destination:l.z.string(),senderAccount:l.z.string(),standard:l.z.enum([s.SPLTokenStandard.ProgrammableNonFungible,s.SPLTokenStandard.ProgrammableNonFungibleEdition])}),V.extend({destination:l.z.string()}),l.z.object({root:l.z.string(),proof:l.z.array(l.z.string()),merkleTree:l.z.string(),dataHash:l.z.string(),creatorHash:l.z.string(),leafIndex:l.z.number(),owner:l.z.string(),delegate:l.z.string().optional()}),l.z.object({networkID:o.EVMNetworkID})),H=(l.z.object({networkID:o.EVMNetworkID,gasLimit:l.z.instanceof(t(a)),maxFeePerGas:l.z.instanceof(t(a)),maxPriorityFeePerGas:l.z.instanceof(t(a))}),U.extend({senderAddress:o.Address,type:l.z.literal("transferERC721Ethereum"),destination:l.z.string(),amount:l.z.literal(1),contractAddress:l.z.string(),tokenID:l.z.string()}),U.extend({senderAddress:o.Address,type:l.z.literal("transferERC1155Ethereum"),destination:l.z.string(),amount:l.z.union([l.z.instanceof(t(a)),l.z.string()]),contractAddress:l.z.string(),tokenID:l.z.string()}),l.z.object({networkID:o.ZodBitcoinNetworkID}));H.extend({type:l.z.literal("ordinal"),inscriptionId:l.z.string(),value:l.z.string(),senderAddress:l.z.string(),destination:l.z.string(),amount:l.z.literal(1),utxoHash:l.z.string(),utxoIndex:l.z.number()}),H.extend({type:l.z.literal("raresats"),hash:l.z.string(),index:l.z.number(),value:l.z.string(),senderAddress:l.z.string(),destination:l.z.string(),amount:l.z.literal(1)});var K,_;(_=K||(K={})).CONFIRMATION="CONFIRMATION",_.SUBMISSION="SUBMISSION"})),r.register("jUd0W",(function(n,i){e(n.exports,"performNotaryCheck",(function(){return d})),e(n.exports,"getTokenListNetworkIDByCluster",(function(){return f})),e(n.exports,"solanaToLamports",(function(){return p})),e(n.exports,"isMasterEdition",(function(){return h})),e(n.exports,"getMetadataPDA",(function(){return v})),e(n.exports,"getMasterEditionPDA",(function(){return g})),e(n.exports,"getCollectionMetadataPDA",(function(){return S}));var o=r("6rT8n"),s=r("ePfNR"),c=r("3fvLJ"),a=r("3yHS8"),l=r("8oygF"),u=r("gIkRw");const d=e=>{for(const t of e.instructions)for(const e of t.keys)if(e.isSigner&&e.pubkey.toBase58()===l.MAGIC_EDEN_NOTARY.toBase58())return!0;return!1},f=e=>{switch(e){case"mainnet-beta":case"localhost":return 101;case"testnet":return 102;case"devnet":return 103}},p=e=>new(t(a))(e).multipliedBy(c.LAMPORTS_PER_SOL).toNumber();function h(e){const t=[u.MetaplexTokenEdition.MasterEditionV1,u.MetaplexTokenEdition.MasterEditionV2],n=u.ZodMetaplexTokenEdition.safeParse(e);return n.success&&t.includes(n.data)}const m=o.Buffer.from("metadata"),b=o.Buffer.from("edition"),y=s.METADATA_PROGRAM_ID.toBuffer();function v(e){const[t]=c.PublicKey.findProgramAddressSync([m,y,e],s.METADATA_PROGRAM_ID);return t}function g(e){const[t]=c.PublicKey.findProgramAddressSync([m,y,e,b],s.METADATA_PROGRAM_ID);return t}function S(e){const[t]=c.PublicKey.findProgramAddressSync([m,y,e],s.METADATA_PROGRAM_ID);return t}})),r.register("8oygF",(function(t,n){e(t.exports,"MAGIC_EDEN_NOTARY",(function(){return o})),e(t.exports,"MAGIC_EDEN_TERMS_URL",(function(){return s}));var i=r("3fvLJ");const o=new(0,i.PublicKey)("NTYeYJ1wr4bpM5xo6zx5En44SvJFAd35zTxxNoERYqd"),s=(new(0,i.PublicKey)("M2mx93ekt1fmXSVkTrUL9xVFHkmME8HTUi5Cyc5aF7K"),"https://magiceden.io/terms-of-service.pdf")})),r.register("7PqqK",(function(t,n){e(t.exports,"getCollectibles",(function(){return u}),(function(e){return u=e}));var i=r("8kIyR"),o=r("5dasS"),s=r("7FU6O"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const a="collectibles",l=new Error("Failed to fetch collectibles for addresses");function u(e,t){return c(this,void 0,void 0,(function*(){var n;const r=`${e}/collectibles/v1`;try{const e=(yield i.rb.post(r,{addresses:t})).data,n=!!e.isTrimmed;if(!e.collectibles)throw l;return{allCollectibles:(0,s.parseCollectiblesResponse)(e.collectibles),isTrimmed:n}}catch(t){if((0,i.isRequestBuilderError)(t)){const i=null===(n=t.response)||void 0===n?void 0:n.status;(0,o.captureClientError)(t,i,a,{apiEnv:e})}throw t}}))}})),r.register("5dasS",(function(t,n){e(t.exports,"captureClientError",(function(){return o}));var i=r("4yY1D");const o=(e,t,n,o)=>{(!t||t>=400&&t<500)&&(i.telemetry.addBreadcrumb(n,JSON.stringify(o),i.Severity.Info),i.telemetry.captureError(e,i.FeatureTag.Collectibles))}})),r.register("7FU6O",(function(t,n){e(t.exports,"parseCollectiblesResponse",(function(){return o}));var i=r("gIkRw");const o=e=>e.reduce(((e,t)=>{const n=i.Collectible.safeParse(t);return n.success&&e.push(n.data),e}),[])})),r.register("kXHNg",(function(t,n){e(t.exports,"getSPLCollectibleMarketplaceStats",(function(){return c}),(function(e){return c=e}));var i=r("8kIyR"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch spl collectible marketplace stats"),c=(e,t,n,r)=>o(void 0,void 0,void 0,(function*(){const o=new URL(`${e}/solana/nft/v1/mint/${t}/stats`);let c;o.searchParams.set("chainId",n.toString()),r&&o.searchParams.set("pubkey",r);try{c=yield i.rb.headers({Accept:"application/json"}).get(o.toString())}catch(e){throw s}if(!(0,i.responseIsOkay)(c))throw s;return c.data.stats}))})),r.register("6IAZr",(function(t,n){e(t.exports,"getSPLListings",(function(){return a}),(function(e){return a=e}));var i=r("8kIyR"),o=r("5dasS"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const c=new Error("Failed to fetch SPL listings"),a=(e,t)=>s(void 0,void 0,void 0,(function*(){let n;try{const o=t.chainId.replace("solana:",""),r=t.address,s=new URLSearchParams;s.append("chainId",o);const a=`${e}/solana/nft/v1/pubkey/${r}/listings?${s.toString()}`,l=yield i.rb.headers({Accept:"application/json"}).get(a);if(n=l.status,!(0,i.responseIsOkay)(l))throw c;const u=l.data;return u.filter((e=>{var t;return!!(null===(t=e.listings)||void 0===t?void 0:t.magic_eden)}))}catch(t){const i=t instanceof Error?t:new Error("Non-Error was thrown during fetching of spl listings");throw(0,o.captureClientError)(i,n,"spl-listings",{apiEnv:e}),i}}))})),r.register("6mBy8",(function(t,n){e(t.exports,"isSolanaCollectibleChainData",(function(){return o})),e(t.exports,"isEthereumCollectibleChainData",(function(){return s})),e(t.exports,"isBitcoinCollectibleChainData",(function(){return c})),e(t.exports,"isBitcoinRareSatsCollectibleChainData",(function(){return a})),e(t.exports,"isTransferERC721EthereumArgs",(function(){return l})),e(t.exports,"isTransferERC1155EthereumArgs",(function(){return u})),e(t.exports,"isTransferCompressedTokenArgs",(function(){return d})),e(t.exports,"isTransferProgrammableNftArgs",(function(){return f})),e(t.exports,"isTransferOcpTokenArgs",(function(){return p})),e(t.exports,"isTransferOrdinalArgs",(function(){return h})),e(t.exports,"isTransferRareSatsArgs",(function(){return m}));var i=r("gYh0e");function o(e){return void 0!==(null==e?void 0:e.tokenAccount)}function s(e){return void 0!==(null==e?void 0:e.contract)}function c(e){return void 0!==e&&"firstCreatedTransactionHash"in e}function a(e){return c(e)&&!!e.utxoDetails}const l=e=>"transferERC721Ethereum"===e.type,u=e=>"transferERC1155Ethereum"===e.type,d=e=>{var t;return"compression"in e&&!!(null===(t=e.compression)||void 0===t?void 0:t.compressed)},f=e=>"standard"in e&&(e.standard===i.SPLTokenStandard.ProgrammableNonFungible||e.standard===i.SPLTokenStandard.ProgrammableNonFungibleEdition),p=e=>"transferSPLToken"===e.type&&"destination"in e,h=e=>"ordinal"===e.type,m=e=>"raresats"===e.type})),r.register("cuPjL",(function(t,n){e(t.exports,"BIDS_SCOPE",(function(){return s})),e(t.exports,"collectiblesQueryKeys",(function(){return c}));var i=r("4raQz");const o="collectibles",s=[o,"collectibleBids"],c={collections:e=>[o,"collections",{addresses:e.map(i.toAccount)}],hiddenCollections:e=>[o,"hiddenCollections",e],unhiddenCollections:e=>[o,"unhiddenCollections",e],visibilityOverrides:e=>[o,"visibilityOverrides",e],pinnedCollections:e=>[o,"pinnedCollections",e],optimisticUpdates:()=>[o,"optimisticUpdates"],collectibleBids:e=>[...s,e],collectibleMintGasEstimation:e=>[o,"mintNFTGasEstimation",e],collectibleSellSteps:e=>[o,"collectibleSellSteps",e],createMintTransaction:e=>[o,"createMintTransaction",e],transferTransaction:(e,t,n)=>[o,"transferTransaction",{transferArgs:e,transactionUnitCost:t,utxoState:n}]}})),r.register("80sCq",(function(t,n){e(t.exports,"collectiblesShouldDehydrateQueryPredicate",(function(){return c}));var i=r("cuPjL");const o=i.collectiblesQueryKeys.collections([])[1],s=[o,i.collectiblesQueryKeys.hiddenCollections("")[1],i.collectiblesQueryKeys.unhiddenCollections("")[1],i.collectiblesQueryKeys.pinnedCollections("")[1]],c=e=>{var t;const n=String(e.queryKey[1]);return n===o?(null===(t=e.state.data)||void 0===t?void 0:t.nrOfItems)<=500:s.includes(n)}})),r.register("161jh",(function(t,n){e(t.exports,"createCollectibleHooks",(function(){return R}),(function(e){return R=e}));var i=r("IJGHK"),o=r("cuPjL"),s=r("i2k8j"),c=r("dNLYO"),a=r("1IJht"),l=r("bpTZ5"),u=r("fBBon"),d=r("ix9Y8"),f=r("aWhKL"),p=r("4RVhX"),h=r("brBvm"),m=r("fzgTe"),b=r("6L6R1"),y=r("6LJKU"),v=r("ljzEo"),g=r("6i8Cn"),S=r("lcT8D"),C=r("hZDtU"),w=r("6jvI1"),x=r("9ZCbN"),I=r("5sEqw"),E=r("d0k5H"),k=r("fDd2S"),T=r("kPwmm"),A=r("kxxtU"),M=r("1rtKv"),D=r("3kXyl"),P=r("6J0J3"),L=r("iqGep"),O=r("a3HVI"),N=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function R(e,t,n,r,R,z,F,j,B,V,U,H){return{useInstantSellEvmGasEstimation:(e,t,n,i)=>(0,T.useInstantSellEvmGasEstimation)({sellSteps:n,marketplace:e,transactionHooks:B,nativeTokenBalance:i,collectibleChainId:t}),useInstantSellSolanaGasEstimation:e=>(0,D.useInstantSellSolanaGasEstimation)({bidSummary:e,fungibleHooks:V}),useInstantSellExecuteSolanaSteps:(n,i,o,s,c)=>(0,M.useInstantSellExecuteSolanaSteps)({stepsOrderId:n,analytics:F,storage:t,accountSigner:e,accountHooks:z,initialSteps:i,bidSummary:o,queryClient:r,collectible:s,tokenPrice:c}),useInstantSellExecuteEvmSteps:(i,o,s,c,a,l,u)=>(0,A.useInstantSellExecuteEvmSteps)({stepsOrderId:i,analytics:F,getApiEnvironment:n,storage:t,accountSigner:e,accountHooks:z,initialSteps:o,gasEstimation:s,refetchSellSteps:c,bidSummary:a,queryClient:r,collectible:l,tokenPrice:u}),useCollections:e=>(0,u.useCollections)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useCollectionsAreTrimmed:e=>(0,u.useCollectionsAreTrimmed)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useCollection:e=>(0,I.useCollection)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useCollectible:e=>(0,S.useCollectible)(Object.assign(Object.assign({},e),{getApiEnvironment:n,queryClient:r})),useCollectibleVisibilityOverridesByAccount:e=>(0,g.useVisibilityOverrides)(t,e),useInstantSell:e=>(0,k.useInstantSell)(Object.assign({getApiEnvironment:n},e)),useHideCollectionProps:e=>(0,E.useHideCollectionProps)(Object.assign({storage:t,analytics:F,getApiEnvironment:n},e)),usePinCollectionProps:e=>(0,L.usePinCollectionProps)(Object.assign({storage:t,analytics:F},e)),usePrefetchCollectibleSellSteps:()=>(0,a.usePrefetchCollectibleSellSteps)(n),useCollectiblesReportSpam:e=>(0,w.useCollectiblesReportSpam)(Object.assign({storage:t,analytics:F},e)),invalidateCollectibles:e=>N(this,void 0,void 0,(function*(){yield r.invalidateQueries(o.collectiblesQueryKeys.collections(e))})),refetchCollectibles:e=>N(this,void 0,void 0,(function*(){yield r.refetchQueries(o.collectiblesQueryKeys.collections(e))})),useCollectibleBids:(e,t)=>(0,s.useCollectibleBids)({getApiEnvironment:n,bidAsset:e,isEnabled:t}),useCollectibleSellSteps:e=>(0,a.useCollectibleSellSteps)({getApiEnvironment:n,sellAsset:e}),useCollectiblesHideUnhide:e=>(0,C.useCollectiblesHideUnhide)(Object.assign({storage:t,analytics:F},e)),useGetCollectibleVisibilityStatus:e=>(0,C.useGetCollectibleVisibilityStatus)({storage:t,accountId:e}),useGetCollectionVisibilityStatus:e=>(0,C.useGetCollectionVisibilityStatus)({storage:t,accountId:e}),useManageCollectionsVisibilityViewState:({account:e})=>(0,P.useManageCollectionsVisibilityViewState)({account:e,storage:t,queryClient:r,getApiEnvironment:n}),useHiddenCollections:e=>(0,d.useHiddenCollections)(e,t),usePinnedCollections:e=>(0,h.usePinnedCollections)(e,t),useReportCollectibleEvent:()=>(0,m.useReportCollectibleEvent)(n),useUnhiddenCollections:e=>(0,y.useUnhiddenCollections)(e,t),useUnhideCollection:()=>(0,v.useUnhideCollection)(t,F),useHideCollection:()=>(0,f.useHideCollection)(t,F),usePinCollection:()=>(0,p.usePinCollection)(t),useTransferCollectible:()=>(0,b.useTransferCollectible)({accountHooks:z,accountSigner:e,collectiblesSdk:H,queryClient:r,storage:t,utxoManager:U}),useCollectibleTransferTransaction:e=>(0,l.useCollectibleTransferTransaction)({accountHooks:z,priorityFeeService:R,analytics:F,sendCollectibleState:e,transactionHooks:B}),useSendCollectibleStatusViewState:e=>(0,O.useSendCollectibleStatusViewState)(Object.assign(Object.assign({},e),{collectiblesSdk:H})),useCollectibleSummaryItems:(e,t)=>(0,x.useCollectibleSummaryItems)(H,e,t),useMintCollectible:e=>(0,c.useMintCollectible)(Object.assign({getApiEnvironment:n},e)),useCollectibleDetailViewState:e=>(0,i.useCollectibleDetailViewState)(e,z,j,B,H)}}})),r.register("IJGHK",(function(t,n){e(t.exports,"useCollectibleDetailViewState",(function(){return c}));var i=r("belzv"),o=r("lDSNw"),s=r("iUvOb");function c(e,t,n,r,c){const{chain:a,owner:l}=e||{},u=null==a?void 0:a.id,{data:d}=t.useSelectedChainAddress({address:l,networkID:u});!function(e,t){e.usePrefetchUtxoState(t)}(r,d);const f=(0,s.useCollectibleTraits)(e),p=u?i.Chains.getChainID(u):void 0,h=p?(0,i.getNativeFungibleCaip19ForChain)(p):void 0,{data:m}=n.usePrice({query:h?{data:h}:void 0});return{ctaBanner:(0,o.useMemo)((()=>{var t,n;if(e&&m&&p)return null===(n=(t=c.get(p)).collectibleDetailCtaBanner)||void 0===n?void 0:n.call(t,e,m.price)}),[p,e,m,c]),traits:f}}})),r.register("iUvOb",(function(t,n){e(t.exports,"useCollectibleTraits",(function(){return a}));var i=r("lMzyG"),o=r("lDSNw"),s=r("eMvjl"),c=r("6mBy8");const a=e=>(0,o.useMemo)((()=>{if(!e)return[];const t=e.chainData;return(0,c.isBitcoinCollectibleChainData)(t)&&t.utxoDetails?t.utxoDetails.satributes.map((({count:e,displayName:t,description:n,url:o})=>{var r;return{type:t.toUpperCase(),value:null!==(r=i.i18next.t(l(e,"collectibleDetailSatsCount_one","collectibleDetailSatsCount_other"),{count:e}))&&void 0!==r?r:"",modal:{name:t,description:n,iconUrl:o}}})):e.attributes.map((({trait_type:e,value:t,display_type:n})=>({type:e,value:(0,s.formatTrait)({value:t,type:n})})))}),[e]),l=(e,t,n)=>1===e?t:n})),r.register("eMvjl",(function(n,i){e(n.exports,"formatTrait",(function(){return s}));var o=r("2MVjM");const s=({value:e,type:n})=>{if(!e)return"";try{switch(n){case"number":return t(o)(e).format("0,0.[00]").toString();case"date":return new Date(Number(e)).toLocaleDateString();default:return`${e}`}}catch(t){return`${e}`}}})),r.register("i2k8j",(function(t,n){e(t.exports,"useCollectibleBids",(function(){return S}),(function(e){return S=e})),e(t.exports,"createBidAsset",(function(){return C}),(function(e){return C=e}));var i=r("8kIyR"),o=r("lNRH9"),s=r("7pPsM"),c=r("gIkRw"),a=r("5dasS"),l=r("6mBy8"),u=r("cuPjL"),d=r("bLLhM"),f=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const p=s.z.object({caip19:s.z.string(),name:s.z.string(),symbol:s.z.string()}),h=s.z.object({bps:s.z.number(),kind:s.z.union([s.z.literal("marketplace"),s.z.literal("royalty")]),recipient:s.z.string().optional()}),m=s.z.object({amount:s.z.number(),feeBreakdown:s.z.array(h),netAmount:s.z.number(),token:p,totalFeeBps:s.z.number()}),b=s.z.object({name:s.z.string(),logo:s.z.string(),url:s.z.string().optional()}),y=s.z.object({id:s.z.string(),expiration:s.z.string().optional(),price:m,source:b}),v=s.z.object({bids:s.z.array(y)}),g=new(0,c.CollectiblesError)("Failed to fetch collectible bids."),S=({bidAsset:e,isEnabled:t,getApiEnvironment:n})=>{const r=t&&null!==e.address&&null!==e.chainId;return(0,o.useQuery)({enabled:r,staleTime:d.StaleTime.Short,refetchInterval:d.RefetchInterval.Shortest,queryKey:u.collectiblesQueryKeys.collectibleBids(e),queryFn(){return f(this,void 0,void 0,(function*(){return t=n(),o=e,f(void 0,void 0,void 0,(function*(){var e;if(!o.address)throw g;try{const e=`${t}/collectibles/v1/bids`,n=yield i.rb.validateStatus(!0).post(e,{asset:o}),{bids:r}=v.parse(n.data);return r}catch(n){if((0,i.isRequestBuilderError)(n)){const i=null===(e=n.response)||void 0===e?void 0:e.status;(0,a.captureClientError)(n,i,"collectible-instant-sell-bids",{apiEnv:t})}throw g}}));var t,o}))}})},C=e=>{var t;const n=null==e?void 0:e.chainData,i=null!==(t=null==e?void 0:e.chain.id)&&void 0!==t?t:null,o=(0,l.isEthereumCollectibleChainData)(n),r=(0,l.isSolanaCollectibleChainData)(n),s=o?{tokenId:n.id}:{},c=r?{contractType:n.standard}:{},a=o?n.contract.toLowerCase():r?n.mint:null;return Object.assign(Object.assign({chainId:i,address:a,resourceType:"address"},s),c)}})),r.register("bLLhM",(function(t,n){e(t.exports,"CacheTime",(function(){return o})),e(t.exports,"StaleTime",(function(){return c})),e(t.exports,"RefetchInterval",(function(){return l}));var i=r("4y59b");var o,s,c,a,l,u;(s=o||(o={}))[s.Always=1/0]="Always",s[s.Short=(0,i.toMilliseconds)({days:1})]="Short",s[s.Medium=(0,i.toMilliseconds)({days:3})]="Medium",s[s.Long=(0,i.toMilliseconds)({days:7})]="Long",(a=c||(c={}))[a.Immediate=0]="Immediate",a[a.Short=(0,i.toMilliseconds)({minutes:1})]="Short",a[a.Medium=(0,i.toMilliseconds)({minutes:2.5})]="Medium",a[a.Long=(0,i.toMilliseconds)({minutes:5})]="Long",a[a.Never=1/0]="Never",(u=l||(l={}))[u.Shortest=(0,i.toMilliseconds)({seconds:10})]="Shortest",u[u.Shorter=(0,i.toMilliseconds)({seconds:30})]="Shorter",u[u.Short=(0,i.toMilliseconds)({minutes:1})]="Short",u[u.Medium=(0,i.toMilliseconds)({minutes:2.5})]="Medium",u[u.Long=(0,i.toMilliseconds)({minutes:5})]="Long",u[u.Longer=(0,i.toMilliseconds)({minutes:7.5})]="Longer",u[u.Longest=(0,i.toMilliseconds)({minutes:10})]="Longest"})),r.register("dNLYO",(function(t,n){e(t.exports,"useMintCollectible",(function(){return h}),(function(e){return h=e}));var i=r("belzv"),o=(r("ePfNR"),r("8kIyR")),s=(r("3fvLJ"),r("4raQz"),r("5Py8w"),r("5txXt"),r("ai2u3"),r("8Xw9B"),r("kd2w2"),r("fG04A")),c=(r("lNRH9"),r("gIkRw")),a=(r("jUd0W"),r("cuPjL"),function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))});const l="https://ipfs.io/ipfs",u="https://api.nft.storage/upload",d=void 0,f=new(0,c.CollectiblesError)("Error uploading media"),p=(new(0,c.CollectiblesError)("Error uploading metadata"),new(0,c.CollectiblesError)("Error minting collectible")),h=({contentType:e,description:t,name:n,networkID:r,uri:c,userAccount:h,sendFailureAnalyticsEvent:m,sendSuccessAnalyticsEvent:b,getApiEnvironment:y})=>(0,s.useMutation)({mutationFn:()=>a(void 0,void 0,void 0,(function*(){const s=yield function(e,t){return a(this,void 0,void 0,(function*(){const n=(yield o.rb.get(e)).blob;try{const e=yield o.rb.auth(!1).post(u,n,{headers:{"Content-Type":t,Authorization:`Bearer ${d}`}});if(200===e.status){const t=e.data;return`${l}/${t.value.cid}`}throw f}catch(e){throw console.error("Error uploading image:",e),e}}))}(c,e),m={name:n,description:t,walletAddress:{chainId:r,resourceType:i.Caip19ResourceType.address,address:h},imageUrl:s},b=yield o.rb.post(`${y()}/nft_minting/v1/mint-nft`,m);if(!(0,o.responseIsOkay)(b))throw p;return b.data})),onError:m,onSuccess:b})})),r.register("5Py8w",(function(t,n){e(t.exports,"createAssociatedTokenAccountInstruction",(function(){return c})),e(t.exports,"createAssociatedTokenAccountIdempotentInstruction",(function(){return a}));var i=r("csgS8"),o=r("kd2w2"),s=r("6rT8n").Buffer;function c(e,t,n,i,r=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){return l(e,t,n,i,s.alloc(0),r,c)}function a(e,t,n,i,r=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){return l(e,t,n,i,s.from([1]),r,c)}function l(e,t,n,r,s,c=o.TOKEN_PROGRAM_ID,a=o.ASSOCIATED_TOKEN_PROGRAM_ID){const l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1}];return new(0,i.TransactionInstruction)({keys:l,programId:a,data:s})}})),r.register("5txXt",(function(t,n){e(t.exports,"createInitializeMintInstruction",(function(){return f}));var i=r("25lQ2"),o=r("dMpk2"),s=r("csgS8"),c=r("kd2w2"),a=(r("fsc3I"),r("3WlUK")),l=r("f2Fzh"),u=r("6rT8n").Buffer;const d=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("decimals"),(0,o.publicKey)("mintAuthority"),new(0,l.COptionPublicKeyLayout)("freezeAuthority")]);function f(e,t,n,i,o=c.TOKEN_PROGRAM_ID){const r=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],l=u.alloc(d.span);return d.encode({instruction:a.TokenInstruction.InitializeMint,decimals:t,mintAuthority:n,freezeAuthority:i},l),new(0,s.TransactionInstruction)({keys:r,programId:o,data:l})}})),r.register("ai2u3",(function(t,n){e(t.exports,"createMintToInstruction",(function(){return f}));var i=r("25lQ2"),o=r("dMpk2"),s=r("csgS8"),c=r("kd2w2"),a=(r("fsc3I"),r("a3Wet")),l=r("3WlUK"),u=r("6rT8n").Buffer;const d=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]);function f(e,t,n,i,o=[],r=c.TOKEN_PROGRAM_ID){const f=(0,a.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,o),p=u.alloc(d.span);return d.encode({instruction:l.TokenInstruction.MintTo,amount:BigInt(i)},p),new(0,s.TransactionInstruction)({keys:f,programId:r,data:p})}})),r.register("1IJht",(function(t,n){e(t.exports,"StepActionEnum",(function(){return y}),(function(e){return y=e})),e(t.exports,"StepType",(function(){return g}),(function(e){return g=e})),e(t.exports,"useCollectibleSellSteps",(function(){return N}),(function(e){return N=e})),e(t.exports,"usePrefetchCollectibleSellSteps",(function(){return R}),(function(e){return R=e})),e(t.exports,"createSellAsset",(function(){return z}),(function(e){return z=e}));var i=r("belzv"),o=r("8kIyR"),s=r("lNRH9"),c=r("fvKRK"),a=r("lDSNw"),l=r("7pPsM"),u=r("gIkRw"),d=r("5dasS"),f=r("6mBy8"),p=r("cuPjL"),h=r("bLLhM"),m=r("i2k8j"),b=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const y=l.z.enum(["auth","nft-approval","sale","order-signature","refetch","blur-swap","update-proof"]),v=l.z.enum(["/execute/auth-signature/v1","/order/v3"]),g=l.z.enum(["transaction","signature","post","refetch"]),S=l.z.enum(["eip712","eip191"]),C=l.z.object({domain:l.z.any(),types:l.z.any(),value:l.z.any()}),w=l.z.object({message:l.z.string()}),x=l.z.object({from:l.z.string(),to:l.z.string(),data:l.z.string()}),I=l.z.object({endpoint:v,body:l.z.object({id:l.z.string(),kind:l.z.string()})}),E=l.z.object({action:y,chainId:i.EVMNetworkID,type:l.z.literal(g.enum.signature),data:l.z.object({signatureKind:S,signatureData:l.z.union([w,C]),postData:I})}),k=l.z.object({chainId:i.EVMNetworkID,action:y,data:x,type:l.z.literal(g.enum.transaction)}),T=l.z.object({chainId:i.EVMNetworkID,action:y,type:l.z.literal(g.enum.refetch),data:l.z.object({resource:l.z.string()})}),A=l.z.union([E,k,T]),M=l.z.object({action:y,chainId:i.ZodSolanaNetworkID,type:l.z.literal(g.enum.transaction),data:l.z.object({transaction:l.z.string()})}),D=l.z.union([A,M]),P=l.z.object({steps:l.z.array(D),orderId:l.z.string().optional()}),L=new(0,u.CollectiblesError)("Failed to fetch collectible sell steps."),O=(e,t)=>b(void 0,void 0,void 0,(function*(){var n,i,r;try{const n=`${e}/collectibles/v1/sell`,i=yield o.rb.validateStatus(!0).post(n,t);return P.parse(i.data)}catch(t){if((0,o.isRequestBuilderError)(t)){const o=null===(n=t.response)||void 0===n?void 0:n.status;if((0,d.captureClientError)(t,o,"collectible-instant-sell-steps",{apiEnv:e}),null===(r=null===(i=t.response)||void 0===i?void 0:i.data)||void 0===r?void 0:r.code){const{code:e}=t.response.data;throw{code:e}}if(o)throw t}throw L}})),N=({sellAsset:e,getApiEnvironment:t})=>{const n=void 0!==e.details.orderId;return(0,s.useQuery)({enabled:n,queryKey:p.collectiblesQueryKeys.collectibleSellSteps(e),staleTime:h.StaleTime.Never,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:(e,t)=>!t.code&&e<3,queryFn(){return b(this,void 0,void 0,(function*(){return O(t(),e)}))}})},R=e=>{const t=(0,c.useQueryClient)();return(0,a.useCallback)((n=>b(void 0,[n],void 0,(function*({collectible:n,bid:i}){const o=z((0,m.createBidAsset)(n),i,n);yield t.prefetchQuery(p.collectiblesQueryKeys.collectibleSellSteps(o),(()=>b(void 0,void 0,void 0,(function*(){return O(e(),o)}))))}))),[e,t])},z=(e,t,n)=>{var i,o;const r=null==n?void 0:n.chainData,s=(0,f.isEthereumCollectibleChainData)(r),c=(0,f.isSolanaCollectibleChainData)(r),a=null==n?void 0:n.owner,l=s?null==a?void 0:a.toLowerCase():a,u=null==t?void 0:t.id,d=null===(i=null==t?void 0:t.source)||void 0===i?void 0:i.name,p=c?{minPrice:null===(o=null==t?void 0:t.price)||void 0===o?void 0:o.netAmount,tokenAccount:r.tokenAccount}:{};return{details:Object.assign({asset:e,owner:l,orderId:u,marketplace:d},p)}}})),r.register("bpTZ5",(function(t,n){e(t.exports,"useCollectibleTransferTransaction",(function(){return y}),(function(e){return y=e}));var i=r("belzv"),o=r("8kIyR"),s=r("4raQz"),c=r("4y59b"),a=r("lNRH9"),l=r("lDSNw"),u=r("5dasS"),d=r("dJh1I"),f=r("aSzfJ"),p=r("cuPjL"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const m="collectible-transfer-tx",b=(0,c.toMilliseconds)({seconds:30});function y({accountHooks:e,priorityFeeService:t,sendCollectibleState:n,transactionHooks:i}){var r,c,y,g,S;const{data:C}=e.useSelectedMultiChainAccount(),w=null!==(y=(0,s.useResolveDomainOwnerIfNecessary)(null===(r=null==n?void 0:n.sendFormValues)||void 0===r?void 0:r.recipient,null===(c=null==n?void 0:n.collectible)||void 0===c?void 0:c.chain.id))&&void 0!==y?y:"",x=(0,l.useMemo)((()=>{if(C)return(0,d.createTransferArgs)(n,w)}),[C,n,w]),I=null===(g=null==n?void 0:n.collectible)||void 0===g?void 0:g.owner,{data:E}=e.useSelectedChainAddress({address:I,networkID:null==x?void 0:x.networkID}),{data:k}=i.useUtxoState(E),T=null!==(S=null==n?void 0:n.sendFormValues.transactionSpeed)&&void 0!==S?S:s.TransactionSpeed.standard,{data:A}=i.useTransactionSpeedsToUnitCost({networkID:null==x?void 0:x.networkID,enableFallback:!0}),M=A?A[T]:void 0;return(0,a.useQuery)({staleTime:b,enabled:v(x,k),queryKey:p.collectiblesQueryKeys.transferTransaction(x,M,k),queryFn(){return h(this,void 0,void 0,(function*(){if(x)return(0,f.createTransferTransaction)(x,k,t,M)}))},onError(e){var t;if((0,o.isRequestBuilderError)(e)){const n=null===(t=e.response)||void 0===t?void 0:t.status;(0,u.captureClientError)(e,n,m,{})}}})}function v(e,t){if(!e)return!1;if(i.Chains.isBitcoinNetworkID(e.networkID)&&!t)return!1;return!new(0,c.BigNumber)(e.amount).isNaN()}})),r.register("dJh1I",(function(t,n){e(t.exports,"createTransferArgs",(function(){return a}));var i=r("belzv"),o=r("gYh0e"),s=r("gd9Oy"),c=r("4raQz");function a(e,t){var n;const r=null===(n=null==e?void 0:e.collectible)||void 0===n?void 0:n.chain.id;if(r)return i.Chains.isBitcoinNetworkID(r)?function(e,t,n){const i=t.collectible;if(!i||!i.owner||!t.sendFormValues)throw new Error("State is missing necessary data");const{chainData:o}=i,{firstCreatedInscriptionId:r,utxoDetails:s,outputValue:c,utxoHash:a,utxoIndex:l}=o;let u;if(s)u={type:"raresats",networkID:e,hash:s.hash,index:s.index,value:s.value.toString(),senderAddress:i.owner,destination:n,amount:1};else{if(!a||void 0===l)throw new Error(`Unable to determine transfer type for collectible: ${i.id}`);u={type:"ordinal",networkID:e,inscriptionId:r,value:c,amount:1,senderAddress:i.owner,destination:n,utxoHash:a,utxoIndex:l}}return u}(r,e,t):i.Chains.isSolanaNetworkID(r)?function(e,t,n){var i;const r=t.collectible;if(!r||!t.sendFormValues)throw new Error("State is missing necessary data");const{decimals:c="0"}=r,a=parseFloat(c),l=r.chainData,{mint:u,standard:d,tokenAccount:f,compression:p}=l,{amountAsset:h}=t.sendFormValues,m={networkID:r.chain.id,addressType:s.AddressType.Solana,address:null!==(i=r.owner)&&void 0!==i?i:""},b=(0,o.getTransferHookProgramId)(r);switch(d){case o.SPLTokenStandard.NonFungible:case o.SPLTokenStandard.NonFungibleEdition:case o.SPLTokenStandard.ProgrammableNonFungible:case o.SPLTokenStandard.ProgrammableNonFungibleEdition:return{type:"transferSPLToken",networkID:e,senderAddress:m,destination:n,amount:"1",senderAccount:f,mint:u,decimals:a,standard:d,compression:p,programId:l.programId,transferHookProgramId:b};case o.SPLTokenStandard.SemiFungible:return{type:"transferSPLToken",networkID:e,senderAddress:m,destination:n,amount:h.isZero()?"1":h.toString(),senderAccount:f,mint:u,decimals:a,standard:d,programId:l.programId,transferHookProgramId:b};default:throw new Error("Unknown fungible token type")}}(r,e,t):i.Chains.isEVMNetworkID(r)?function(e,t,n){var i;const o=t.collectible;if(!o||!t.sendFormValues)throw new Error("State is missing necessary data");const{chainData:r}=o,{id:c,contract:a,standard:l}=r,{amountAsset:u}=t.sendFormValues,d={networkID:o.chain.id,addressType:s.AddressType.EVM,address:null!==(i=o.owner)&&void 0!==i?i:""};switch(l){case"ERC721":return{type:"transferERC721Ethereum",networkID:e,senderAddress:d,destination:n,amount:1,contractAddress:a,tokenID:c};case"ERC1155":return{type:"transferERC1155Ethereum",networkID:e,senderAddress:d,destination:n,amount:null!=u?u:"1",contractAddress:a,tokenID:c};default:throw new Error("Unknown fungible token type")}}(r,e,t):(0,c.assertNever)(r)}})),r.register("aSzfJ",(function(t,n){e(t.exports,"createTransferTransaction",(function(){return l}),(function(e){return l=e}));var i=r("belzv"),o=r("6HfeZ"),s=r("6JpeG"),c=r("75KqM"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l(e,t,n,i){return a(this,void 0,void 0,(function*(){if(u(e))return(0,c.createSolanaTransferTransaction)({transferArgs:e,priorityFeeService:n});if(d(e))return(0,s.createEvmTransferTransaction)(e);if(f(e)){if(!t)throw new Error("Missing utxo state for Bitcoin transaction.");return(0,o.createBitcoinTransferTransaction)(e,t,i)}throw new Error(`Unsupported transaction type: ${JSON.stringify(e)}`)}))}const u=e=>i.Chains.isSolanaNetworkID(e.networkID),d=e=>i.Chains.isEVMNetworkID(e.networkID),f=e=>i.Chains.isBitcoinNetworkID(e.networkID)})),r.register("6HfeZ",(function(t,n){e(t.exports,"createBitcoinTransferTransaction",(function(){return a}));var i=r("4raQz"),o=r("6mBy8"),s=r("amX0s"),c=r("u6Mgu");function a(e,t,n){let r,a,l;const u=n,d=Math.round(u?(0,i.toSatoshisPerVirtualByte)(u.btcPerKilobyte).toNumber():i.DEFAULT_FEE_RATE);if((0,o.isTransferOrdinalArgs)(e))[r,a,l]=(0,s.createOrdinalsTransaction)(Object.assign(Object.assign({},e),{utxoState:t,feerate:d}));else{if(!(0,o.isTransferRareSatsArgs)(e))return(0,i.assertNever)(e);[r,a,l]=(0,c.createRareSatsTransaction)(Object.assign(Object.assign({},e),{utxoState:t,feerate:d}))}return{networkID:e.networkID,psbt:r,vb:l,psbtChain:void 0,inputsToSign:a}}})),r.register("amX0s",(function(t,n){e(t.exports,"createOrdinalsTransaction",(function(){return a}));var i=r("belzv"),o=r("4raQz"),s=r("5GnSC"),c=(s=r("5GnSC"),r("1iFE7"));const a=({value:e,senderAddress:t,destination:n,utxoState:{safeToSendUtxos:r},feerate:a,utxoHash:l,utxoIndex:u})=>{const d={transactionHash:l,index:u,value:e,isSafeToSend:!1,owner:t},f=[d],p=[{address:n,value:parseFloat(d.value),script:(0,c.toOutputScript)(n)}],h=(0,o.coinSelect)((0,i.addressTypeFromAddress)(i.NetworkIDs.Bitcoin.Mainnet,t),r,p,a,f),m=new(0,s.Psbt)({network:s.networks.bitcoin});if("success"===h.type){const{inputs:e,outputs:n}=h;m.addInputs(e.map((e=>(0,o.utxoToInput)(e,t,!0)))),m.addOutputs(n)}return[m,m.data.inputs.map(((e,n)=>({address:t,signingIndexes:[n]}))),h.vb]}})),r.register("u6Mgu",(function(t,n){e(t.exports,"createRareSatsTransaction",(function(){return a}));var i=r("belzv"),o=r("4raQz"),s=r("5GnSC"),c=(s=r("5GnSC"),r("1iFE7"));const a=({hash:e,index:t,value:n,senderAddress:r,destination:a,utxoState:{safeToSendUtxos:l},feerate:u})=>{const d={index:t,transactionHash:e,value:n,isSafeToSend:!1,owner:r},f=[d],p=[{address:a,value:parseFloat(d.value),script:(0,c.toOutputScript)(a)}],h=(0,o.coinSelect)((0,i.addressTypeFromAddress)(i.NetworkIDs.Bitcoin.Mainnet,r),l,p,u,f),m=new(0,s.Psbt)({network:s.networks.bitcoin});if("success"===h.type){const{inputs:e,outputs:t}=h;m.addInputs(e.map((e=>(0,o.utxoToInput)(e,r,!0)))),m.addOutputs(t)}const b=m.data.inputs.map(((e,t)=>({address:r,signingIndexes:[t]})));return[m,b,h.vb]}})),r.register("6JpeG",(function(n,i){e(n.exports,"createEvmTransferTransaction",(function(){return d}),(function(e){return d=e}));var o=r("4raQz"),s=r("3yHS8"),c=r("6mBy8"),a=r("fEc8l"),l=r("lsgSG"),u=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function d(e){return u(this,void 0,void 0,(function*(){let n;if((0,c.isTransferERC721EthereumArgs)(e)){const{networkID:t,senderAddress:i,destination:o,contractAddress:r,tokenID:s}=e;n=yield(0,a.createErc721TransferTransaction)({sender:i.address,networkID:t,destination:o,contractAddress:r,tokenID:s,value:1,ethereumNetworkID:t})}else{if(!(0,c.isTransferERC1155EthereumArgs)(e))return(0,o.assertNever)(e);{const{networkID:i,senderAddress:o,destination:r,contractAddress:c,tokenID:a,amount:u}=e;n=yield(0,l.createErc1155TransferTransaction)({sender:o.address,networkID:i,destination:r,contractAddress:c,tokenID:a,value:"string"==typeof u?new(t(s))(u,10):u,ethereumNetworkID:i})}}return{networkID:e.networkID,unsignedTransaction:n}}))}})),r.register("fEc8l",(function(n,i){e(n.exports,"createErc721TransferTransaction",(function(){return f}),(function(e){return f=e}));var o=r("belzv"),s=r("4chX7"),c=r("4raQz"),a=r("3yHS8"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=["function safeTransferFrom(address from, address to, uint256 tokenId)","function transferFrom(address from, address to, uint256 tokenId)"],d=new Error("Error populating ERC721 transaction data."),f=e=>l(void 0,void 0,void 0,(function*(){const{sender:n,networkID:i,destination:r,contractAddress:l,tokenID:f,ethereumNetworkID:p}=e,h=(0,c.getContract)(i,l,u,n);let m;try{const e=yield h.populateTransaction.safeTransferFrom(n,r,new(t(a))(f).toString(10));if(!e.data)throw d;m=e.data}catch(e){throw d}return s.EthUnsignedTransactionObject.parse({type:s.TransactionTypes.eip1559,from:n,to:l,chainId:"number"==typeof p?p:o.Chains.getEVMNetworkIDValue(p),data:m})}))})),r.register("lsgSG",(function(n,i){e(n.exports,"createErc1155TransferTransaction",(function(){return f}),(function(e){return f=e}));var o=r("belzv"),s=r("4chX7"),c=r("4raQz"),a=r("3yHS8"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=["function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data)","function transferFrom(address from, address to, uint256 id, uint256 amount, bytes data)"],d=new Error("Error populating ERC1155 transaction data."),f=e=>l(void 0,void 0,void 0,(function*(){const{sender:n,networkID:i,destination:r,contractAddress:l,tokenID:f,value:p,ethereumNetworkID:h}=e,m=(0,c.getContract)(i,l,u,n);let b;try{const e=yield m.populateTransaction.safeTransferFrom(n,r,new(t(a))(f).toString(10),p.toString(10),[]);if(!e.data)throw d;b=e.data}catch(e){throw d}return s.EthUnsignedTransactionObject.parse({type:s.TransactionTypes.eip1559,from:n,to:l,chainId:"number"==typeof h?h:o.Chains.getEVMNetworkIDValue(h),data:b})}))})),r.register("75KqM",(function(t,n){e(t.exports,"createSolanaTransferTransaction",(function(){return f}),(function(e){return f=e}));var i=r("ePfNR"),o=r("3fvLJ"),s=r("4raQz"),c=r("6mBy8"),a=r("8hMR3"),l=r("15HoS"),u=r("7YIQo"),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function f(e){return d(this,arguments,void 0,(function*({transferArgs:e,priorityFeeService:t}){const{networkID:n,mint:r}=e,d=(0,s.createConnectionBySolanaNetworkID)(n);let f,p;const{senderAddress:h,destination:m}=e;if(p=(yield(0,s.getComputeUnitPrice)({destination:m,senderAddress:h,mint:r})).microLamports,(0,c.isTransferCompressedTokenArgs)(e))f=yield(0,a.createCompressedTokenTransferTransaction)(e);else if((0,c.isTransferProgrammableNftArgs)(e))f=yield(0,u.createProgrammableNftTransferTransaction)(e);else if((0,c.isTransferOcpTokenArgs)(e)&&(yield(0,i.getOCPMintState)(new(0,o.PublicKey)(r),d)))f=yield(0,l.createOcpTokenTransferTransaction)(Object.assign({},e));else{if(!(0,s.isTransferDefaultSPLTokenArgs)(e))throw new Error("Unsupported transferSPLSolana args");f=yield(0,s.createDefaultSplTokenTransferTransaction)(Object.assign(Object.assign({},e),{connection:d}))}const{memo:b}=e;return b&&f.add((0,s.writeMemo)({memoText:b})),f.feePayer=new(0,o.PublicKey)(e.senderAddress.address),p&&t&&(f=yield t.addPriorityFee(f,{connection:d,calculators:{cost:new(0,s.StaticPriceCalculator)(p)}})),f.recentBlockhash=(yield d.getLatestBlockhash("confirmed")).blockhash,{networkID:e.networkID,transaction:[f]}}))}})),r.register("8hMR3",(function(t,n){e(t.exports,"createCompressedTokenTransferTransaction",(function(){return a}),(function(e){return a=e}));var i=r("bpTD2"),o=r("3fvLJ"),s=r("bMlPg"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function a(e){return c(this,void 0,void 0,(function*(){const{senderAddress:t,mint:n}=e,c=new(0,o.Transaction),a=(0,i.getAPIEnvironment)(),l=yield(0,s.getCompressionProof)({apiEnv:a,networkID:t.networkID,mintAddress:n}),{createCompressedNftTransferIX:u}=yield Promise.resolve(r("ePfNR"));return c.add(yield u(Object.assign(Object.assign({},e),l))),c}))}})),r.register("bMlPg",(function(t,n){e(t.exports,"getCompressionProof",(function(){return a}),(function(e){return a=e}));var i=r("8kIyR"),o=r("4yY1D"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};class c extends Error{constructor(e){super(e),this.name="ProofError"}}function a(e){return s(this,arguments,void 0,(function*({apiEnv:e,networkID:t,mintAddress:n}){const r=`${e}/collectibles/v1/proof`;let s;try{s=yield i.rb.post(r,{chainId:t,address:n})}catch(e){const i=new c(`Failed to fetch proof for ${n} on network ${t}.`);throw o.telemetry.captureError(i,o.FeatureTag.Collectibles),i}if(200!==s.status){const e=new c(`Failed to fetch proof for ${n} on network ${t}.`);throw o.telemetry.captureError(e,o.FeatureTag.Collectibles),e}return yield s.data}))}})),r.register("15HoS",(function(t,n){e(t.exports,"createOcpTokenTransferTransaction",(function(){return a}),(function(e){return a=e}));var i=r("bpTD2"),o=r("3fvLJ"),s=r("4raQz"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function a(e){return c(this,arguments,void 0,(function*({networkID:e,destination:t,mint:n,senderAddress:r}){const{createComputeBudgetIx:c,createOCPTransferIX:a,getOCPMintState:l}=yield(0,s.getMetaplexDeps)(),u=(0,s.createConnectionBySolanaNetworkID)(e),d=new(0,o.PublicKey)(n),f=yield l(d,u);if(!f)throw new Error("Mint state not found for OCP transfer");(0,i.isDevelopment)()&&console.log("This is a Magic Eden Open Creator Protocol Token");const p=new(0,o.Transaction);p.add(c());const{destinationAddress:h}=yield(0,s.ensureDestinationDetails)({solanaConnection:u,destination:new(0,o.PublicKey)(t),mint:d,programId:s.TOKEN_PROGRAM_ID}),m=new(0,o.PublicKey)(r.address),{initAccountIX:b,transferIX:y}=yield a({senderAddress:m,destinationAddress:h,mintAddress:d,mintState:f,connection:u});return b&&p.add(b),p.add(y),p}))}})),r.register("7YIQo",(function(t,n){e(t.exports,"createProgrammableNftTransferTransaction",(function(){return c}),(function(e){return c=e}));var i=r("3fvLJ"),o=r("4raQz"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function c(e){return s(this,arguments,void 0,(function*({networkID:e,senderAddress:t,senderAccount:n,destination:r,mint:s}){const c=(0,o.createConnectionBySolanaNetworkID)(e),a=new(0,i.PublicKey)(s),{destinationAddress:l,destinationAccount:u}=yield(0,o.ensureDestinationDetails)({solanaConnection:c,destination:new(0,i.PublicKey)(r),mint:a,programId:o.TOKEN_PROGRAM_ID}),{createPNFTTransferIX:d}=yield(0,o.getMetaplexDeps)(),f=new(0,i.Transaction),p=new(0,i.PublicKey)(t.address),h=new(0,i.PublicKey)(n);let m=u;if(!m){const[e,t]=yield(0,o.createAssociatedTokenAccountIx)(p,l,a,o.TOKEN_PROGRAM_ID);f.add((0,o.assertOwner)({account:l,owner:i.SystemProgram.programId})),f.add(e),m=t}return f.add(yield d({senderAddress:p,tokenAccount:h,destinationAddress:l,destinationAccount:m,mintAddress:a,connection:c})),f}))}})),r.register("fBBon",(function(t,n){e(t.exports,"useCollections",(function(){return b}),(function(e){return b=e})),e(t.exports,"useCollectionsAreTrimmed",(function(){return y}),(function(e){return y=e}));var i=r("belzv"),o=r("lNRH9"),s=r("lDSNw"),c=r("7PqqK"),a=r("1PaEs"),l=r("d2WYN"),u=r("eL9T6"),d=r("kCE0A"),f=r("cuPjL"),p=r("bLLhM"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const m=({addresses:e,getApiEnvironment:t,queryClient:n,queryOptions:r={staleTime:p.StaleTime.Short,refetchInterval:p.RefetchInterval.Long},select:s})=>{const m=f.collectiblesQueryKeys.collections(e);return(0,o.useQuery)({enabled:0!==e.length&&e.every((e=>!i.Chains.isLocalNetworkID(e.networkID))),queryKey:m,cacheTime:p.CacheTime.Medium,staleTime:r.staleTime,refetchInterval:r.refetchInterval,queryFn(e){return h(this,arguments,void 0,(function*({queryKey:[,,{addresses:e}]}){const i=t(),[o,r]=yield Promise.allSettled([(0,a.getListings)(i,e),(0,c.getCollectibles)(i,e)]);if("rejected"===r.status)throw new Error("failed to load unlisted collections");const{allCollectibles:s,isTrimmed:f}="fulfilled"===r.status?r.value:{allCollectibles:[],isTrimmed:!1},p="fulfilled"===o.status?o.value:[],h=(0,u.mergeCollectibles)(p,s),m=(0,l.mapCollectiblesToCollections)(h),b=yield(0,d.getOptimisticUpdates)(n),y=(0,d.applyOptimisticUpdates)(m,b);return{items:y,nrOfItems:y.reduce(((e,t)=>e+t.items.length),0),isTrimmed:f}}))},select:s})},b=e=>m(Object.assign(Object.assign({},e),{select:(0,s.useCallback)((e=>e.items),[])})),y=e=>{var t;return null!==(t=m(Object.assign(Object.assign({},e),{select:(0,s.useCallback)((e=>e.isTrimmed),[])})).data)&&void 0!==t&&t}})),r.register("1PaEs",(function(t,n){e(t.exports,"getListings",(function(){return u}),(function(e){return u=e}));var i=r("belzv"),o=r("4y59b"),s=r("f7CwS"),c=r("6IAZr"),a=r("6mBy8"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=(e,t)=>l(void 0,void 0,void 0,(function*(){const n=t.find((e=>i.Chains.isSolanaNetworkID(e.chainId)));if(!n)throw new Error("no solana account");const{chainId:r}=n,l=yield(0,o.withRetry)((()=>(0,c.getSPLListings)(e,n)),(()=>!0)),u=l.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.asset.mintPubKey]:t})),{}),d=l.map((e=>({chainId:r,address:e.asset.mintPubKey}))),f=(0,o.chunks)(d,100).map((t=>(0,s.getCollectiblesDetails)(e,t))),p=(yield Promise.all(f)).flat().reduce(((e,t)=>{if(!(0,a.isSolanaCollectibleChainData)(t.chainData))return e;const{asset:n,listings:i}=u[t.chainData.mint];return e.push(Object.assign(Object.assign(Object.assign({},t),{chainData:Object.assign(Object.assign({},t.chainData),{tokenAccount:n.pubkey})}),i?{listings:i}:{})),e}),[]);return p}))})),r.register("f7CwS",(function(t,n){e(t.exports,"getCollectiblesDetails",(function(){return u}),(function(e){return u=e}));var i=r("8kIyR"),o=r("5dasS"),s=r("7FU6O"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const a="collectibles",l=new Error("Failed to fetch collectibles details for addresses");function u(e,t){return c(this,void 0,void 0,(function*(){const n=`${e}/collectibles/v1/collectibles-details`;let r;try{const e=yield i.rb.post(n,{addresses:t});if(r=e.status,!(0,i.responseIsOkay)(e))throw l;const o=e.data;if(!o.collectibles)throw l;return(0,s.parseCollectiblesResponse)(o.collectibles)}catch(t){const n=t instanceof Error?t:new Error("Non-Error was thrown during fetching of collectibles details");throw(0,o.captureClientError)(n,r,a,{apiEnv:e}),n}}))}})),r.register("d2WYN",(function(t,n){e(t.exports,"mapCollectiblesToCollections",(function(){return o}));var i=r("8Pzpm");function o(e){var t;const n=new Map;for(const i of e){const e=i.collection.id,o=null!==(t=n.get(e))&&void 0!==t?t:[];o.push(i),n.set(e,o)}return(0,i.sortCollections)(n)}})),r.register("8Pzpm",(function(t,n){e(t.exports,"sortCollections",(function(){return o}));var i=r("6mBy8");const o=e=>{const t=[];for(const[n,i]of e){i.sort(((e,t)=>{var n,i;const o=null!==(n=e.name)&&void 0!==n?n:"",r=null!==(i=t.name)&&void 0!==i?i:"",c=o.localeCompare(r);if(o.localeCompare(r))return c;const a=s(e),l=s(t);return a.localeCompare(l)}));const[e]=i;e&&t.push(Object.assign(Object.assign(Object.assign({},"externalUrl"in e?{externalUrl:e.externalUrl}:void 0),e.collection),{items:i}))}return t.sort(((e,t)=>{var n,i,o,r;if(e.items.length>t.items.length)return-1;if(t.items.length>e.items.length)return 1;const s=null!==(i=null!==(n=e.name)&&void 0!==n?n:e.id)&&void 0!==i?i:"",c=null!==(r=null!==(o=t.name)&&void 0!==o?o:t.id)&&void 0!==r?r:"";return s.localeCompare(c)}))};function s(e){const t=e.chainData;return(0,i.isSolanaCollectibleChainData)(t)?t.tokenAccount:(0,i.isEthereumCollectibleChainData)(t)?t.id:((0,i.isBitcoinCollectibleChainData)(t),e.id)}})),r.register("eL9T6",(function(t,n){e(t.exports,"mergeCollectibles",(function(){return i}));const i=(e,t)=>{const n=[],i=new Set,o=[...e,...t];for(const e of o)i.has(e.id)||(n.push(e),i.add(e.id));return n}})),r.register("kCE0A",(function(n,i){e(n.exports,"pushOptimisticUpdate",(function(){return u}),(function(e){return u=e})),e(n.exports,"getOptimisticUpdates",(function(){return d}),(function(e){return d=e})),e(n.exports,"applyOptimisticUpdates",(function(){return f}),(function(e){return f=e}));var o=r("4y59b"),s=r("3yHS8"),c=r("cuPjL"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const l=20;function u(e,t){var n;const i=c.collectiblesQueryKeys.optimisticUpdates(),o=null!==(n=e.getQueryData(i))&&void 0!==n?n:[];e.setQueryData(i,[...o,t])}function d(e,t){return a(this,void 0,void 0,(function*(){var n;const i=c.collectiblesQueryKeys.optimisticUpdates(),r=yield e.getQueryState(i);if(r){if((null!=t?t:Date.now())-r.dataUpdatedAt>(0,o.toMilliseconds)({seconds:l}))return e.removeQueries(i),[];return null!==(n=null==r?void 0:r.data)&&void 0!==n?n:[]}return[]}))}function f(e,n){const i=n.reduce(((e,n)=>{var i;const{id:o,amount:r}=n,c=new(t(s))(r);return e[o]=(null!==(i=e[o])&&void 0!==i?i:new(t(s))(0)).plus(c),e}),{});for(const n of e)n.items=n.items.reduce(((e,n)=>{var o;const r=n.id,c=i[r];if(c){const i=new(t(s))(null!==(o=n.balance)&&void 0!==o?o:0);return i.minus(c).isGreaterThan(0)?e.concat(Object.assign(Object.assign({},n),{balance:i.minus(c).toString()})):e}return e.concat(n)}),[]);return e=e.filter((e=>e.items.length>0))}})),r.register("ix9Y8",(function(t,n){e(t.exports,"useHiddenCollections",(function(){return u}),(function(e){return u=e}));var i=r("4yY1D"),o=r("2hU3F"),s=r("lNRH9"),c=r("cuPjL"),a=r("bLLhM"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=(e,t)=>(0,s.useQuery)({enabled:0!==e.length,queryKey:c.collectiblesQueryKeys.hiddenCollections(e),cacheTime:a.CacheTime.Long,staleTime:a.StaleTime.Never,queryFn(){return l(this,void 0,void 0,(function*(){try{const n=yield(0,o.getCollectibleVisibilityOverridesByAccount)(t,e);return Array.from(n.values()).filter((e=>(0,o.isHiddenCollectibleFromValue)(e,{spamStatus:o.SpamStatus.NotVerified}))).map((({id:e})=>e))}catch(e){return e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles),[]}}))}})})),r.register("aWhKL",(function(t,n){e(t.exports,"useHideCollection",(function(){return f}),(function(e){return f=e}));var i=r("2hU3F"),o=r("fG04A"),s=r("fvKRK"),c=r("gIkRw"),a=r("cuPjL"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=2e3;class d extends c.CollectiblesError{constructor(e){super(e),this.name="UseHideCollectionError"}}function f(e,t){const n=(0,s.useQueryClient)();return(0,o.useMutation)({mutationFn(n){return l(this,void 0,void 0,(function*(){const{collectionId:o,accountId:r}=n,s=yield(0,i.getCollectibleVisibilityOverridesCount)(e);if(!(yield(0,i.getCollectibleVisibilityOverridesByAccount)(e,r)).has(o)&&s>=u)throw new d("Too many ids hidden");yield(0,i.setCollectibleVisibilityOverridesByAccount)(e,t,{accountId:r,mutations:[{id:o,visibility:i.VisibilityStatus.Hidden}]})}))},onSuccess(e,t){return l(this,void 0,void 0,(function*(){yield n.invalidateQueries(a.collectiblesQueryKeys.hiddenCollections(t.accountId)),yield n.invalidateQueries(a.collectiblesQueryKeys.unhiddenCollections(t.accountId))}))}})}})),r.register("4RVhX",(function(t,n){e(t.exports,"usePinCollection",(function(){return f}),(function(e){return f=e}));var i=r("fG04A"),o=r("fvKRK"),s=r("5YKUv"),c=r("gIkRw"),a=r("cuPjL"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=2e3;class d extends c.CollectiblesError{constructor(e){super(e),this.name="UsePinCollectionError"}}function f(e){const t=(0,o.useQueryClient)();return(0,i.useMutation)({mutationFn(t){return l(this,arguments,void 0,(function*({collectionId:t,accountId:n,pinned:i}){var o,r;const c=null!==(o=yield(0,s.getPinnedCollections)(e))&&void 0!==o?o:{},a=null!==(r=c[n])&&void 0!==r?r:[];if(i){if(Object.values(c).flat().length+1>u)throw new d("Pinned limit reached");const i=[...new Set([...a,t])],o=Object.assign(Object.assign({},c),{[n]:i});yield(0,s.setPinnedCollections)(e,o)}else{const i=a.indexOf(t);if(-1===i)throw new d("Collection not previously pinned");const o=[...a];o.splice(i,1);const r=Object.assign(Object.assign({},c),{[n]:o});yield(0,s.setPinnedCollections)(e,r)}}))},onSuccess(e,n){return l(this,void 0,void 0,(function*(){yield t.invalidateQueries(a.collectiblesQueryKeys.pinnedCollections(n.accountId))}))}})}})),r.register("5YKUv",(function(t,n){e(t.exports,"getPinnedCollections",(function(){return p}),(function(e){return p=e})),e(t.exports,"setPinnedCollections",(function(){return m}),(function(e){return m=e}));var i,o,s=r("gIkRw"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};class a extends s.CollectiblesError{constructor(e){super(e),this.name="GetHiddenCollectionsError"}}class l extends s.CollectiblesError{constructor(e){super(e),this.name="SetHiddenCollectionsError"}}class u extends s.CollectiblesError{constructor(e){super(e),this.name="GetUnhiddenCollectionsError"}}class d extends s.CollectiblesError{constructor(e){super(e),this.name="SetUnhiddenCollectionsError"}}class f extends s.CollectiblesError{constructor(e){super(e),this.name="GetPinnedCollectionsError"}}function p(e){return c(this,void 0,void 0,(function*(){try{return yield e.get(i.PinnedCollections)}catch(e){throw new f("")}}))}class h extends s.CollectiblesError{constructor(e){super(e),this.name="SetPinnedCollectionsError"}}function m(e,t){return c(this,void 0,void 0,(function*(){try{return yield e.set(i.PinnedCollections,t)}catch(e){throw new h("")}}))}(o=i||(i={})).HiddenCollections="hiddenCollections",o.PinnedCollections="pinnedCollections",o.UnhiddenCollections="unhiddenCollections"})),r.register("brBvm",(function(t,n){e(t.exports,"usePinnedCollections",(function(){return u}),(function(e){return u=e}));var i=r("4yY1D"),o=r("lNRH9"),s=r("5YKUv"),c=r("cuPjL"),a=r("bLLhM"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=(e,t)=>(0,o.useQuery)({enabled:0!==e.length,queryKey:c.collectiblesQueryKeys.pinnedCollections(e),cacheTime:a.CacheTime.Long,staleTime:a.StaleTime.Never,refetchInterval:!1,refetchOnMount:!0,queryFn(){return l(this,void 0,void 0,(function*(){var n;try{return(null!==(n=yield(0,s.getPinnedCollections)(t))&&void 0!==n?n:{})[e]||[]}catch(e){return e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles),[]}}))}})})),r.register("fzgTe",(function(t,n){e(t.exports,"useReportCollectibleEvent",(function(){return a}),(function(e){return a=e}));var i=r("fG04A"),o=r("8ykRb"),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};class c extends Error{constructor(e){super(e),this.name="UseReportCollectibleEventError"}}function a(e){return(0,i.useMutation)({mutationFn(t){return s(this,arguments,void 0,(function*({event:t}){try{yield(0,o.reportCollectibleEvent)(e(),[t])}catch(e){}}))}})}})),r.register("8ykRb",(function(t,n){e(t.exports,"reportCollectibleEvent",(function(){return c}),(function(e){return c=e}));var i=r("8kIyR"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=new Error("Failed to report event for collectible");function c(e,t){return o(this,void 0,void 0,(function*(){try{const n=yield i.rb.post(`${e}/collectibles/v1/events`,{events:t});if(!(0,i.responseIsOkay)(n))throw new Error}catch(e){throw s}}))}})),r.register("6L6R1",(function(t,n){e(t.exports,"useTransferCollectible",(function(){return l}),(function(e){return l=e}));var i=r("4yY1D"),o=r("4raQz"),s=r("fG04A"),c=r("kCE0A"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l({collectiblesSdk:e,accountHooks:t,accountSigner:n,storage:r,queryClient:l,utxoManager:u}){const{data:d}=t.useSelectedMultiChainAccountIdentifier();return(0,s.useMutation)({mutationFn:t=>a(this,[t],void 0,(function*({multichainTransaction:t,pendingTransactionInput:i,senderAddress:s,optimisticUpdate:a,gasEstimation:f}){var p;if(!d)throw new Error("No account identifier found");const{networkID:h}=t,m=null!==(p=e.get(h).onBeforeSend({multichainTransaction:t,gasEstimation:f}))&&void 0!==p?p:t,b=yield(0,o.signAndSendTransaction)({accountIdentifier:d,accountSigner:n,multichainTransaction:m,networkID:h,pendingTransactionInput:i,senderAddress:s,storage:r,utxoManager:u});return a&&(0,c.pushOptimisticUpdate)(l,a),(0,o.createTransactionReceipt)(h,b)})),onError(e){e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles)}})}})),r.register("6LJKU",(function(t,n){e(t.exports,"useUnhiddenCollections",(function(){return u}),(function(e){return u=e}));var i=r("4yY1D"),o=r("2hU3F"),s=r("lNRH9"),c=r("cuPjL"),a=r("bLLhM"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u=(e,t)=>(0,s.useQuery)({enabled:0!==e.length,queryKey:c.collectiblesQueryKeys.unhiddenCollections(e),cacheTime:a.CacheTime.Long,staleTime:a.StaleTime.Never,queryFn(){return l(this,void 0,void 0,(function*(){try{const n=yield(0,o.getCollectibleVisibilityOverridesByAccount)(t,e);return Array.from(n.values()).filter((e=>(0,o.isVisibleCollectibleFromValue)(e,{spamStatus:o.SpamStatus.NotVerified}))).map((({id:e})=>e))}catch(e){return e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Collectibles),[]}}))}})})),r.register("ljzEo",(function(t,n){e(t.exports,"useUnhideCollection",(function(){return d}),(function(e){return d=e}));var i=r("2hU3F"),o=r("fG04A"),s=r("fvKRK"),c=r("cuPjL"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const l=2e3;class u extends Error{constructor(e){super(e),this.name="UseUnhideCollectionError"}}function d(e,t){const n=(0,s.useQueryClient)();return(0,o.useMutation)({mutationFn(n){return a(this,void 0,void 0,(function*(){const{collectionId:o,accountId:r}=n,s=yield(0,i.getCollectibleVisibilityOverridesCount)(e);if(!(yield(0,i.getCollectibleVisibilityOverridesByAccount)(e,r)).has(o)&&s>=l)throw new u("Too many ids unhidden");yield(0,i.setCollectibleVisibilityOverridesByAccount)(e,t,{accountId:r,mutations:[{id:o,visibility:i.VisibilityStatus.Visible}]})}))},onSuccess(e,t){return a(this,void 0,void 0,(function*(){yield n.invalidateQueries(c.collectiblesQueryKeys.unhiddenCollections(t.accountId)),yield n.invalidateQueries(c.collectiblesQueryKeys.hiddenCollections(t.accountId))}))}})}})),r.register("6i8Cn",(function(t,n){e(t.exports,"useVisibilityOverrides",(function(){return u}),(function(e){return u=e}));var i=r("4yY1D"),o=r("2hU3F"),s=r("lNRH9"),c=r("cuPjL"),a=r("bLLhM"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function u(e,t){return(0,s.useQuery)({cacheTime:a.CacheTime.Long,staleTime:a.StaleTime.Never,enabled:!!t,queryKey:c.collectiblesQueryKeys.visibilityOverrides(null!=t?t:""),queryFn(){return l(this,void 0,void 0,(function*(){return t?yield(0,o.getCollectibleVisibilityOverridesByAccount)(e,t):new Map}))},onError(e){e instanceof Error&&i.telemetry.captureError(e,i.FeatureTag.Fungibles)}})}})),r.register("lcT8D",(function(t,n){e(t.exports,"useCollectible",(function(){return s}));var i=r("lDSNw"),o=r("fBBon");const s=({id:e,addresses:t,getApiEnvironment:n,queryClient:r})=>{const{data:s,isSuccess:c}=(0,o.useCollections)({addresses:t,getApiEnvironment:n,queryClient:r});return(0,i.useMemo)((()=>{const t={isSuccess:c,data:void 0};for(const n of null!=s?s:[])for(const i of n.items)if(i.id===e)return Object.assign(Object.assign({},t),{data:i});return t}),[e,s,c])}})),r.register("hZDtU",(function(t,n){e(t.exports,"useCollectiblesHideUnhide",(function(){return u})),e(t.exports,"useGetCollectibleVisibilityStatus",(function(){return d})),e(t.exports,"useGetCollectionVisibilityStatus",(function(){return f})),e(t.exports,"useCollectionVisibilityOverrides",(function(){return p}));var i=r("2hU3F"),o=r("lDSNw"),s=r("6i8Cn"),c=r("8nhpC"),a=r("jaI7l"),l=r("5IxAi");function u({storage:e,analytics:t,accountId:n,collectible:r,toast:c}){const u=(0,a.useHideCollectible)({storage:e,analytics:t,accountId:n,toast:c}),d=(0,o.useCallback)((()=>{r&&u(r)}),[u,r]),f=(0,l.useUnhideCollectible)({storage:e,analytics:t,accountId:n,toast:c}),p=(0,o.useCallback)((()=>{r&&f(r)}),[f,r]),{data:h}=(0,s.useVisibilityOverrides)(e,null!=n?n:""),m=(0,o.useMemo)((()=>{var e,t;return null==h?void 0:h.get(null!==(t=null!==(e=null==r?void 0:r.collection.id)&&void 0!==e?e:null==r?void 0:r.id)&&void 0!==t?t:"")}),[h,r]),b=(0,o.useMemo)((()=>!!r&&(0,i.isHiddenCollectibleFromValue)(m,{spamStatus:r.collection.spamStatus})),[r,m]),y=(0,o.useCallback)((()=>{b?p():d()}),[b,d,p]);return(0,o.useMemo)((()=>({isHidden:b,onHideCollectible:d,onUnhideCollectible:p,onToggleHide:y})),[d,y,p,b])}function d({storage:e,accountId:t}){const{data:n,isLoading:r}=(0,s.useVisibilityOverrides)(e,t),c=(0,o.useCallback)((e=>{if(!e)return!1;const t=e.collection.id||e.id;return(0,i.isHiddenCollectible)(n,{spamStatus:e.collection.spamStatus,key:t})}),[n]),a=(0,o.useCallback)((e=>{if(!e)return i.SpamStatus.NotVerified;const t=e.collection.id||e.id;return(0,i.getCollectibleDerivedSpamStatus)(n,{spamStatus:e.collection.spamStatus,key:t})}),[n]),l=(0,o.useCallback)((e=>(0,i.isSpamFromStatus)(a(e))),[a]);return(0,o.useMemo)((()=>({getIsHidden:c,getSpamStatus:a,getIsSpam:l,isLoading:r})),[c,a,l,r])}function f({storage:e,accountId:t}){const{data:n,isLoading:r}=(0,s.useVisibilityOverrides)(e,t),c=(0,o.useCallback)((e=>{if(!e)return!1;const t=e.id;return(0,i.isHiddenCollectible)(n,{spamStatus:e.spamStatus,key:t})}),[n]),a=(0,o.useCallback)((e=>{if(!e)return i.SpamStatus.NotVerified;const t=e.id;return(0,i.getCollectibleDerivedSpamStatus)(n,{spamStatus:e.spamStatus,key:t})}),[n]),l=(0,o.useCallback)((e=>(0,i.isSpamFromStatus)(a(e))),[a]);return(0,o.useMemo)((()=>({getIsHidden:c,getSpamStatus:a,getIsSpam:l,isLoading:r})),[c,a,l,r])}function p({storage:e,accountId:t,analytics:n}){const i=f({storage:e,accountId:t}),r=(0,c.useMarkCollectionAsHidden)({analytics:n,storage:e,accountId:t}),s=(0,c.useMarkCollectionAsVisible)({analytics:n,storage:e,accountId:t});return(0,o.useMemo)((()=>Object.assign(Object.assign({},i),{hideCollection:r,unhideCollection:s})),[i,r,s])}})),r.register("8nhpC",(function(t,n){e(t.exports,"computeCollectibleAnalyticsPayload",(function(){return p}),(function(e){return p=e})),e(t.exports,"useMarkAsSpam",(function(){return h}),(function(e){return h=e})),e(t.exports,"useMarkAsNotSpam",(function(){return m}),(function(e){return m=e})),e(t.exports,"useMarkAsHidden",(function(){return b}),(function(e){return b=e})),e(t.exports,"useMarkAsVisible",(function(){return y}),(function(e){return y=e})),e(t.exports,"useMarkCollectionAsHidden",(function(){return v}),(function(e){return v=e})),e(t.exports,"useMarkCollectionAsVisible",(function(){return g}),(function(e){return g=e}));var i=r("belzv"),o=r("2hU3F"),s=r("lDSNw"),c=r("5to9o"),a=r("6i8Cn"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function u(e){return l(this,arguments,void 0,(function*({collectible:e,visibilityOverrides:t,setVisibilityOverrides:n,accountId:i,desiredVisibility:o,onSuccess:r,onError:s}){var c;if(!t)return;const a=e.collection.id||e.id,l=null===(c=t.get(a))||void 0===c?void 0:c.status;try{const t=f(o,e.collection);yield n({accountId:i,mutations:[{id:a,visibility:t}]}),yield r({collectible:e,desiredVisibility:o,previousVisibility:l,updatedVisibility:t})}catch(t){yield s(t,{collectible:e,desiredVisibility:o})}}))}function d(e){return l(this,arguments,void 0,(function*({collection:e,visibilityOverrides:t,setVisibilityOverrides:n,accountId:i,desiredVisibility:o,onSuccess:r,onError:s}){var c;if(!t)return;const a=e.id,l=null===(c=t.get(a))||void 0===c?void 0:c.status;try{const t=f(o,e);yield n({accountId:i,mutations:[{id:a,visibility:t}]}),r&&(yield r({collection:e,desiredVisibility:o,previousVisibility:l,updatedVisibility:t}))}catch(t){s&&(yield s(t,{collection:e,desiredVisibility:o}))}}))}function f(e,t){const{spamStatus:n}=t;switch(e){case o.VisibilityStatus.HiddenSpam:if(n===o.SpamStatus.NotVerified||n===o.SpamStatus.Verified)return o.VisibilityStatus.HiddenSpam;if(n===o.SpamStatus.PossibleSpam||n===o.SpamStatus.Spam)return null;throw new Error(`Unexpected spam status: ${n} found while marking spam.`);case o.VisibilityStatus.VisibleNotSpam:if(n===o.SpamStatus.NotVerified||n===o.SpamStatus.Verified)return null;if(n===o.SpamStatus.PossibleSpam||n===o.SpamStatus.Spam)return o.VisibilityStatus.VisibleNotSpam;throw new Error(`Unexpected spam status: ${n} found while marking not spam.`);case o.VisibilityStatus.Hidden:if(n===o.SpamStatus.NotVerified||n===o.SpamStatus.Verified)return o.VisibilityStatus.Hidden;if(n===o.SpamStatus.PossibleSpam||n===o.SpamStatus.Spam)return null;throw new Error(`Unexpected spam status: ${n} found while marking hidden.`);case o.VisibilityStatus.Visible:if(n===o.SpamStatus.NotVerified||n===o.SpamStatus.Verified)return null;if(n===o.SpamStatus.PossibleSpam||n===o.SpamStatus.Spam)return o.VisibilityStatus.Visible;throw new Error(`Unexpected spam status: ${n} found while marking visible.`)}throw new Error(`Unexpected desired visibility: ${e} found while calculating new visibility.`)}function p(e){return{networkId:e.chain.id,chainId:i.Chains.getChainID(e.chain.id),collectionId:e.collection.id,collectibleId:e.id,collectibleName:e.name,collectibleDescription:e.description,collectionName:e.collection.name,collectionDescription:e.collection.description,collectionUrl:e.collection.externalUrl}}function h({storage:e,accountId:t,analytics:n,onError:i,onSuccess:r}){const{data:d}=(0,a.useVisibilityOverrides)(e,t),{mutateAsync:f}=(0,c.useSetVisibilityOverrides)(e,n);return(0,s.useCallback)((e=>l(this,void 0,void 0,(function*(){yield u({collectible:e,visibilityOverrides:d,setVisibilityOverrides:f,accountId:t,desiredVisibility:o.VisibilityStatus.HiddenSpam,onSuccess:r,onError:i})}))),[d,f,t,i,r])}function m({storage:e,accountId:t,analytics:n,onError:i,onSuccess:r}){const{data:d}=(0,a.useVisibilityOverrides)(e,t),{mutateAsync:f}=(0,c.useSetVisibilityOverrides)(e,n);return(0,s.useCallback)((e=>l(this,void 0,void 0,(function*(){yield u({collectible:e,visibilityOverrides:d,setVisibilityOverrides:f,accountId:t,desiredVisibility:o.VisibilityStatus.VisibleNotSpam,onSuccess:r,onError:i})}))),[d,f,t,i,r])}function b({storage:e,accountId:t,analytics:n,onError:i,onSuccess:r}){const{data:d}=(0,a.useVisibilityOverrides)(e,t),{mutateAsync:f}=(0,c.useSetVisibilityOverrides)(e,n);return(0,s.useCallback)((e=>l(this,void 0,void 0,(function*(){yield u({collectible:e,visibilityOverrides:d,setVisibilityOverrides:f,accountId:t,desiredVisibility:o.VisibilityStatus.Hidden,onSuccess:r,onError:i})}))),[d,f,t,i,r])}function y({storage:e,accountId:t,analytics:n,onError:i,onSuccess:r}){const{data:d}=(0,a.useVisibilityOverrides)(e,t),{mutateAsync:f}=(0,c.useSetVisibilityOverrides)(e,n);return(0,s.useCallback)((e=>l(this,void 0,void 0,(function*(){yield u({collectible:e,visibilityOverrides:d,setVisibilityOverrides:f,accountId:t,desiredVisibility:o.VisibilityStatus.Visible,onSuccess:r,onError:i})}))),[d,f,t,i,r])}function v({storage:e,accountId:t,analytics:n,onError:i,onSuccess:r}){const{data:u}=(0,a.useVisibilityOverrides)(e,t),{mutateAsync:f}=(0,c.useSetVisibilityOverrides)(e,n);return(0,s.useCallback)((e=>l(this,void 0,void 0,(function*(){yield d({collection:e,visibilityOverrides:u,setVisibilityOverrides:f,accountId:t,desiredVisibility:o.VisibilityStatus.Hidden,onSuccess:r,onError:i})}))),[u,f,t,i,r])}function g({storage:e,accountId:t,analytics:n,onError:i,onSuccess:r}){const{data:u}=(0,a.useVisibilityOverrides)(e,t),{mutateAsync:f}=(0,c.useSetVisibilityOverrides)(e,n);return(0,s.useCallback)((e=>l(this,void 0,void 0,(function*(){yield d({collection:e,visibilityOverrides:u,setVisibilityOverrides:f,accountId:t,desiredVisibility:o.VisibilityStatus.Visible,onSuccess:r,onError:i})}))),[u,f,t,i,r])}})),r.register("5to9o",(function(t,n){e(t.exports,"useSetVisibilityOverrides",(function(){return l}),(function(e){return l=e}));var i=r("2hU3F"),o=r("fG04A"),s=r("fvKRK"),c=r("cuPjL"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l(e,t){const n=(0,s.useQueryClient)();return(0,o.useMutation)({mutationFn(n){return a(this,arguments,void 0,(function*({accountId:n,mutations:o}){yield(0,i.setCollectibleVisibilityOverridesByAccount)(e,t,{accountId:n,mutations:o})}))},onSuccess(e,t){return a(this,arguments,void 0,(function*(e,{accountId:t}){yield n.invalidateQueries(c.collectiblesQueryKeys.visibilityOverrides(t)),yield Promise.allSettled([n.invalidateQueries(c.collectiblesQueryKeys.hiddenCollections(t)),n.invalidateQueries(c.collectiblesQueryKeys.unhiddenCollections(t))])}))}})}})),r.register("jaI7l",(function(t,n){e(t.exports,"useHideCollectible",(function(){return c}));var i=r("lMzyG"),o=r("lDSNw"),s=r("8nhpC");const c=({storage:e,analytics:t,toast:n,accountId:r})=>{const{t:c}=(0,i.useTranslation)(),a=(0,o.useCallback)((({collectible:e,updatedVisibility:i})=>{null!==i&&t.capture("collectionHidden",{data:(0,s.computeCollectibleAnalyticsPayload)(e)}),n&&n.success(c("collectionHideSuccess"),{position:"top-center"})}),[c,n,t]),l=(0,o.useCallback)(((e,t)=>{n&&n.error(c("collectionHideFail"),{position:"top-center"})}),[c,n]);return(0,s.useMarkAsHidden)({storage:e,accountId:r,analytics:t,onSuccess:a,onError:l})}})),r.register("5IxAi",(function(t,n){e(t.exports,"useUnhideCollectible",(function(){return c}));var i=r("lMzyG"),o=r("lDSNw"),s=r("8nhpC");const c=({storage:e,analytics:t,toast:n,accountId:r})=>{const{t:c}=(0,i.useTranslation)(),a=(0,o.useCallback)((({collectible:e,updatedVisibility:i})=>{null!==i&&t.capture("collectionUnhidden",{data:(0,s.computeCollectibleAnalyticsPayload)(e)}),n&&n.success(c("collectionUnhideSuccess"),{position:"top-center"})}),[c,n,t]),l=(0,o.useCallback)(((e,t)=>{n&&n.error(c("collectionUnhideFail"),{position:"top-center"})}),[c,n]);return(0,s.useMarkAsVisible)({storage:e,accountId:r,analytics:t,onSuccess:a,onError:l})}})),r.register("6jvI1",(function(t,n){e(t.exports,"useCollectiblesReportSpam",(function(){return l}));var i=r("2hU3F"),o=r("lDSNw"),s=r("6i8Cn"),c=r("h2EDS"),a=r("aqRKY");function l({storage:e,analytics:t,accountId:n,collectible:r,toast:l}){const u=(0,a.useReportSpam)({storage:e,analytics:t,collectible:r,accountId:n,toast:l}),d=(0,o.useCallback)((()=>{r&&u(r)}),[u,r]),f=(0,c.useReportNotSpam)({storage:e,analytics:t,collectible:r,accountId:n,toast:l}),p=(0,o.useCallback)((()=>{r&&f(r)}),[f,r]),{data:h}=(0,s.useVisibilityOverrides)(e,null!=n?n:""),m=(0,o.useMemo)((()=>{var e,t;return null==h?void 0:h.get(null!==(t=null!==(e=null==r?void 0:r.collection.id)&&void 0!==e?e:null==r?void 0:r.id)&&void 0!==t?t:"")}),[h,r]),b=(0,o.useMemo)((()=>r?(0,i.getCollectibleDerivedSpamStatusFromValue)(m,{spamStatus:r.collection.spamStatus}):i.SpamStatus.NotVerified),[r,m]),y=(0,i.isSpamFromStatus)(b);return(0,o.useMemo)((()=>({isSpam:y,spamStatus:b,onReportSpam:y?void 0:d,onReportNotSpam:y?p:void 0})),[b,y,d,p])}})),r.register("h2EDS",(function(t,n){e(t.exports,"useReportNotSpam",(function(){return a}));var i=r("lMzyG"),o=r("2hU3F"),s=r("lDSNw"),c=r("8nhpC");const a=({storage:e,analytics:t,toast:n,accountId:r})=>{const{t:a}=(0,i.useTranslation)(),l=(0,s.useCallback)((({collectible:e,previousVisibility:i,updatedVisibility:r})=>{null!==r&&t.capture("collectiblesReportAsNotSpam",{data:(0,c.computeCollectibleAnalyticsPayload)(e)}),n.success(i===o.VisibilityStatus.Visible?a("collectiblesNotSpamSuccess"):a("collectiblesNotSpamAndUnhiddenSuccess"),{position:"top-center"})}),[a,n,t]),u=(0,s.useCallback)(((e,t)=>{n.error(a("collectiblesNotSpamFail"),{position:"top-center"})}),[a,n]);return(0,c.useMarkAsNotSpam)({storage:e,accountId:r,analytics:t,onSuccess:l,onError:u})}})),r.register("aqRKY",(function(t,n){e(t.exports,"useReportSpam",(function(){return a}));var i=r("lMzyG"),o=r("2hU3F"),s=r("lDSNw"),c=r("8nhpC");const a=({storage:e,analytics:t,toast:n,accountId:r})=>{const{t:a}=(0,i.useTranslation)(),l=(0,s.useCallback)((({collectible:e,previousVisibility:i,updatedVisibility:r})=>{null!==r&&t.capture("collectiblesReportAsSpam",{data:(0,c.computeCollectibleAnalyticsPayload)(e)}),n.success(i===o.VisibilityStatus.Hidden?a("collectiblesSpamSuccess"):a("collectiblesSpamAndHiddenSuccess"),{position:"top-center"})}),[a,n,t]),u=(0,s.useCallback)(((e,t)=>{n.error(a("collectiblesSpamFail"),{position:"top-center"})}),[a,n]);return(0,c.useMarkAsSpam)({storage:e,accountId:r,analytics:t,onSuccess:l,onError:u})}})),r.register("9ZCbN",(function(n,i){e(n.exports,"useCollectibleSummaryItems",(function(){return h}));var o=r("belzv"),s=r("bpTD2"),c=r("gYh0e"),a=r("lMzyG"),l=r("2MVjM"),u=r("lDSNw"),d=r("4S535"),f=r("gJYef"),p=r("6mBy8");const h=(e,n,i)=>{const{t:r}=(0,a.useTranslation)();return(0,u.useMemo)((()=>{const a=[];if(!n)return a;const u=null==n?void 0:n.chain.id,p=e.get(u).collectibleDetailPrecision;let h,b,y,v;if(n.collection.name&&a.push({label:r("collectibleScreenCollectionLabel"),value:n.collection.name}),n.collection.floorPrice){const{price:e,token:t}=n.collection.floorPrice;if(t&&t.decimals&&t.symbol){const{decimals:n,symbol:i}=t,o=(0,d.amountToBalance)(e,n);a.push({label:r("collectiblesFloorPrice"),value:`${(0,f.formatValue)(o,p)} ${i}`}),h=o,b=i}}if(n.lastSalePrice){const{price:e,token:t}=n.lastSalePrice;if(t&&t.decimals&&(t.symbol||t.name)){const{decimals:n,symbol:i,name:o}=t,s=(0,d.amountToBalance)(e,n);a.push({label:r("collectiblesLastSalePrice"),value:`${(0,f.formatValue)(s,p)} ${null!=i?i:o}`}),y=s,v=i}}if(h&&y&&b===v){const e=h-y;a.push({label:r("collectiblesTotalReturn"),value:`${(0,f.formatValue)(e,p)} ${v}`,color:e>0?null==i?void 0:i.positiveColor:0===e||null==i?void 0:i.negativeColor})}return n.collection.ownerCount&&a.push({label:r("collectiblesUniqueHolders"),value:t(l)(n.collection.ownerCount).format("0,0")}),n.chain.name&&a.push({label:r("sendFungibleSummaryNetwork"),value:o.Chains.getNetworkName(n.chain.id)}),(0,s.isDevelopment)()&&a.push({label:"Standard",value:m(n)}),(0,c.getIsNonTransferable)(n)&&a.push({label:r("collectiblesNonTransferable"),value:r("collectiblesNonTransferableYes")}),a}),[n,e,null==i?void 0:i.negativeColor,null==i?void 0:i.positiveColor,r])};function m(e){const t=e.chainData;return(0,p.isSolanaCollectibleChainData)(t)||(0,p.isEthereumCollectibleChainData)(t)?t.standard:(0,p.isBitcoinCollectibleChainData)(t)?"Ordinals":void 0}})),r.register("4S535",(function(t,n){e(t.exports,"amountToBalance",(function(){return o}));var i=r("3yHS8");function o(e,t){return new(0,i.BigNumber)(e).div(new(0,i.BigNumber)(10).pow(t)).toNumber()}i.BigNumber.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78})})),r.register("gJYef",(function(t,n){e(t.exports,"formatValue",(function(){return o}));var i=r("3yHS8");const o=(e,t)=>{const n=new(0,i.BigNumber)(e);if(n.isZero())return"0";const o=new(0,i.BigNumber)(10).pow(-t);return n.abs().lt(o)?n.isPositive()?`<${o.toFixed()}`:`-<${o.toFixed()}`:parseFloat(n.toString()).toLocaleString(void 0,{maximumFractionDigits:t})}})),r.register("5sEqw",(function(t,n){e(t.exports,"useCollection",(function(){return s}));var i=r("lDSNw"),o=r("fBBon");const s=({id:e,addresses:t,getApiEnvironment:n,queryClient:r})=>{const{data:s}=(0,o.useCollections)({addresses:t,getApiEnvironment:n,queryClient:r});return(0,i.useMemo)((()=>(null!=s?s:[]).find((t=>t.id===e))),[e,s])}})),r.register("d0k5H",(function(t,n){e(t.exports,"useHideCollectionProps",(function(){return g}));var i=r("belzv"),o=r("lMzyG"),s=r("lDSNw"),c=r("ix9Y8"),a=r("aWhKL"),l=r("4RVhX"),u=r("brBvm"),d=r("fzgTe"),f=r("6LJKU"),p=r("ljzEo"),h=r("gIkRw"),m=r("hGptb"),b=r("h0vN3"),y=r("frJD3"),v=r("1oPoP");const g=({storage:e,analytics:t,getApiEnvironment:n,toast:r,collectible:g,accountId:S})=>{var C,w,x;const{t:I}=(0,o.useTranslation)(),E=null===(C=null==g?void 0:g.collection)||void 0===C?void 0:C.id,k=null===(w=null==g?void 0:g.collection)||void 0===w?void 0:w.isSpam,{mutateAsync:T}=(0,a.useHideCollection)(e,t),{mutateAsync:A}=(0,p.useUnhideCollection)(e,t),{data:M=[]}=(0,c.useHiddenCollections)(S||"",e),{data:D=[]}=(0,f.useUnhiddenCollections)(S||"",e),P=(0,y.useIsCollectionHidden)(M,D,null!=E?E:"",!!k),{mutateAsync:L}=(0,l.usePinCollection)(e),{data:O=[]}=(0,u.usePinnedCollections)(S||"",e),N=(0,v.useIsCollectionPinned)(O,null!=E?E:""),{mutateAsync:R}=(0,d.useReportCollectibleEvent)(n),z=(0,m.useCollectibleEvent)(h.ReportCollectibleEventType.userHid,g),F=(0,m.useCollectibleEvent)(h.ReportCollectibleEventType.userUnhid,g),j=(0,s.useMemo)((()=>({hideSuccess:I("collectionHideSuccess"),hideFail:I("collectionHideFail"),unhideSuccess:I("collectionUnhideSuccess"),unhideFail:I("collectionUnhideFail")})),[I]),B=(0,s.useCallback)((e=>{var n;const o=null===(n=null==g?void 0:g.chain)||void 0===n?void 0:n.id;o&&t.capture(e,{data:{networkId:o,chainId:i.Chains.getChainID(o)}})}),[t,null===(x=null==g?void 0:g.chain)||void 0===x?void 0:x.id]),V=(0,b.useHideCollectionToggle)({accountId:S,collectionId:E,isHidden:P,hideMessages:j,hideCollection:T,unhideCollection:A,reportCollectibleEvent:R,hideEvent:z,unhideEvent:F,toast:r,sendAnalyticEvent:B,pinCollection:L,isPinned:N});return(0,s.useMemo)((()=>({isHidden:P,onToggleHide:V})),[P,V])}})),r.register("hGptb",(function(t,n){e(t.exports,"useCollectibleEvent",(function(){return s}));var i=r("lDSNw"),o=r("6mBy8");const s=(e,t)=>(0,i.useMemo)((()=>{var n;if(!(null===(n=null==t?void 0:t.chain)||void 0===n?void 0:n.id))return;let i,r;return(0,o.isSolanaCollectibleChainData)(t.chainData)?i=t.chainData.mint:(0,o.isEthereumCollectibleChainData)(t.chainData)&&(i=t.chainData.contract),i?((0,o.isEthereumCollectibleChainData)(t.chainData)&&(r=t.chainData.id),Object.assign({chainId:t.chain.id,event:e,address:i},r?{tokenId:r}:{})):void 0}),[e,t])})),r.register("h0vN3",(function(t,n){e(t.exports,"useHideCollectionToggle",(function(){return s}),(function(e){return s=e}));var i=r("lDSNw"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=({accountId:e,collectionId:t,isHidden:n,hideMessages:r,hideCollection:s,unhideCollection:c,reportCollectibleEvent:a,hideEvent:l,unhideEvent:u,toast:d,sendAnalyticEvent:f,pinCollection:p,isPinned:h})=>(0,i.useCallback)((()=>{o(void 0,void 0,void 0,(function*(){if(l&&u&&t&&e)try{n?(yield c({collectionId:t,accountId:e}),yield a({event:u})):(yield s({collectionId:t,accountId:e}),yield a({event:l}),h&&(yield p({collectionId:t,accountId:e,pinned:!1}))),d.success(n?r.unhideSuccess:r.hideSuccess,{position:"top-center"}),f&&f(n?"collectionUnhidden":"collectionHidden")}catch(e){d.error(n?r.unhideFail:r.hideFail,{position:"top-center"})}else d.error(n?r.unhideFail:r.hideFail,{position:"top-center"})}))}),[t,e,n,r,s,c,a,l,u,d,f,p,h])})),r.register("frJD3",(function(t,n){e(t.exports,"useIsCollectionHidden",(function(){return o}));var i=r("lDSNw");const o=(e,t,n,o)=>(0,i.useMemo)((()=>!t.includes(n)&&(!!e.includes(n)||!!o)),[e,t,n,o])})),r.register("1oPoP",(function(t,n){e(t.exports,"useIsCollectionPinned",(function(){return o}));var i=r("lDSNw");const o=(e,t)=>(0,i.useMemo)((()=>!!t&&e.includes(t)),[t,e])})),r.register("fDd2S",(function(n,i){e(n.exports,"useInstantSell",(function(){return m})),e(n.exports,"Marketplace",(function(){return g})),e(n.exports,"formatEstimatedFees",(function(){return C}));var o=r("lMzyG"),s=r("4y59b"),c=r("2MVjM"),a=r("lDSNw"),l=r("i2k8j"),u=r("1IJht"),d=r("4S535"),f=r("kRM7p"),p=r("6mBy8");const h={steps:[],orderId:""},m=({getApiEnvironment:e,collectible:t})=>{const{t:n}=(0,o.useTranslation)(),i=(0,a.useMemo)((()=>(0,l.createBidAsset)(t)),[t]),r=(0,a.useMemo)((()=>y(t)),[t]),{data:s=[],isLoading:c,isError:d}=(0,l.useCollectibleBids)({bidAsset:i,getApiEnvironment:e,isEnabled:!r}),f=(0,a.useMemo)((()=>s.length>0?s[0]:void 0),[s]),p=(0,a.useMemo)((()=>(0,u.createSellAsset)(i,f,t)),[i,f,t]),{data:m=h,isLoading:b,isError:v,refetch:g,error:C}=(0,u.useCollectibleSellSteps)({sellAsset:p,getApiEnvironment:e}),w=(0,a.useMemo)((()=>f&&t?S({t:n,bid:f,collectible:t}):void 0),[n,f,t]),x=(0,a.useMemo)((()=>!!v&&Number.isInteger(C.code)),[v,C]);return{bid:f,bidSummary:w,isLoadingBids:c,isErrorBids:d,sellSteps:m,isLoadingSellSteps:b,isErrorSellSteps:v,refetchSellSteps:g,sellStepsError:C,isSellErrorCode:x,isListedOnSolana:r}},b=({lastSale:e,receiveAmount:t})=>void 0!==e?t-e:t,y=e=>{if(!e)return!1;const{listings:t,chainData:n}=e,i=t?Object.keys(t):[],o=Boolean(i.length>0),r=!!n&&(0,p.isSolanaCollectibleChainData)(n);return o&&r},v=e=>{if(!e||!e.previews)return;const{previews:t}=e;return t.small?t.small:t.medium?t.medium:t.large?t.large:void 0};var g;(g||(g={})).BLUR="Blur";const S=({bid:e,collectible:n,t:i})=>{var o;const{lastSalePrice:r,media:a,name:l,collection:u}=n,{name:f,logo:p}=e.source,{amount:h,netAmount:m,feeBreakdown:y,token:S,totalFeeBps:C}=e.price,{symbol:w,caip19:x}=S,I=m,E=u.id,k=n.id,T=(e=>{if(e){const{price:t,token:n}=e,i=null==n?void 0:n.decimals;if(i)return(0,d.amountToBalance)(t,i)}})(r),A=w.slice(0,6),M=n.chain.symbol,D=(e=>{if(e){const{price:t,token:n}=e,i=null==n?void 0:n.decimals;if(i)return(0,d.amountToBalance)(t,i)}})(u.floorPrice),P=D?(({offerAmount:e,collectionFloor:t})=>e-t)({offerAmount:h,collectionFloor:D}):void 0,L=P?(e=>{const n=Math.abs(e)<.001?"0.0000%":"0.00%";return`${e>0?"+":""}${t(c)(e).format(n)}`})(P):void 0;return{bidTokenSymbol:A,caip19:x,collectionId:E,collectibleId:k,orderId:e.id,collectibleChainId:n.chain.id,collectibleChainSymbol:M,collectionFloor:D,collectibleImage:v(a),collectibleName:null!=l?l:i("collectiblesUnknownCollectible"),collectionName:null!==(o=u.name)&&void 0!==o?o:i("collectiblesUnknownCollection"),currencySymbol:e.source.name===g.BLUR?M:A,fees:y,floorDifference:P,floorDifferencePercent:L,lastSale:T,marketplace:f,marketplaceLogoURL:p,offerAmount:h,offerAmountFormatted:(0,s.formatTokenAmount)(h),phantomFeePercentage:0,pnl:b({lastSale:T,receiveAmount:I}),receiveAmount:I,receiveAmountFormatted:(0,s.formatTokenAmount)(I),totalFeeBps:C}},C=({gasFee:e,totalFeeBps:t,offerAmount:n})=>{const i=(0,f.bpsToValue)(t,n)+e.toNumber();return{raw:i,formatted:(0,s.formatTokenAmount)(i)}}})),r.register("kRM7p",(function(t,n){e(t.exports,"bpsToPercent",(function(){return i})),e(t.exports,"bpsToValue",(function(){return o}));const i=e=>e/100+"%",o=(e,t)=>e*t/100/100})),r.register("kPwmm",(function(n,i){e(n.exports,"useInstantSellEvmGasEstimation",(function(){return u}));var o=r("4raQz"),s=r("3yHS8"),c=r("1IJht"),a=r("fDd2S");const l=new Map([[c.StepActionEnum.enum["nft-approval"],8e4],[c.StepActionEnum.enum["blur-swap"],42e3],[c.StepActionEnum.enum.sale,39e4],["default",42e4]]),u=({sellSteps:e,marketplace:n,transactionHooks:i,nativeTokenBalance:r,collectibleChainId:u})=>{var d;const f=n===a.Marketplace.BLUR;let p=e.filter((e=>"transaction"===e.type)).map((({action:e})=>({action:e})));if(p.some((({action:e})=>e===c.StepActionEnum.enum["nft-approval"]))||(p=[...p,{action:c.StepActionEnum.enum["nft-approval"]}]),f){const e=p.some((({action:e})=>e===c.StepActionEnum.enum.sale)),t=p.some((({action:e})=>e===c.StepActionEnum.enum["blur-swap"]));e||(p=[...p,{action:c.StepActionEnum.enum.sale}]),t||(p=[...p,{action:c.StepActionEnum.enum["blur-swap"]}])}const h=null==p?void 0:p.reduce(((e,{action:t})=>{var n;const i=null!==(n=l.get(t))&&void 0!==n?n:l.get("default");return e+(null!=i?i:0)}),0),m=new(t(s))(h),{status:b,data:y}=i.useEthereumGasEstimation({gasLimit:m,networkID:u,transactionSpeed:o.TransactionSpeed.standard}),{data:v}=i.useGasEstimationPrice(u,y),g=(0,o.getNetworkFeeUiAmount)(y),S=Number(null!==(d=null==g?void 0:g.replace(/[^\d.]/g,""))&&void 0!==d?d:0);return{gasEvm:S,gasEstimation:y,gasEstimationStatus:b,ethFeeUI:g,gasEstimationPrice:v,hasEnoughGas:!!r&&r.isGreaterThan(S)}}})),r.register("kxxtU",(function(t,n){e(t.exports,"useInstantSellExecuteEvmSteps",(function(){return k}),(function(e){return k=e}));var i=r("6Tvfa"),o=r("belzv"),s=r("lMzyG"),c=r("gd9Oy"),a=r("8kIyR"),l=r("4chX7"),u=r("4yY1D"),d=r("4raQz"),f=r("4y59b"),p=r("lDSNw"),h=r("baE8a"),m=r("4I3rY"),b=r("1IJht"),y=r("kCE0A"),v=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))},g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}};const S=(e,t,n,i,r,s,c)=>v(void 0,void 0,void 0,(function*(){try{if(!n)throw new Error("Gas estimation is required");if(!c)throw new Error("Bid summary is required");const{data:a,chainId:u,action:p}=t,{collectionName:h,marketplace:m,receiveAmount:b,currencySymbol:y,collectibleChainSymbol:v,bidTokenSymbol:g}=c,S=(0,f.capitalizeFirstLetter)(m);let C={};"nft-approval"===p&&(C={topRight:{label:""},bottomRight:{label:""},topLeft:{label:e("collectiblesApproveCollection",{collectionName:h})},bottomLeft:{label:S}}),"sale"===p&&(C={topRight:{label:`+${b} ${y}`},topLeft:{label:e("collectiblesSoldCollectible")},bottomRight:{label:`-${h}`},bottomLeft:{label:S}}),"blur-swap"===p&&(C={topRight:{label:`+${b} ${v}`},topLeft:{label:e("transactionsSwapped")},bottomRight:{label:`-${b} ${g}`},bottomLeft:{label:S}});const w=l.EthUnsignedTransactionObject.parse({type:l.TransactionTypes.eip1559,to:a.to,from:a.from,data:a.data,chainId:o.Chains.getEVMNetworkIDValue(u),gas:`0x${n.gasLimit.toString(16)}`,maxFeePerGas:`0x${n.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${n.maxPriorityFeePerGas.toString(16)}`}),x=(({networkID:e,unsignedTransaction:t,pendingActivityRows:n,accountIdentifier:i,accountSigner:o,storage:r,includeCallPayload:s})=>Object.assign(Object.assign({accountSigner:o,accountIdentifier:i,networkID:e,unsignedTransaction:t},s&&{callPayload:{from:t.from,to:t.to,data:t.data,value:t.value}}),{pendingTransactionInput:{ownerAddress:t.from,networkID:e,data:{nonce:"",unsignedTransaction:t,hash:""},type:d.PendingTransactionType.Sell,display:{summary:n}},storage:r}))({storage:i,accountSigner:r,pendingActivityRows:C,includeCallPayload:!1,networkID:u,unsignedTransaction:w,accountIdentifier:s.accountIdentifier}),I=yield(0,d.signAndSendEthereumTransactionAsync)(x);return{type:t.type,data:I}}catch(e){return{type:t.type,error:e}}})),C=(e,t,n,i)=>v(void 0,void 0,void 0,(function*(){try{const{chainId:o,data:r}=t,{signatureData:s,signatureKind:l,postData:u}=r;if("eip191"===l&&"message"in s){const r=yield n.sign(i.accountIdentifier,{signingType:"message",chainType:c.AddressType.EVM,message:s.message});if("success"===r.status)return yield((e,t,n,i)=>{const o=`${e}/collectibles/v1/submit-signature`;return a.rb.post(o,{chainId:t,signature:n,postData:i})})(e(),o,r.signature,u),{type:t.type,data:"success"};throw new Error("Execute Sell: Couldn't sign message")}throw new Error("Execute Sell: EIP721 is not yet supported")}catch(e){return{type:t.type,error:e}}})),w=(e,t)=>v(void 0,void 0,void 0,(function*(){try{const{resource:n}=e.data;if("/sell"===n){const{data:n}=yield t();return{type:e.type,data:null==n?void 0:n.steps}}throw new Error("Execute Sell: Resource is not supported")}catch(t){return{type:e.type,error:t}}})),x=[b.StepActionEnum.enum.auth,b.StepActionEnum.enum["nft-approval"],b.StepActionEnum.enum.sale];class I extends Error{constructor(){super(...arguments),this.message="Steps are required"}}class E extends Error{constructor(){super(...arguments),this.message="These steps are not from the same bid"}}const k=({stepsOrderId:e,getApiEnvironment:t,storage:n,accountSigner:o,accountHooks:r,initialSteps:c,gasEstimation:a,refetchSellSteps:l,bidSummary:d,analytics:k,queryClient:T,tokenPrice:A})=>{const[M,D]=(0,p.useState)("idle"),[P,L]=(0,p.useState)(null),[O,N]=(0,p.useState)(null),{t:R}=(0,s.useTranslation)(),z=(e=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,p.useMemo)((()=>{var e,n,o;const r=null==t?void 0:t.type,s=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"",c=null!==(n=null==t?void 0:t.addresses)&&void 0!==n?n:[],a=null!==(o=null==t?void 0:t.identifier)&&void 0!==o?o:"";return{isLedger:(null==t?void 0:t.type)===i.AccountType.Ledger,accountName:s,accountType:r,chainAddresses:c,accountIdentifier:a}}),[t])})(r),{chainAddresses:F,isLedger:j}=z;(0,p.useEffect)((function(){"loading"===M&&(0,m.invalidateBidsAndSellSteps)(T,d)}),[M,T,d]),(0,p.useEffect)((function(){"success"===M&&d&&(0,y.pushOptimisticUpdate)(T,{id:d.collectibleId,amount:1})}),[M,T,F,d]);const B=A&&(null==d?void 0:d.receiveAmount)?d.receiveAmount*A:void 0,V=(i,...r)=>v(void 0,[i,...r],void 0,(function*(i,r=new Map){var s,p,m,y,T;const A=null!=i?i:c;try{if(e&&""!==e&&e!==(null==d?void 0:d.orderId))throw new E;if(!Array.isArray(A)||0===A.length)throw new I;D("loading");try{for(var M,P=!0,O=g(A);!(s=(M=yield O.next()).done);P=!0){y=M.value,P=!1;const e=y,{action:i}=e,s="success"===r.get(i),c=i===b.StepActionEnum.enum.sale,u=i===b.StepActionEnum.enum.refetch,p=x.some((e=>e===i));if(s)continue;u||r.set(i,"loading");const{type:m,data:g,error:I}=yield(0,h.match)(e).with({type:b.StepType.enum.transaction},(e=>S(R,e,a,n,o,z,d))).with({type:b.StepType.enum.signature},(e=>v(void 0,void 0,void 0,(function*(){return C(t,e,o,z)})))).with({type:b.StepType.enum.refetch},(e=>w(e,l))).exhaustive();if(p&&I)throw I;if(g&&(u||r.set(i,"success"),m===b.StepType.enum.transaction&&c&&N(g),m===b.StepType.enum.refetch))return yield(0,f.delayAsync)(500),yield V(g,r)}}catch(e){p={error:e}}finally{try{P||s||!(m=O.return)||(yield m.call(O))}finally{if(p)throw p.error}}D("success"),k.capture("collectibleSellSuccess",{data:{bidSummary:d,usdSaleValue:B}})}catch(e){const t=null!==(T=null==e?void 0:e.message)&&void 0!==T?T:"";e instanceof I&&e instanceof E||(u.telemetry.captureError(e,u.FeatureTag.Collectibles),k.capture("collectibleSellFailure",{data:{bidSummary:d,usdSaleValue:B,errorMessage:t}})),D("error"),L(e)}}));return{executeSellEvmSteps:V,reset:()=>{D("idle"),L(null),N(null)},error:P,result:O,status:M,isLedger:j}}})),r.register("baE8a",(function(t,n){e(t.exports,"match",(function(){return l}));var i=Symbol("@ts-pattern/matcher"),o="@ts-pattern/anonymous-select-key",r=function(e){return Boolean(e&&"object"==typeof e)},s=function(e){return e&&!!e[i]},c=function e(t,n,o){if(r(t)){if(s(t)){var c=t[i]().match(n),a=c.matched,l=c.selections;return a&&l&&Object.keys(l).forEach((function(e){return o(e,l[e])})),a}if(!r(n))return!1;if(Array.isArray(t))return!!Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i],o)}));if(t instanceof Map)return n instanceof Map&&Array.from(t.keys()).every((function(i){return e(t.get(i),n.get(i),o)}));if(t instanceof Set){if(!(n instanceof Set))return!1;if(0===t.size)return 0===n.size;if(1===t.size){var u=Array.from(t.values())[0];return s(u)?Array.from(n.values()).every((function(t){return e(u,t,o)})):n.has(u)}return Array.from(t.values()).every((function(e){return n.has(e)}))}return Object.keys(t).every((function(r){var c,a=t[r];return(r in n||s(c=a)&&"optional"===c[i]().matcherType)&&e(a,n[r],o)}))}return Object.is(n,t)};function a(e){var t;return(t={})[i]=function(){return{match:function(t){return{matched:Boolean(e(t))}}}},t}a((function(e){return!0})),a((function(e){return"string"==typeof e})),a((function(e){return"number"==typeof e})),a((function(e){return"boolean"==typeof e})),a((function(e){return"bigint"==typeof e})),a((function(e){return"symbol"==typeof e})),a((function(e){return null==e}));function l(e){return new u(e,[])}var u=function(){function e(e,t){this.value=void 0,this.cases=void 0,this.value=e,this.cases=t}var t=e.prototype;return t.with=function(){var t=[].slice.call(arguments),n=t[t.length-1],i=[t[0]],r=[];return 3===t.length&&"function"==typeof t[1]?(i.push(t[0]),r.push(t[1])):t.length>2&&i.push.apply(i,t.slice(1,t.length-1)),new e(this.value,this.cases.concat([{match:function(e){var t={},n=Boolean(i.some((function(n){return c(n,e,(function(e,n){t[e]=n}))}))&&r.every((function(t){return t(e)})));return{matched:n,value:n&&Object.keys(t).length?o in t?t[o]:t:e}},handler:n}]))},t.when=function(t,n){return new e(this.value,this.cases.concat([{match:function(e){return{matched:Boolean(t(e)),value:e}},handler:n}]))},t.otherwise=function(t){return new e(this.value,this.cases.concat([{match:function(e){return{matched:!0,value:e}},handler:t}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var e=this.value,t=void 0,n=0;n<this.cases.length;n++){var i=this.cases[n],o=i.match(this.value);if(o.matched){e=o.value,t=i.handler;break}}if(!t){var r;try{r=JSON.stringify(this.value)}catch(e){r=this.value}throw new Error("Pattern matching error: no pattern matches value "+r)}return t(e,this.value)},e}()})),r.register("4I3rY",(function(t,n){e(t.exports,"invalidateBidsAndSellSteps",(function(){return o}));var i=r("cuPjL");const o=(e,t)=>{e.invalidateQueries(i.BIDS_SCOPE),e.invalidateQueries({predicate:({queryKey:e})=>e.includes("collectibleSellSteps")&&e[2].details.orderId===(null==t?void 0:t.orderId)})}})),r.register("1rtKv",(function(t,n){e(t.exports,"StepsFromDifferentBidErrorMessage",(function(){return g}),(function(e){return g=e})),e(t.exports,"useInstantSellExecuteSolanaSteps",(function(){return w}),(function(e){return w=e}));var i=r("6Tvfa"),o=r("belzv"),s=r("lMzyG"),c=r("3fvLJ"),a=r("4yY1D"),l=r("4raQz"),u=r("4y59b"),d=r("lDSNw"),f=r("baE8a"),p=r("4I3rY"),h=r("1IJht"),m=r("kCE0A"),b=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,o,(t=e[n](t)).done,t.value)}))}}};const v=(e,t,n,i,o,r)=>b(void 0,void 0,void 0,(function*(){if(!r)throw new Error("Bid summary is required");const{collectionName:s,marketplace:a,receiveAmount:d,currencySymbol:f}=r,p={topRight:{label:`+${d} ${f}`},topLeft:{label:e("collectiblesSoldCollectible")},bottomRight:{label:`-${s}`},bottomLeft:{label:(0,u.capitalizeFirstLetter)(a)}},{data:h,chainId:m,type:b}=t,{transaction:y}=h,v=(0,c.transactionStringToTransaction)(y,"base64"),g={ownerAddress:n.solanaPublicKey,networkID:m,data:{signature:""},type:l.PendingTransactionType.Sell,display:{summary:p}},{accountIdentifier:S,solanaPublicKey:C,connection:w}=n,x=new(0,c.PublicKey)(C);return{type:b,data:yield(0,l.signAndSendSolanaTransactionAsync)({accountIdentifier:S,feePayer:x,transaction:v,pendingTransactionInput:g,connection:w,accountSigner:i,storage:o,opts:{skipPreflight:!0}})}})),g="These steps are not from the same bid";class S extends Error{constructor(){super(...arguments),this.message="Steps are required"}}class C extends Error{constructor(){super(...arguments),this.message=g}}const w=({stepsOrderId:e,storage:t,accountSigner:n,accountHooks:r,initialSteps:u,bidSummary:g,analytics:w,queryClient:x,tokenPrice:I})=>{const[E,k]=(0,d.useState)("idle"),[T,A]=(0,d.useState)(null),[M,D]=(0,d.useState)(null),{t:P}=(0,s.useTranslation)(),L=(e=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,d.useMemo)((()=>{var e,n,r;const s=null!==(e=null==t?void 0:t.identifier)&&void 0!==e?e:"",c=(null==t?void 0:t.type)===i.AccountType.Ledger,a=null!==(n=null==t?void 0:t.addresses)&&void 0!==n?n:[],u=a.find(o.isSolanaChainAddress),d=null==u?void 0:u.networkID,f=null!==(r=null==u?void 0:u.address)&&void 0!==r?r:"",p=(0,l.getClusterBySolanaChainId)(d);return{accountIdentifier:s,chainAddresses:a,chainId:d,solanaPublicKey:f,isLedger:c,cluster:p,connection:(0,l.createConnection)(p)}}),[t])})(r),{chainId:O,connection:N,chainAddresses:R,isLedger:z}=L,F=O&&o.Chains.isSolanaNetworkID(O)?O:o.NetworkIDs.Solana.Mainnet,j=((e,t)=>{const[n,i]=(0,d.useState)(void 0);return(0,d.useEffect)((()=>{b(void 0,void 0,void 0,(function*(){var n;if(!e)return;const o=e.find((e=>"transaction"===e.type)),r=null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.transaction;if(!r)return;const s=(0,c.transactionStringToTransaction)(r,"base64"),a=yield(0,l.estimateFeeFromMessages)(t,[s.message]),u=(0,c.lamportsToSolana)(a.value);i(u)}))}),[e,t]),n})(u,F);(0,d.useEffect)((function(){"loading"===E&&(0,p.invalidateBidsAndSellSteps)(x,g)}),[E,x,g]),(0,d.useEffect)((function(){"success"===E&&g&&(0,m.pushOptimisticUpdate)(x,{id:g.collectibleId,amount:1})}),[E,x,R,g]);const B=I&&(null==g?void 0:g.receiveAmount)?g.receiveAmount*I:void 0;return{executeSellSolanaSteps:()=>b(void 0,void 0,void 0,(function*(){var i,o,r,s,c;try{if(e&&e!==(null==g?void 0:g.orderId))throw new C;if(!Array.isArray(u)||0===u.length)throw new S;k("loading");try{for(var d,p=!0,m=y(u);!(i=(d=yield m.next()).done);p=!0){s=d.value,p=!1;const e=s,i=yield(0,f.match)(e).with({type:h.StepType.enum.transaction},(e=>v(P,e,L,n,t,g))).exhaustive();i.type===h.StepType.enum.transaction&&D(i.data),yield(0,l.waitForTransactionConfirmation)({connection:N,signature:i.data})}}catch(e){o={error:e}}finally{try{p||i||!(r=m.return)||(yield r.call(m))}finally{if(o)throw o.error}}k("success"),w.capture("collectibleSellSuccess",{data:{bidSummary:g,usdSaleValue:B}})}catch(e){const t=null!==(c=null==e?void 0:e.message)&&void 0!==c?c:"";e instanceof S&&e instanceof C||(a.telemetry.captureError(e,a.FeatureTag.Collectibles),w.capture("collectibleSellFailure",{data:{bidSummary:g,usdSaleValue:B,errorMessage:t}})),k("error"),A(e)}})),reset:()=>{k("idle"),A(null),D(null)},gas:j,error:T,result:M,status:E,isLedger:z}}})),r.register("3kXyl",(function(t,n){e(t.exports,"useInstantSellSolanaGasEstimation",(function(){return o}));var i=r("gYh0e");const o=({bidSummary:e,fungibleHooks:t})=>{const{fungible:n}=t.useGetFungibleBalance({key:(0,i.networkIdToNativeTokenFungibleKey)(e.collectibleChainId)}),o=null==n?void 0:n.data.balance;return{hasEnoughGas:!!o&&o.isGreaterThan(.01)}}})),r.register("6J0J3",(function(t,n){e(t.exports,"useManageCollectionsVisibilityViewState",(function(){return p}));var i=r("9ktGj"),o=r("4y59b"),s=r("lDSNw"),c=r("fBBon"),a=r("hZDtU"),l=r("l6AqO"),u=r("lraND");const d=(0,o.toMilliseconds)({seconds:10}),f=(0,o.toMilliseconds)({seconds:5});function p({storage:e,account:t,getApiEnvironment:n,queryClient:r}){var p,h,m;const b=(0,i.useAnalytics)(),y=null!==(p=null==t?void 0:t.identifier)&&void 0!==p?p:"",v=null!==(h=null==t?void 0:t.addresses)&&void 0!==h?h:[],{data:g=[],isLoading:S}=(0,c.useCollections)({getApiEnvironment:n,queryClient:r,addresses:v,queryOptions:{staleTime:f,refetchInterval:d}}),[C,w]=(0,s.useState)(""),x=null!==(m=(0,o.useDebouncedState)(C))&&void 0!==m?m:"",I=(0,s.useCallback)((e=>w("string"==typeof e?e:e.currentTarget.value)),[w]),{getIsHidden:E,getIsSpam:k,getSpamStatus:T,hideCollection:A,unhideCollection:M,isLoading:D}=(0,a.useCollectionVisibilityOverrides)({analytics:b,storage:e,accountId:y}),P=(0,s.useMemo)((()=>{const{collections:e,hiddenCollections:t,spamCollections:n}=(0,l.orderedCollections)({allCollections:g,getIsHidden:E,getIsSpam:k});return[...e,...t,...n]}),[g]),L=(0,u.useSearchCollections)(P,x),O=(0,s.useCallback)((({item:e,status:t})=>"show"===t?M(e):A(e)),[M,A]);return{viewState:(0,s.useMemo)((()=>({accountId:y,listItems:x?L.collections:P,searchQuery:C,debouncedSearchQuery:x,handleSearch:I,getIsHidden:E,getIsSpam:k,getSpamStatus:T,onToggleHidden:O})),[y,L.collections,C,I,P,O,E,k,T,x]),viewStateLoading:D||S}}})),r.register("l6AqO",(function(t,n){e(t.exports,"orderedCollections",(function(){return s})),e(t.exports,"useOrderedCollections",(function(){return c}));var i=r("lDSNw");const o=e=>e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:1})),{});function s({allCollections:e=[],pinnedCollectionIds:t=[],getIsHidden:n,getIsSpam:i}){const r=[],s=[],c=[],a=[],l=o(t),u={};for(const t of e)i(t)&&n(t)?a.push(t):n(t)?s.push(t):l[t.id]?u[t.id]=t:i(t)?c.push(t):r.push(t);const d=[];for(const e of t)u[e]&&d.push(u[e]);return{collections:[...d,...r,...c],hiddenCollections:s,spamCollections:a}}const c=({allCollections:e=[],pinnedCollectionIds:t=[],getIsHidden:n,getIsSpam:o})=>(0,i.useMemo)((()=>s({allCollections:e,pinnedCollectionIds:t,getIsHidden:n,getIsSpam:o})),[e,n,o,t])})),r.register("lraND",(function(t,n){e(t.exports,"useSearchCollections",(function(){return c})),e(t.exports,"useSearchCollectiblesStrict",(function(){return a}));r("bEji2");var i=r("lDSNw");const o={location:0,distance:50,threshold:.3},s=(Object.assign(Object.assign({},o),{keys:["name"]}),Object.assign(Object.assign({},o),{keys:["name"]}),Object.assign(Object.assign({},o),{keys:["name"]}),(e,t)=>{if(void 0===t)return!1;const n=e.toLowerCase();return t.toLowerCase().split(" ").map((e=>e.startsWith(n)||n.startsWith(e)&&t.toLowerCase().includes(n))).includes(!0)}),c=(e,t)=>(0,i.useMemo)((()=>({collections:e.filter((e=>s(t,e.name||e.items[0].name)))})),[t,e]),a=(e,t,n,o)=>{const r=(0,i.useMemo)((()=>e.flatMap((e=>e.items))),[e]);return(0,i.useMemo)((()=>({collections:e.filter((e=>s(o,e.name))),collectibles:r.filter((e=>s(o,e.name))),hiddenCollections:t.filter((e=>s(o,e.name))),spamCollections:n.filter((e=>s(o,e.name)))})),[o,r,e,t,n])}})),r.register("bEji2",(function(t,n){function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===f(e)}e(t.exports,"default",(function(){return X}));const o=1/0;function r(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}function s(e){return"string"==typeof e}function c(e){return"number"==typeof e}function a(e){return!0===e||!1===e||function(e){return l(e)&&null!==e}(e)&&"[object Boolean]"==f(e)}function l(e){return"object"==typeof e}function u(e){return null!=e}function d(e){return!e.trim().length}function f(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const p=e=>`Invalid value for key ${e}`,h=e=>`Pattern length exceeds max of ${e}.`,m=e=>`Missing ${e} property in key`,b=e=>`Property 'weight' in key '${e}' must be a positive integer`,y=Object.prototype.hasOwnProperty;class v{get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=g(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}}function g(e){let t=null,n=null,o=null,r=1;if(s(e)||i(e))o=e,t=S(e),n=C(e);else{if(!y.call(e,"name"))throw new Error(m("name"));const i=e.name;if(o=i,y.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(b(i));t=S(i),n=C(i)}return{path:t,id:n,weight:r,src:o}}function S(e){return i(e)?e:e.split(".")}function C(e){return i(e)?e.join("."):e}var w={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],o=!1;const l=(e,t,d)=>{if(u(e))if(t[d]){const f=e[t[d]];if(!u(f))return;if(d===t.length-1&&(s(f)||c(f)||a(f)))n.push(r(f));else if(i(f)){o=!0;for(let e=0,n=f.length;e<n;e+=1)l(f[e],t,d+1)}else t.length&&l(f,t,d+1)}else n.push(e)};return l(e,s(t)?t.split("."):t,0),o?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const x=/[^ ]+/g;class I{setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,s(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();s(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!u(e)||d(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let r=this.getFn(e,t.path);if(u(r))if(i(r)){let e=[];const t=[{nestedArrIndex:-1,value:r}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(u(o))if(s(o)&&!d(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else i(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(!d(r)){let e={v:r,n:this.norm.get(r)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}constructor({getFn:e=w.getFn,fieldNormWeight:t=w.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(t){const o=t.match(x).length;if(n.has(o))return n.get(o);const r=1/Math.pow(o,.5*e),s=parseFloat(Math.round(r*i)/i);return n.set(o,s),s},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}}function E(e,t,{getFn:n=w.getFn,fieldNormWeight:i=w.fieldNormWeight}={}){const o=new I({getFn:n,fieldNormWeight:i});return o.setKeys(e.map(g)),o.setSources(t),o.create(),o}function k(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:o=w.distance,ignoreLocation:r=w.ignoreLocation}={}){const s=t/e.length;if(r)return s;const c=Math.abs(i-n);return o?s+c/o:c?1:s}const T=32;function A(e,t,n,{location:i=w.location,distance:o=w.distance,threshold:r=w.threshold,findAllMatches:s=w.findAllMatches,minMatchCharLength:c=w.minMatchCharLength,includeMatches:a=w.includeMatches,ignoreLocation:l=w.ignoreLocation}={}){if(t.length>T)throw new Error(h(T));const u=t.length,d=e.length,f=Math.max(0,Math.min(i,d));let p=r,m=f;const b=c>1||a,y=b?Array(d):[];let v;for(;(v=e.indexOf(t,m))>-1;){let e=k(t,{currentLocation:v,expectedLocation:f,distance:o,ignoreLocation:l});if(p=Math.min(e,p),m=v+u,b){let e=0;for(;e<u;)y[v+e]=1,e+=1}}m=-1;let g=[],S=1,C=u+d;const x=1<<u-1;for(let i=0;i<u;i+=1){let r=0,c=C;for(;r<c;){k(t,{errors:i,currentLocation:f+c,expectedLocation:f,distance:o,ignoreLocation:l})<=p?r=c:C=c,c=Math.floor((C-r)/2+r)}C=c;let a=Math.max(1,f-c+1),h=s?d:Math.min(f+c,d)+u,v=Array(h+2);v[h+1]=(1<<i)-1;for(let r=h;r>=a;r-=1){let s=r-1,c=n[e.charAt(s)];if(b&&(y[s]=+!!c),v[r]=(v[r+1]<<1|1)&c,i&&(v[r]|=(g[r+1]|g[r])<<1|1|g[r+1]),v[r]&x&&(S=k(t,{errors:i,currentLocation:s,expectedLocation:f,distance:o,ignoreLocation:l}),S<=p)){if(p=S,m=s,m<=f)break;a=Math.max(1,2*f-m)}}if(k(t,{errors:i+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:l})>p)break;g=v}const I={isMatch:m>=0,score:Math.max(.001,S)};if(b){const e=function(e=[],t=w.minMatchCharLength){let n=[],i=-1,o=-1,r=0;for(let s=e.length;r<s;r+=1){let s=e[r];s&&-1===i?i=r:s||-1===i||(o=r-1,o-i+1>=t&&n.push([i,o]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}(y,c);e.length?a&&(I.indices=e):I.isMatch=!1}return I}function M(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<i-n-1}return t}class D{searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:o,threshold:r,findAllMatches:s,minMatchCharLength:c,ignoreLocation:a}=this.options;let l=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:p})=>{const{isMatch:h,score:m,indices:b}=A(e,t,f,{location:i+p,distance:o,threshold:r,findAllMatches:s,minMatchCharLength:c,includeMatches:n,ignoreLocation:a});h&&(d=!0),u+=m,h&&b&&(l=[...l,...b])}));let f={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(f.indices=l),f}constructor(e,{location:t=w.location,threshold:n=w.threshold,distance:i=w.distance,includeMatches:o=w.includeMatches,findAllMatches:r=w.findAllMatches,minMatchCharLength:s=w.minMatchCharLength,isCaseSensitive:c=w.isCaseSensitive,ignoreLocation:a=w.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:o,findAllMatches:r,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:a},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(e,t)=>{this.chunks.push({pattern:e,alphabet:M(e),startIndex:t})},u=this.pattern.length;if(u>T){let e=0;const t=u%T,n=u-t;for(;e<n;)l(this.pattern.substr(e,T),e),e+=T;if(t){const e=u-T;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}}class P{static isMultiMatch(e){return L(e,this.multiRegex)}static isSingleMatch(e){return L(e,this.singleRegex)}search(){}constructor(e){this.pattern=e}}function L(e,t){const n=e.match(t);return n?n[1]:null}class O extends P{static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}constructor(e,{location:t=w.location,threshold:n=w.threshold,distance:i=w.distance,includeMatches:o=w.includeMatches,findAllMatches:r=w.findAllMatches,minMatchCharLength:s=w.minMatchCharLength,isCaseSensitive:c=w.isCaseSensitive,ignoreLocation:a=w.ignoreLocation}={}){super(e),this._bitapSearch=new D(e,{location:t,threshold:n,distance:i,includeMatches:o,findAllMatches:r,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:a})}}class N extends P{static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,i.push([t,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}constructor(e){super(e)}}const R=[class extends P{static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}constructor(e){super(e)}},N,class extends P{static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}constructor(e){super(e)}},class extends P{static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},class extends P{static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},class extends P{static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}constructor(e){super(e)}},class extends P{static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}constructor(e){super(e)}},O],z=R.length,F=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,j="|";const B=new Set([O.type,N.type]);const V=[];function U(e,t){for(let n=0,i=V.length;n<i;n+=1){let i=V[n];if(i.condition(e,t))return new i(e,t)}return new D(e,t)}const H="$and",K="$or",_={PATH:"$path",PATTERN:"$val"},$=e=>!(!e[H]&&!e[K]),G=e=>!!e[_.PATH],Q=e=>!i(e)&&l(e)&&!$(e),q=e=>({[H]:Object.keys(e).map((t=>({[t]:e[t]})))});function W(e,t,{auto:n=!0}={}){const o=e=>{let r=Object.keys(e);const c=G(e);if(!c&&r.length>1&&!$(e))return o(q(e));if(Q(e)){const i=c?e[_.PATH]:r[0],o=c?e[_.PATTERN]:e[i];if(!s(o))throw new Error(p(i));const a={keyId:C(i),pattern:o};return n&&(a.searcher=U(o,t)),a}let a={children:[],operator:r[0]};return r.forEach((t=>{const n=e[t];i(n)&&n.forEach((e=>{a.children.push(o(e))}))})),a};return $(e)||(e=q(e)),o(e)}function J(e,t){const n=e.matches;t.matches=[],u(n)&&n.forEach((e=>{if(!u(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let o={indices:n,value:i};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function Y(e,t){t.score=e.score}class X{setCollection(e,t){if(this._docs=e,t&&!(t instanceof I))throw new Error("Incorrect 'index' type");this._myIndex=t||E(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){u(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,i-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:o,sortFn:r,ignoreFieldNorm:a}=this.options;let l=s(e)?s(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=w.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:o})=>{const r=e?e.weight:null;n*=Math.pow(0===o&&r?Number.EPSILON:o,(r||1)*(t?1:i))})),e.score=n}))}(l,{ignoreFieldNorm:a}),o&&l.sort(r),c(t)&&t>-1&&(l=l.slice(0,t)),function(e,t,{includeMatches:n=w.includeMatches,includeScore:i=w.includeScore}={}){const o=[];return n&&o.push(J),i&&o.push(Y),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,i)})),i}))}(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=U(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:o})=>{if(!u(e))return;const{isMatch:r,score:s,indices:c}=t.searchIn(e);r&&i.push({item:e,idx:n,matches:[{score:s,value:e,norm:o,indices:c}]})})),i}_searchLogical(e){const t=W(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:o}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return r&&r.length?[{idx:i,item:t,matches:r}]:[]}const o=[];for(let r=0,s=e.children.length;r<s;r+=1){const s=e.children[r],c=n(s,t,i);if(c.length)o.push(...c);else if(e.operator===H)return[]}return o},i=this._myIndex.records,o={},r=[];return i.forEach((({$:e,i:i})=>{if(u(e)){let s=n(t,e,i);s.length&&(o[i]||(o[i]={idx:i,item:e,matches:[]},r.push(o[i])),s.forEach((({matches:e})=>{o[i].matches.push(...e)})))}})),r}_searchObjectList(e){const t=U(e,this.options),{keys:n,records:i}=this._myIndex,o=[];return i.forEach((({$:e,i:i})=>{if(!u(e))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),r.length&&o.push({idx:i,item:e,matches:r})})),o}_findMatches({key:e,value:t,searcher:n}){if(!u(t))return[];let o=[];if(i(t))t.forEach((({v:t,i:i,n:r})=>{if(!u(t))return;const{isMatch:s,score:c,indices:a}=n.searchIn(t);s&&o.push({score:c,key:e,value:t,idx:i,norm:r,indices:a})}));else{const{v:i,n:r}=t,{isMatch:s,score:c,indices:a}=n.searchIn(i);s&&o.push({score:c,key:e,value:i,norm:r,indices:a})}return o}constructor(e,t={},n){this.options={...w,...t},this.options.useExtendedSearch,this._keyStore=new v(this.options.keys),this.setCollection(e,n)}}X.version="6.5.3",X.createIndex=E,X.parseIndex=function(e,{getFn:t=w.getFn,fieldNormWeight:n=w.fieldNormWeight}={}){const{keys:i,records:o}=e,r=new I({getFn:t,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(o),r},X.config=w,X.parseQuery=W,function(...e){V.push(...e)}(class{static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,r=[],s=0;for(let i=0,c=t.length;i<c;i+=1){const c=t[i];r.length=0,o=0;for(let t=0,i=c.length;t<i;t+=1){const i=c[t],{isMatch:a,indices:l,score:u}=i.search(e);if(!a){s=0,o=0,r.length=0;break}if(o+=1,s+=u,n){const e=i.constructor.type;B.has(e)?r=[...r,...l]:r.push(l)}}if(o){let e={isMatch:!0,score:s/o};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}constructor(e,{isCaseSensitive:t=w.isCaseSensitive,includeMatches:n=w.includeMatches,minMatchCharLength:i=w.minMatchCharLength,ignoreLocation:o=w.ignoreLocation,findAllMatches:r=w.findAllMatches,location:s=w.location,threshold:c=w.threshold,distance:a=w.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:o,location:s,threshold:c,distance:a},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split(j).map((e=>{let n=e.trim().split(F).filter((e=>e&&!!e.trim())),i=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let r=!1,s=-1;for(;!r&&++s<z;){const e=R[s];let n=e.isMultiMatch(o);n&&(i.push(new e(n,t)),r=!0)}if(!r)for(s=-1;++s<z;){const e=R[s];let n=e.isSingleMatch(o);if(n){i.push(new e(n,t));break}}}return i}))}(this.pattern,this.options)}})})),r.register("iqGep",(function(t,n){e(t.exports,"usePinCollectionProps",(function(){return m}));var i=r("belzv"),o=r("lMzyG"),s=r("lDSNw"),c=r("ix9Y8"),a=r("4RVhX"),l=r("brBvm"),u=r("6LJKU"),d=r("ljzEo"),f=r("frJD3"),p=r("1oPoP"),h=r("8pgD1");const m=({storage:e,collectionId:t,isSpam:n,accountId:r,networkId:m,toast:b,analytics:y})=>{const{t:v}=(0,o.useTranslation)(),{mutateAsync:g}=(0,d.useUnhideCollection)(e,y),{data:S=[]}=(0,c.useHiddenCollections)(r||"",e),{data:C=[]}=(0,u.useUnhiddenCollections)(r||"",e),w=(0,f.useIsCollectionHidden)(S,C,null!=t?t:"",!!n),{mutateAsync:x}=(0,a.usePinCollection)(e),{data:I=[]}=(0,l.usePinnedCollections)(r||"",e),E=(0,p.useIsCollectionPinned)(I,null!=t?t:""),k=(0,s.useMemo)((()=>({pinSuccess:v("collectionPinSuccess"),pinFail:v("collectionPinFail"),unpinSuccess:v("collectionUnpinSuccess"),unpinFail:v("collectionUnpinFail")})),[v]),T=(0,s.useCallback)((e=>{m&&y.capture(e,{data:{networkId:m,chainId:i.Chains.getChainID(m)}})}),[y,m]),A=(0,h.usePinCollectionToggle)({accountId:r,collectionId:t,isPinned:E,pinMessages:k,pinCollection:x,toast:b,sendAnalyticEvent:T,unhideCollection:g,isHidden:w});return(0,s.useMemo)((()=>({isPinned:E,onTogglePin:A})),[E,A])}})),r.register("8pgD1",(function(t,n){e(t.exports,"usePinCollectionToggle",(function(){return s}),(function(e){return s=e}));var i=r("lDSNw"),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const s=({accountId:e,collectionId:t,isPinned:n,pinMessages:r,pinCollection:s,toast:c,sendAnalyticEvent:a,unhideCollection:l,isHidden:u})=>(0,i.useCallback)((()=>{o(void 0,void 0,void 0,(function*(){if(t&&e)try{yield s({collectionId:t,accountId:e,pinned:!n}),u&&!n&&(yield l({collectionId:t,accountId:e})),c.success(n?r.unpinSuccess:r.pinSuccess,{position:"top-center"}),a&&a(n?"collectionUnpinned":"collectionPinned")}catch(e){c.error(n?r.unpinFail:r.pinFail,{position:"top-center"})}else c.error(n?r.unpinFail:r.pinFail,{position:"top-center"})}))}),[t,e,n,r,s,c,a,l,u])})),r.register("a3HVI",(function(t,n){e(t.exports,"useSendCollectibleStatusViewState",(function(){return d}));var i,o,s=r("lMzyG"),c=r("4raQz"),a=r("lDSNw"),l=r("2E1go"),u=r("gIkRw");(o=i||(i={})).SUCCESS="SUCCESS",o.ERROR="ERROR",o.LOADING="LOADING";const d=({networkID:e,isTxError:t,isTxConfirmed:n,isTxSubmitted:o,collectiblesSdk:r})=>{const d=r.get(e).sendSuccessCondition,f=(0,a.useMemo)((()=>t?i.ERROR:d===u.SendSuccessCondition.SUBMISSION&&o||d===u.SendSuccessCondition.CONFIRMATION&&n?i.SUCCESS:i.LOADING),[n,t,o,d]),p=d===u.SendSuccessCondition.CONFIRMATION?"sendStatusConfirmedSuccessTitle":"sendStatusSubmittedSuccessTitle",h=(0,a.useMemo)((()=>{switch(f){case i.LOADING:return s.i18next.t("sendStatusLoadingTitle");case i.ERROR:return s.i18next.t("sendStatusErrorTitle");case i.SUCCESS:return s.i18next.t(p)}}),[f,p]),{isError:m,isSuccess:b}=(0,a.useMemo)((()=>({isError:f===i.ERROR,isSuccess:f===i.SUCCESS})),[f]),{transactionSpeed:y=c.TransactionSpeed.standard}=(0,l.useCollectiblesStore)((e=>e.sendFormValues)),v=(0,a.useMemo)((()=>{const t=(0,c.getEstimatedConfirmationTime)(e);return t?s.i18next.t(t[y]):""}),[e,y]);return{title:h,isError:m,isSuccess:b,sendSuccessCondition:d,estimatedTime:v}}})),r.register("2E1go",(function(n,i){e(n.exports,"useCollectiblesStore",(function(){return d}));var o=r("9xrNA"),s=r("bbIt9"),c=r("jUarv"),a=r("djAep"),l=r("c2Vpe"),u=r("g1bWQ");const d=t(o)(((e,t)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,u.createSendCollectibleSlice)(e,t)),(0,a.createListCollectibleSlice)(e,t)),(0,s.createBurnCollectibleSlice)(e,t)),(0,l.createMultichainListCollectibleSlice)(e,t)),(0,c.createMultichainSellCollectibleSlice)(e,t))))})),r.register("bbIt9",(function(t,n){e(t.exports,"createBurnCollectibleSlice",(function(){return o}));const i={burnCollectibleTx:void 0,burnCollectibleTxFee:void 0},o=e=>Object.assign(Object.assign({},i),{resetBurnCollectible:()=>e(Object.assign({},i)),setBurnCollectibleTx:t=>e({burnCollectibleTx:t}),setBurnCollectibleTxFee:t=>e({burnCollectibleTxFee:t})})})),r.register("jUarv",(function(t,n){e(t.exports,"createMultichainSellCollectibleSlice",(function(){return o}));const i={multichainSellCollectible:void 0},o=e=>Object.assign(Object.assign({},i),{resetMultichainSellCollectible:()=>e(Object.assign({},i)),setMultichainSellCollectible:t=>e({multichainSellCollectible:t})})})),r.register("djAep",(function(t,n){e(t.exports,"createListCollectibleSlice",(function(){return o}));const i={listCollectible:null,listCollectiblePrice:null,editListCollectiblePrice:null,unlistCollectible:null,transactionURL:null},o=e=>Object.assign(Object.assign({},i),{reset:()=>e(Object.assign({},i)),setListCollectible:t=>e({listCollectible:t}),setListPrice:t=>e({listCollectiblePrice:t}),setEditListPrice:t=>e({editListCollectiblePrice:t}),setUnlistCollectible:t=>e({unlistCollectible:t}),setTransactionURL:t=>e({transactionURL:t})})})),r.register("c2Vpe",(function(t,n){e(t.exports,"createMultichainListCollectibleSlice",(function(){return o}));const i={multichainListCollectible:null,multichainListCollectiblePrice:null,editMultichainListCollectiblePrice:null,unlistMultichainCollectible:null,multichainTransactionURL:null},o=e=>Object.assign(Object.assign({},i),{reset:()=>e(Object.assign({},i)),setMultichainListCollectible:t=>e({multichainListCollectible:t}),setMultichainListPrice:t=>e({multichainListCollectiblePrice:t}),setEditMultichainListPrice:t=>e({editMultichainListCollectiblePrice:t}),setUnlistMultichainCollectible:t=>e({unlistMultichainCollectible:t}),setMultichainTransactionURL:t=>e({multichainTransactionURL:t})})})),r.register("g1bWQ",(function(t,n){e(t.exports,"createSendCollectibleSlice",(function(){return o}));const i={collectible:void 0,sendFormValues:r("gYh0e").DEFAULT_SEND_FORM_VALUES,shouldRequireAmount:!1},o=e=>Object.assign(Object.assign({},i),{resetSendSlice:()=>{e(Object.assign({},i))},setSendCollectible:t=>{e({collectible:t})},setSendFormValues:t=>{e({sendFormValues:t})},setShouldRequireAmount:t=>{e({shouldRequireAmount:t})}})})),r.register("23Mwl",(function(t,n){e(t.exports,"useEditListCollectible",(function(){return d}),(function(e){return d=e}));var i=r("8kIyR"),o=r("3fvLJ"),s=r("lDSNw"),c=r("cMKSX"),a=r("jUd0W"),l=r("6rT8n").Buffer,u=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const d=()=>{const e=(0,c.useListCollectibleStore)((e=>e.listCollectible)),t=(0,c.useListCollectibleStore)((e=>e.editListCollectiblePrice)),[n,r]=(0,s.useState)(),[d,f]=(0,s.useState)(!1),[p,h]=(0,s.useState)();return{editList:(0,s.useCallback)(((n,s,c)=>u(void 0,void 0,void 0,(function*(){if(r(void 0),f(!0),!e||!t)return r(new Error("missing collectible or price")),void f(!1);try{const u=new URLSearchParams;u.set("pubKey",c.toBase58()),u.set("mint",e.asset.mintPubKey),u.set("account",e.asset.pubkey),u.set("quotePrice",`${(0,a.solanaToLamports)(t)}`),u.set("marketplace","magic_eden");const d=(0,a.getTokenListNetworkIDByCluster)(s);u.set("chainId",d.toString());const p=`${n}/solana/composer/v1/list?${u.toString()}`,m=(yield i.rb.retry(3,2e3).get(p)).data,b=o.Transaction.from(l.from(m.transaction,"base64"));(0,a.performNotaryCheck)(b)?h(b):r(new Error("Failed to initialize transaction")),f(!1)}catch(e){console.error(e),r(new Error("Failed to initialize transaction")),f(!1)}}))),[e,t]),isLoading:d,error:n,transaction:p}}})),r.register("cMKSX",(function(n,i){e(n.exports,"useListCollectibleStore",(function(){return c}));var o=r("9xrNA");const s={listCollectible:null,listCollectiblePrice:null,editListCollectiblePrice:null,unlistCollectible:null,transactionURL:null},c=t(o)((e=>Object.assign(Object.assign({},s),{reset:()=>e(Object.assign({},s)),setListCollectible:t=>e({listCollectible:t}),setListPrice:t=>e({listCollectiblePrice:t}),setEditListPrice:t=>e({editListCollectiblePrice:t}),setUnlistCollectible:t=>e({unlistCollectible:t}),setTransactionURL:t=>e({transactionURL:t})})))})),r.register("lVdSz",(function(t,n){e(t.exports,"useListCollectible",(function(){return f}),(function(e){return f=e}));var i=r("8kIyR"),o=r("3fvLJ"),s=r("4yY1D"),c=r("lDSNw"),a=r("cMKSX"),l=r("jUd0W"),u=r("6rT8n").Buffer,d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const f=()=>{const e=(0,a.useListCollectibleStore)((e=>e.listCollectible)),t=(0,a.useListCollectibleStore)((e=>e.listCollectiblePrice)),[n,r]=(0,c.useState)(),[f,p]=(0,c.useState)(!1),[h,m]=(0,c.useState)(),b=(0,c.useCallback)(((n,c,a)=>d(void 0,void 0,void 0,(function*(){if(r(void 0),p(!0),!e||!t)return r(new Error("missing collectible or price")),void p(!1);try{const s=new URLSearchParams;s.set("pubKey",a.toBase58()),s.set("mint",e.asset.mintPubKey),s.set("account",e.asset.pubkey),s.set("quotePrice",`${(0,l.solanaToLamports)(t)}`),s.set("marketplace","magic_eden");const d=(0,l.getTokenListNetworkIDByCluster)(c);s.set("chainId",d.toString());const f=`${n}/solana/composer/v1/list?${s.toString()}`,h=(yield i.rb.retry(3,2e3).get(f)).data,b=o.Transaction.from(u.from(h.transaction,"base64"));(0,l.performNotaryCheck)(b)?m(b):r(new Error("Failed to initialize transaction")),p(!1)}catch(e){r(new Error("Failed to initialize transaction")),p(!1),s.telemetry.captureError(e,s.FeatureTag.MagicEden)}}))),[e,t]);return{list:b,isLoading:f,error:n,transaction:h}}})),r.register("3wAcW",(function(t,n){e(t.exports,"useUnlistCollectible",(function(){return f}),(function(e){return f=e}));var i=r("8kIyR"),o=r("3fvLJ"),s=r("4yY1D"),c=r("lDSNw"),a=r("cMKSX"),l=r("jUd0W"),u=r("6rT8n").Buffer,d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const f=()=>{const e=(0,a.useListCollectibleStore)((e=>e.unlistCollectible)),[t,n]=(0,c.useState)(),[r,f]=(0,c.useState)(!1),[p,h]=(0,c.useState)(),m=(0,c.useCallback)(((t,r,c)=>d(void 0,void 0,void 0,(function*(){if(n(void 0),f(!0),!e)return n(new Error("missing collectible")),void f(!1);try{const s=new URLSearchParams;s.set("pubKey",c.toBase58()),s.set("mint",e.asset.mintPubKey),s.set("account",e.asset.pubkey),s.set("marketplace","magic_eden");const a=(0,l.getTokenListNetworkIDByCluster)(r);s.set("chainId",a.toString());const d=`${t}/solana/composer/v1/unlist?${s.toString()}`,p=(yield i.rb.retry(3,2e3).get(d)).data,m=o.Transaction.from(u.from(p.transaction,"base64"));(0,l.performNotaryCheck)(m)?h(m):n(new Error("Failed to initialize transaction")),f(!1)}catch(e){n(new Error("Failed to initialize transaction")),f(!1),s.telemetry.captureError(e,s.FeatureTag.MagicEden)}}))),[e]);return{unlist:m,isLoading:r,error:t,transaction:p}}})),r.register("1nE4p",(function(e,t){r("4yY1D"),r("lDSNw"),r("7tZBy")})),r.register("7tZBy",(function(t,n){e(t.exports,"getBurnTransaction",(function(){return m}),(function(e){return m=e})),e(t.exports,"getBurnTransactionWithPriorityFee",(function(){return b}),(function(e){return b=e}));var i=r("6rT8n"),o=r("ePfNR"),s=r("3fvLJ"),c=r("4raQz"),a=r("3QupD"),l=r("6ouhD"),u=r("8Xw9B"),d=r("kd2w2"),f=r("jUd0W"),p=r("wc4Fj"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const m=(e,t,n,r,c,m,b)=>h(void 0,void 0,void 0,(function*(){const h=new(0,s.Transaction),y=new(0,s.PublicKey)(e),v=yield(0,u.getAssociatedTokenAddress)(y,t);if(null==b?void 0:b.compressed)return(0,p.createCompressedTokenBurnTransaction)({compression:b,mint:e});if(r)return(0,o.createPNFTBurnTX)({senderAddress:t,senderAccount:v,mintAddress:new(0,s.PublicKey)(e)});if(null!==m&&(0,f.isMasterEdition)(m)){const e=i.Buffer.from(y.toBytes()),n=(0,f.getMetadataPDA)(e),r=(0,f.getMasterEditionPDA)(e);let a;if(null!==c){const e=new(0,s.PublicKey)(c),t=i.Buffer.from(e.toBytes());a=(0,f.getCollectionMetadataPDA)(t)}const l={metadata:n,owner:t,mint:y,tokenAccount:v,masterEditionAccount:r,splTokenProgram:d.TOKEN_PROGRAM_ID,collectionMetadata:a},{createBurnNftInstruction:u}=yield(0,o.getMetaplexFoundationDeps)(),p=u(l,o.METADATA_PROGRAM_ID);h.add(p)}else{const e=(0,a.createBurnInstruction)(v,y,t,n),i=(0,l.createCloseAccountInstruction)(v,t,t);h.add(e,i)}return h})),b=(e,t,n,i,o,r,s,a,l)=>h(void 0,void 0,void 0,(function*(){const u=yield m(e,t,n,i,o,r,a),d=(0,c.createConnectionBySolanaNetworkID)(s);u.recentBlockhash=(yield d.getLatestBlockhash("confirmed")).blockhash,u.feePayer=t;const f=yield l.addPriorityFee(u,{connection:d}),p=yield(0,c.estimateFeeFromMessages)(s,[f.compileMessage()]);return{burnTxWithPriority:f,networkFeeUiAmount:(0,c.getSolanaNetworkFeeUiAmount)(p)}}))})),r.register("3QupD",(function(t,n){e(t.exports,"createBurnInstruction",(function(){return f}));var i=r("25lQ2"),o=r("dMpk2"),s=r("csgS8"),c=r("kd2w2"),a=(r("fsc3I"),r("a3Wet")),l=r("3WlUK"),u=r("6rT8n").Buffer;const d=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]);function f(e,t,n,i,o=[],r=c.TOKEN_PROGRAM_ID){const f=(0,a.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,o),p=u.alloc(d.span);return d.encode({instruction:l.TokenInstruction.Burn,amount:BigInt(i)},p),new(0,s.TransactionInstruction)({keys:f,programId:r,data:p})}})),r.register("wc4Fj",(function(t,n){e(t.exports,"createCompressedTokenBurnTransaction",(function(){return l}),(function(e){return l=e}));var i=r("belzv"),o=r("bpTD2"),s=r("3fvLJ"),c=r("bMlPg"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};function l(e){return a(this,void 0,void 0,(function*(){const{mint:t}=e,n=new(0,s.Transaction),a=(0,o.getAPIEnvironment)(),l=yield(0,c.getCompressionProof)({apiEnv:a,networkID:i.SolanaNetworkID.Mainnet,mintAddress:t}),{createCompressedNftBurnIX:u}=yield Promise.resolve(r("ePfNR"));return n.add(yield u(Object.assign(Object.assign({},e),l))),n}))}})),r.register("3jnnc",(function(n,i){e(n.exports,"useTokenAccountMinBalance",(function(){return b}),(function(e){return b=e}));var o=r("lNRH9"),s=r("3yHS8"),c=r("hpPIR"),a=r("jUd0W"),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function c(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))};const u="token-account-min-balances",d=c.struct([c.blob(32,"mint"),c.blob(32,"owner"),c.nu64("amount"),c.blob(93)]),f=(c.struct([c.blob(44),c.u8("decimals"),c.blob(37)]),c.struct([c.blob(679)])),p=c.struct([c.u8("edition"),c.blob(281)]),h=e=>l(void 0,void 0,void 0,(function*(){return e.getMinimumBalanceForRentExemption(d.span).then(t(s))})),m=e=>l(void 0,void 0,void 0,(function*(){return t(s)((yield e.getMinimumBalanceForRentExemption(f.span))+(yield e.getMinimumBalanceForRentExemption(p.span))+(yield e.getMinimumBalanceForRentExemption(d.span)))}));function b({tokenEdition:e,connection:n}){const i=[u,{tokenEdition:e}];return(0,o.useQuery)({queryKey:i,queryFn:()=>l(this,void 0,void 0,(function*(){return n?null!==e&&(0,a.isMasterEdition)(e)?m(n):h(n):t(s)(0)}))})}})),r.register("5oTKS",(function(t,n){e(t.exports,"useCollectibleMediaURI",(function(){return o})),e(t.exports,"parseCollectibleMediaURI",(function(){return s}));var i=r("lDSNw");const o=(e,t,n=!1,o)=>(0,i.useMemo)((()=>{if(e)return s({collectibleMedia:e,isImageAnimationEnabled:n,previewSize:null!=o?o:"medium",mediaTypeOverride:t})}),[e,t,n,o]),s=({collectibleMedia:e,isImageAnimationEnabled:t,previewSize:n,mediaTypeOverride:i})=>{var o,r;const s=null!=i?i:e.type;if(("image"===s||"other"===s)&&(null===(o=e.previews)||void 0===o?void 0:o[n])){const i=t?"":`${"medium"===n?"=":"-"}k`;return`${e.previews[n]}${i}`}return null===(r=e[s])||void 0===r?void 0:r.url}})),r.register("gu4Q0",(function(t,n){e(t.exports,"useCollectionMediaUri",(function(){return s}));var i=r("lDSNw"),o=r("5oTKS");const s=e=>(0,i.useMemo)((()=>c(e)),[e]),c=(e,t="small")=>{if(!e)return;const{media:n,collection:i}=e;return n?(0,o.parseCollectibleMediaURI)({collectibleMedia:n,isImageAnimationEnabled:false,previewSize:t,mediaTypeOverride:"image"}):i.imageUrl}})),r.register("8DcaC",(function(t,n){e(t.exports,"useCollectionCollectible",(function(){return o}));var i=r("lDSNw");const o=e=>(0,i.useMemo)((()=>{var t;if(e)return null!==(t=(e=>{const{items:t}=e;if(0!==t.length)return t.find((({media:e})=>"image"===(null==e?void 0:e.type)))})(e))&&void 0!==t?t:e.items[0]}),[e])})),r.register("hnVCL",(function(t,n){e(t.exports,"useCollectionItemsCount",(function(){return c}));var i=r("gYh0e"),o=r("lDSNw"),s=r("6mBy8");const c=e=>(0,o.useMemo)((()=>{if(e&&0!==e.items.length)return a(e)}),[e]),a=e=>{const{items:t}=e,{length:n}=t;if(1===n){const[{balance:e="",chainData:n}]=t;if((0,s.isSolanaCollectibleChainData)(n)&&n.standard===i.SPLTokenStandard.SemiFungible){const t=parseInt(e,10);return isNaN(t)?1:t}}return n}})),r.register("hwESz",(function(t,n){e(t.exports,"useOnlyImageCollectibles",(function(){return o}));var i=r("lDSNw");const o=e=>(0,i.useMemo)((()=>e.filter((e=>{var t;return"image"===(null===(t=null==e?void 0:e.media)||void 0===t?void 0:t.type)}))),[e])})),r.register("co0kd",(function(t,n){e(t.exports,"useCollectibleExplorer",(function(){return c}));var i=r("iPvw0"),o=r("lDSNw"),s=r("6mBy8");const c=(e,t)=>(0,o.useMemo)((()=>{var n;if(!e||!t)return;const o=e.chain.id,r=null!==(n=t.explorers[o])&&void 0!==n?n:(0,i.getDefaultExplorerTypeByNetworkID)(o);let c,a;if((0,s.isSolanaCollectibleChainData)(e.chainData))a="address",c=e.chainData.mint;else if((0,s.isEthereumCollectibleChainData)(e.chainData))a="address",c=e.chainData.contract;else{if(!(0,s.isBitcoinCollectibleChainData)(e.chainData))throw new Error(`Unhandled collectible explorer for chain id: ${e.chain.id}`);if(!(0,s.isBitcoinRareSatsCollectibleChainData)(e.chainData))return{name:"Ordinals",url:`https://ordinals.com/inscription/${e.chainData.firstCreatedInscriptionId}`};{const{hash:t,index:n}=e.chainData.utxoDetails;a="transaction",c=`${t}#flow=&vout=${n}`}}if(!c)return;const l=(0,i.generateExplorerUrl)({networkID:o,endpoint:a,explorerType:r,param:c});return l?{name:i.SUPPORTED_EXPLORER_NAMES[r],url:l}:void 0}),[e,t])})),r.register("dWJJA",(function(t,n){e(t.exports,"useDedupeCollectibles",(function(){return o}));var i=r("lDSNw");const o=e=>(0,i.useMemo)((()=>{const t=new Set;return e.filter((e=>{var n,i;if(!(null===(i=null===(n=null==e?void 0:e.media)||void 0===n?void 0:n.image)||void 0===i?void 0:i.url))return!1;const{url:o}=e.media.image;return!t.has(o)&&(t.add(o),!0)}))}),[e])})),r.register("5fSu3",(function(t,n){e(t.exports,"useCollectibleChainSpecificInfoSection",(function(){return a}));var i=r("lMzyG"),o=r("4y59b"),s=r("lDSNw"),c=r("6mBy8");const a=e=>{const{t:t}=(0,i.useTranslation)();return(0,s.useMemo)((()=>{var n;const i=[];if(!e)return;const r=e.chainData;if((0,c.isBitcoinCollectibleChainData)(r)){const{outputValue:e,satNumber:s,satName:c,inscriptionId:a,inscriptionNumber:u,protocolName:d,createdAt:f,utxoDetails:p}=r,h=t(a?"collectibleDetailOrdinalInfo":"collectibleDetailRareSatsInfo");let m;return e?m=parseFloat(e).toLocaleString():p&&(m=p.value.toLocaleString()),i.push(m?{label:t("collectibleDetailSatsInUtxo"),value:null!==(n=t("collectibleDetailSatsInUtxoValue",{satsInUtxo:m}))&&void 0!==n?n:void 0}:null),i.push(s?{label:t("collectibleDetailSatNumber"),value:s}:null),i.push(c?{label:t("collectibleDetailSatName"),value:c}:null),i.push(a?{label:t("collectibleDetailInscriptionId"),value:(0,o.ellipsize)(a,5,3)}:null),i.push(u?{label:t("collectibleDetailInscriptionNumber"),value:u}:null),i.push(d?{label:t("collectibleDetailStandard"),value:null==d?void 0:d.toUpperCase()}:null),i.push(f?{label:t("collectibleDetailCreated"),value:l(new Date(f))}:null),{label:h,items:i.filter(o.nonNullable)}}}),[e,t])};function l(e){return`${e.toLocaleDateString(void 0,{month:"numeric",day:"numeric",year:"numeric"})} ${e.toLocaleTimeString()}`}})),r.register("cutgY",(function(t,n){e(t.exports,"useCollectibleCTABar",(function(){return a}));var i=r("lMzyG"),o=r("lDSNw");const s=()=>{},c=new Map([["send",1],["list",2],["pin",3],["unpin",4],["share",5],["setAsAvatar",6],["saveToLibrary",7],["hide",8],["reportAsSpam",9],["reportAsNotSpam",10],["burnToken",11],["viewOnExplorer",12]]);function a(e){const{amountToBurn:t=0,explorerName:n,isBurnable:r,isHidden:a,isPinned:l,isSpam:u,onBurnToken:d,onList:f,onReportNotSpam:p,onReportSpam:h,onSaveToLibrary:m,onSend:b,onSetAsAvatar:y,onShare:v,onToggleHide:g,onTogglePin:S,onViewOnExplorer:C,shortcuts:w,shouldDisplaySend:x,shouldDisplayShortcuts:I,shouldDisplayListOnSolana:E}=e,{t:k}=(0,i.useTranslation)();return(0,o.useMemo)((()=>{const e=[];if(x&&e.push({text:k("commandSend"),type:"send",onClick:null!=b?b:s}),E&&e.push({text:k("collectibleDetailList"),type:"list",onClick:f}),m&&e.push({text:k("assetDetailSaveToPhotos"),singleWordAltText:k("commandSave"),type:"saveToLibrary",menuOnly:!0,onClick:null!=m?m:s}),y&&!u&&e.push({text:k("collectibleDetailSetAsAvatar"),singleWordAltText:k("collectibleDetailSetAsAvatarSingleWorkAlt"),type:"setAsAvatar",menuOnly:!0,onClick:null!=y?y:s}),v&&e.push({text:k("collectibleDetailShare"),singleWordAltText:k("commandShare"),type:"share",menuOnly:!0,onClick:null!=v?v:s}),S){const t=k(l?"assetDetailUnpinCollection":"assetDetailPinCollection"),n=k(l?"commandUnpin":"commandPin"),i=l?"unpin":"pin";e.push({text:t,singleWordAltText:n,type:i,menuOnly:!0,onClick:null!=S?S:s})}if(g){const t=k(a?"assetDetailUnhideCollection":"assetDetailHideCollection"),n=k(a?"commandUnhide":"commandHide"),i=a?"unhide":"hide";e.push({text:t,singleWordAltText:n,type:i,menuOnly:!0,onClick:null!=g?g:s})}if(p){const t=k("collectiblesReportAsNotSpam");e.push({text:t,type:"reportAsNotSpam",singleWordAltText:k("collectiblesReportNotSpam"),menuOnly:!0,isDestructive:!0,onClick:p})}if(h){const t=k("collectiblesReportAsSpam");e.push({text:t,type:"reportAsSpam",singleWordAltText:k("commandReport"),menuOnly:!0,isDestructive:!0,onClick:h})}if(r){const n=k(1===t?"collectibleBurnTitleWithCount_one":"collectibleBurnTitleWithCount_other");e.push({text:n,singleWordAltText:k("commandBurn"),type:"burnToken",menuOnly:!0,isDestructive:!0,onClick:null!=d?d:s})}return!!C&&!!n&&e.push({text:k("assetDetailViewOnExplorer",{explorer:n}),singleWordAltText:k("commandView"),type:"viewOnExplorer",menuOnly:!0,onClick:null!=C?C:s}),e.sort(((e,t)=>{var n,i;return(null!==(n=c.get(e.type))&&void 0!==n?n:100)-(null!==(i=c.get(t.type))&&void 0!==i?i:100)})),{actions:e,shortcuts:I?w:[]}}),[t,n,r,a,l,u,d,f,p,h,m,b,y,v,g,S,C,w,x,I,E,k])}})),r.register("iWlVm",(function(t,n){e(t.exports,"getInstantSellError",(function(){return o}));var i=r("1rtKv");const o=({t:e,apiErrors:t,clientErrors:n})=>{var o,r,s;const c={title:e("collectiblesSellStatusErrorTitle"),subtitle:e("collectiblesSellStatusErrorSubtitle")};return t.isSellErrorCode?1===(null===(o=null==t?void 0:t.sellStepsError)||void 0===o?void 0:o.code)?{title:e("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:e("collectiblesSellRecentlyTransferedNFTSubtitle")}:3===(null===(r=null==t?void 0:t.sellStepsError)||void 0===r?void 0:r.code)||9===(null===(s=null==t?void 0:t.sellStepsError)||void 0===s?void 0:s.code)?{title:e("collectiblesSellNotAvailableAnymoreTitle"),subtitle:e("collectiblesSellNotAvailableAnymoreSubtitle")}:c:n.hasEnoughGas?n.executeSellError?n.executeSellError.message===i.StepsFromDifferentBidErrorMessage?{title:e("collectiblesSellNotAvailableAnymoreTitle"),subtitle:e("collectiblesSellNotAvailableAnymoreSubtitle")}:c:null:{title:e("collectiblesSellInsufficientFundsTitle"),subtitle:e("collectiblesSellInsufficientFundsSubtitle")}}})),r.register("5LNwS",(function(t,n){e(t.exports,"isCollectibleSemiFungible",(function(){return s}));var i=r("gYh0e"),o=r("6mBy8");const s=e=>(0,o.isEthereumCollectibleChainData)(e)?e.standard===i.ERCTokenStandard.ERC1155:!!(0,o.isSolanaCollectibleChainData)(e)&&e.standard===i.SPLTokenStandard.SemiFungible})),r.register("7zM7w",(function(e,t){})),r.register("hWcS7",(function(t,n){e(t.exports,"createTransferPendingTransactionInput",(function(){return c}));var i=r("belzv"),o=r("4chX7"),s=r("4raQz");const c=(e,t,n,r,c,a,l)=>{if(i.Chains.isEVMNetworkID(e)){const i=s.ESTIMATED_EVM_CONFIRMATION_TIMES_SEC[e][null!=t?t:s.TransactionSpeed.standard];return{ownerAddress:n.address,networkID:e,data:{hash:"",nonce:"",unsignedTransaction:o.EthUnsignedTransactionObject.parse({from:n.address}),estimatedTimeToMineInSeconds:i},type:s.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${l("transactionsPendingSending")} ${a} ${r}`},bottomLeft:{label:`${l("transactionsToParagraphInterpolated",{to:c})}`}},detail:{header:`${a} ${r}`,uiRecipient:c}}}}if(i.Chains.isSolanaNetworkID(e))return{ownerAddress:n.address,networkID:e,data:{signature:""},type:s.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${l("transactionsPendingSending")} ${a} ${r}`},bottomLeft:{label:`${l("transactionsToParagraphInterpolated",{to:c})}`}}}};if(i.Chains.isBitcoinNetworkID(e))return{ownerAddress:n.address,networkID:e,data:{txID:""},type:s.PendingTransactionType.Send,display:{summary:{topLeft:{label:`${l("transactionsPendingSending")} ${a} ${r}`},bottomLeft:{label:`${l("transactionsToParagraphInterpolated",{to:c})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${e}}`)}})),r.register("2MJfL",(function(t,n){e(t.exports,"selectBestCollectionName",(function(){return o}));var i=r("4y59b");const o=(e,t)=>{if(e.name&&e.name.length>0)return e.name;if(e.externalUrl){const t=(0,i.formatURL)({url:e.externalUrl,format:"domain"});if(t)return t}if(null==t?void 0:t.name){const e=t.name.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim();if(e)return e}return(null==t?void 0:t.symbol)?t.symbol:void 0}})),r.register("cvjjI",(function(t,n){e(t.exports,"convertCollectibleToSPLTokenAccount",(function(){return o}));var i=r("6mBy8");const o=(e,t)=>{var n,o,r,s,c,a,l,u,d;if((0,i.isSolanaCollectibleChainData)(e.chainData))return{standard:e.chainData.standard,pubkey:e.chainData.tokenAccount,mintPubKey:e.chainData.mint,ownerPubKey:t,decimals:parseInt(null!==(n=e.decimals)&&void 0!==n?n:"0",10),amount:null!==(o=e.balance)&&void 0!==o?o:"0",delegate:null,delegatedAmount:"",logoURI:null,name:null!==(r=e.name)&&void 0!==r?r:null,symbol:null!==(s=e.symbol)&&void 0!==s?s:null,coingeckoId:null,state:"initialized",collectionPubKey:e.collection.id,uses:null,creators:[],uri:null!==(c=e.uri)&&void 0!==c?c:"",collectionName:null!==(a=e.collection.name)&&void 0!==a?a:void 0,collectibleImage:null!==(d=null===(u=null===(l=e.media)||void 0===l?void 0:l.previews)||void 0===u?void 0:u.medium)&&void 0!==d?d:void 0}}})),r.register("dmL5l",(function(n,i){e(n.exports,"formatCount",(function(){return s}));var o=r("2MVjM");const s=e=>e>1e6?">1M":e<1e4?t(o)(e).format("0,0.[000]"):t(o)(e).format("0.[0]a").toUpperCase()})),r.register("5HIWD",(function(e,t){})),r.register("5Gl9R",(function(t,n){e(t.exports,"createListingAnalytics",(function(){return o}));var i=r("9ktGj");const o=e=>new(0,i.SequenceAnalytics)(e,"list")})),r.register("57tHH",(function(t,n){e(t.exports,"CollectiblesSdk",(function(){return r("7i1Dr").CollectiblesSdk}));r("7i1Dr")})),r.register("7i1Dr",(function(t,n){e(t.exports,"CollectiblesSdk",(function(){return a}));var i=r("belzv"),o=r("aOP0x"),s=r("7eYRZ"),c=r("8eMaJ");class a extends i.Sdk{constructor(e=!1){super(),this.registry.register(i.Chain.Solana,(0,c.createSolanaSDK)(e)),this.registry.register(i.Chain.Ethereum,s.evmSdk),this.registry.register(i.Chain.Polygon,s.evmSdk),this.registry.register(i.Chain.Bitcoin,o.bitcoinSdk)}}})),r.register("aOP0x",(function(n,i){e(n.exports,"bitcoinSdk",(function(){return f}));var o=r("belzv"),s=r("lMzyG"),c=r("4y59b"),a=r("3yHS8"),l=r("gIkRw"),u=r("6mBy8");const d="#F7931A",f={sendSuccessCondition:l.SendSuccessCondition.SUBMISSION,displayFeeTooltip:!0,collectibleDetailPrecision:7,onBeforeSend:e=>e.multichainTransaction,collectibleDetailCtaBanner:(e,n)=>{var i;const r=e.chainData;if((0,u.isBitcoinRareSatsCollectibleChainData)(r)&&n){const e=new(t(a))(null!==(i=r.utxoDetails.value)&&void 0!==i?i:0);if(e.lte(5e4))return;const l=Object.values(r.utxoDetails.satributes).reduce(((e,{count:t})=>e+t),0),u=(0,c.amountToUiAmount)(l,o.Chains.bitcoin.tokenDecimals),f=(0,c.amountToUiAmount)(e,o.Chains.bitcoin.tokenDecimals),p=(0,c.formatDollarAmount)(f.minus(u).times(n));return{title:s.i18next.t("collectibleDetailUtxoSplitterCtaTitle"),subtitle:s.i18next.t("collectibleDetailUtxoSplitterCtaSubtitle",{value:p}),iconFill:d,modal:{title:s.i18next.t("collectibleDetailUtxoSplitterModalCtaTitle"),subtitle:s.i18next.t("collectibleDetailUtxoSplitterModalCtaSubtitle",{value:p}),buttonText:s.i18next.t("collectibleDetailUtxoSplitterModalCtaButton"),uri:"https://help.magiceden.io/en/articles/8450002-mastering-utxo-management-extracting-splitting-sats-on-magic-eden-bitcoin",iconFill:d}}}}}})),r.register("7eYRZ",(function(t,n){e(t.exports,"evmSdk",(function(){return o}));var i=r("4raQz");const o={sendSuccessCondition:r("gIkRw").SendSuccessCondition.CONFIRMATION,displayFeeTooltip:!0,collectibleDetailPrecision:5,collectibleDetailCtaBanner:void 0,onBeforeSend({multichainTransaction:e,gasEstimation:t}){if(!(0,i.isEvmTransaction)(e))throw new Error("MultichainTransaction is not of type EVM");if(!t||!(0,i.isEthereumGasEstimation)(t))throw new Error("No gas estimation found");return(0,i.applyEvmGasEstimation)(e,t)}}})),r.register("8eMaJ",(function(t,n){e(t.exports,"createSolanaSDK",(function(){return o}));var i=r("gIkRw");const o=(e=!1)=>({sendSuccessCondition:i.SendSuccessCondition.CONFIRMATION,displayFeeTooltip:!0,collectibleDetailPrecision:5,collectibleDetailCtaBanner:void 0,onBeforeSend:({multichainTransaction:e})=>e})}));
//# sourceMappingURL=collectibles.4fd9b29c.js.map
define=__define;})(window.define);